🚀 Starting Batch Lesson Script Execution
============================================================
⏭️  SKIP EXISTING MODE - Will skip lessons that already exist

✅ Found 24 lesson creation scripts
   - create_a_day_in_the_life_exploring_daily_routines_in_japan_lesson.py
   - create_comprehensive_multimedia_lesson.py
   - create_decoding_japanese_pop_culture_anime_manga_terminology_lesson.py
   - create_decoding_japanese_youth_culture_trends_and_tech_lesson.py
   - create_delicious_discoveries_exploring_japanese_food_culture_and_cooking_vocabulary_lesson.py
   - create_dining_out_in_japan_from_ramen_shops_to_fancy_restaurants_lesson.py
   - create_exploring_japans_vibrant_matsuri_a_journey_through_festive_traditions_lesson.py
   - create_exploring_the_mystical_world_of_japanese_folklore_lesson.py
   - create_exploring_traditional_japanese_arts_a_journey_through_craftsmanship_lesson.py
   - create_japanese_cities_lesson.py
   - create_japanese_cuisine_lesson.py
   - create_japanese_festivals_lesson.py
   - create_konbini_kingdom_mastering_the_japanese_convenience_store_lesson.py
   - create_navigating_the_japanese_web_decoding_internet_slang_and_social_media_lesson.py
   - create_navigating_the_japanese_workplace_essential_business_etiquette_lesson.py
   - create_protecting_our_planet_environmental_issues_and_sustainability_in_japan_地球を守ろう日本の環境問題と持続可能性_lesson.py
   - create_relax_and_rejuvenate_a_journey_into_japanese_onsen_culture_lesson.py
   - create_riding_the_rails_and_roads_japanese_public_transport_etiquette_lesson.py
   - create_stylish_japan_navigating_fashion_and_shopping_culture_lesson.py
   - create_travel_japanese_lesson.py
   - create_traveling_in_japan_practical_survival_phrases_lesson.py
   - create_unlocking_japanese_wisdom_idioms_and_proverbs_lesson.py
   - create_visiting_sacred_spaces_a_guide_to_japanese_temples_and_shrines_lesson.py
   - create_四季の彩り_appreciating_japans_vibrant_seasons_shiki_no_irodori_lesson.py

--- [1/24] Processing: create_a_day_in_the_life_exploring_daily_routines_in_japan_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  📚 Lesson 'A Day in the Life: Exploring Daily Routines in Japan' already exists in database (ID: 7)
⏭️  Skipping create_a_day_in_the_life_exploring_daily_routines_in_japan_lesson.py (lesson already exists)
⏳ Waiting 3 seconds before next execution...

--- [2/24] Processing: create_comprehensive_multimedia_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  ⚠️  Could not extract lesson title from create_comprehensive_multimedia_lesson.py
🎯 Executing: create_comprehensive_multimedia_lesson.py
   🍵 Comprehensive Japanese Tea Ceremony Multimedia Lesson Creator
   ======================================================================
   
   This lesson demonstrates ALL multimedia content types:
   ✓ Rich HTML text content with cultural explanations
   ✓ AI-generated images for visual learning
   ✓ Multiple choice interactive questions
   ✓ True/false knowledge checks
   ✓ Fill-in-the-blank vocabulary practice
   ✓ Cultural context and modern applications
   ✓ Seasonal awareness and philosophy
   ✓ Comprehensive vocabulary and terminology
   
   🍵 Creating Comprehensive Japanese Tea Ceremony Lesson
   ============================================================
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   Creating multimedia lesson: 茶道 - The Art of Japanese Tea Ceremony
   Multimedia analysis completed: 4 image suggestions
   Creating page 1: 茶道の心 - The Spirit of Tea Ceremony
   Generating AI image for page 1...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   ✅ Image generated and saved: lessons/image/lesson_24/ai_generated_page_1_20250722_225028.png
   Creating interactive content for page 1...
   ✅ Interactive content created
   Creating page 2: 茶道の言葉 - Tea Ceremony Vocabulary
   Generating AI image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   ✅ Image generated and saved: lessons/image/lesson_24/ai_generated_page_2_20250722_225149.png
   Creating interactive content for page 2...
   ✅ Interactive content created
   Creating page 3: 茶室 - The Sacred Space of Tea
   Generating AI image for page 3...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   ✅ Image generated and saved: lessons/image/lesson_24/ai_generated_page_3_20250722_225304.png
   Creating interactive content for page 3...
   ✅ Interactive content created
   Creating page 4: 茶道具 - The Sacred Tools
   Generating AI image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   ✅ Image generated and saved: lessons/image/lesson_24/ai_generated_page_4_20250722_225423.png
   Creating interactive content for page 4...
   ✅ Interactive content created
   Creating page 5: 点前 - The Art of Preparation
   Generating AI image for page 5...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   ✅ Image generated and saved: lessons/image/lesson_24/ai_generated_page_5_20250722_225547.png
   Creating interactive content for page 5...
   ✅ Interactive content created
   Creating page 6: 季節感 - Seasonal Awareness in Tea
   Generating AI image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 400 Bad Request"
   ERROR:app:Failed to generate image: Error code: 400 - {'error': {'message': "Invalid 'prompt': string too long. Expected a string with maximum length 4000, but got a string with length 4342 instead.", 'type': 'invalid_request_error', 'param': 'prompt', 'code': 'string_above_max_length'}}
   ❌ Image generation failed: Error code: 400 - {'error': {'message': "Invalid 'prompt': string too long. Expected a string with maximum length 4000, but got a string with length 4342 instead.", 'type': 'invalid_request_error', 'param': 'prompt', 'code': 'string_above_max_length'}}
   Creating interactive content for page 6...
   ✅ Interactive content created
   Creating page 7: 現代の茶道 - Tea Ceremony Today
   Generating AI image for page 7...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   ✅ Image generated and saved: lessons/image/lesson_24/ai_generated_page_7_20250722_225818.png
   Creating interactive content for page 7...
   ✅ Interactive content created
   Generating lesson summary images...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   ✅ Lesson summary image generated and set as thumbnail
   ✅ Multimedia lesson created successfully: ID 24
   
   🎉 Comprehensive Tea Ceremony Lesson Created Successfully!
   Lesson ID: 24
   Title: 茶道 - The Art of Japanese Tea Ceremony
   Description: Discover the profound beauty and cultural significance of the Japanese tea ceremony through this comprehensive multimedia experience. Learn about the philosophy, tools, procedures, and cultural context of this ancient art form.
   Difficulty: 3
   ❌ Error creating comprehensive lesson: Parent instance <Lesson at 0x27c4358a660> is not bound to a Session; lazy load operation of attribute 'category' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
   ❌ Failed to create the comprehensive lesson.
   Please check the error messages above for details.
✅ Success: create_comprehensive_multimedia_lesson.py (618.7s)
   Last output lines:
   ❌ Error creating comprehensive lesson: Parent instance <Lesson at 0x27c4358a660> is not bound to a Session; lazy load operation of attribute 'category' cannot proceed (Background on this error at: https://sqlalche.me/e/20/bhk3)
   ❌ Failed to create the comprehensive lesson.
      Please check the error messages above for details.
⏳ Waiting 3 seconds before next execution...

--- [3/24] Processing: create_decoding_japanese_pop_culture_anime_manga_terminology_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Decoding Japanese Pop Culture: Anime & Manga Terminology' not found in database - will create
🎯 Executing: create_decoding_japanese_pop_culture_anime_manga_terminology_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Decoding Japanese Pop Culture: Anime & Manga Terminology ---
   ✅ Lesson 'Decoding Japanese Pop Culture: Anime & Manga Terminology' created with ID: 25
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-YjTI7YUztThoOz9bIMQG42zC.png?st=2025-07-22T20%3A00%3A16Z&se=2025-07-22T22%3A00%3A16Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A46%3A59Z&ske=2025-07-23T08%3A46%3A59Z&sks=b&skv=2024-08-04&sig=/AachdyLgqLcsan5zG9Uyi2lLGgL6SMVmH0UQDzsNEI%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-YjTI7YUztThoOz9bIMQG42zC.png?st=2025-07-22T20%3A00%3A16Z&se=2025-07-22T22%3A00%3A16Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A46%3A59Z&ske=2025-07-23T08%3A46%3A59Z&sks=b&skv=2024-08-04&sig=/AachdyLgqLcsan5zG9Uyi2lLGgL6SMVmH0UQDzsNEI%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_25_background_20250722_230012_ca88ae09.png
   ✅ Background image added to lesson 'Decoding Japanese Pop Culture: Anime & Manga Terminology'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-WSj0t8eC7WZPzFvltZKFRvIN.png?st=2025-07-22T20%3A00%3A36Z&se=2025-07-22T22%3A00%3A36Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A00%3A36Z&ske=2025-07-23T21%3A00%3A36Z&sks=b&skv=2024-08-04&sig=YP2nBRJFkE0AYtH16EqSVKjQJkl%2B5y6u%2BWEv3vM8vLI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-WSj0t8eC7WZPzFvltZKFRvIN.png?st=2025-07-22T20%3A00%3A36Z&se=2025-07-22T22%3A00%3A36Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A00%3A36Z&ske=2025-07-23T21%3A00%3A36Z&sks=b&skv=2024-08-04&sig=YP2nBRJFkE0AYtH16EqSVKjQJkl%2B5y6u%2BWEv3vM8vLI%3D
   ✅ Image saved to: lessons/image/lesson_25/onomatopoeia_page_1_20250722_230033_5705c563.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Genre Guide - ジャンルガイド (Janru Gaido) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ryqKKbjdwiP6wvWIHpMuC9ar.png?st=2025-07-22T20%3A01%3A47Z&se=2025-07-22T22%3A01%3A47Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T04%3A30%3A53Z&ske=2025-07-23T04%3A30%3A53Z&sks=b&skv=2024-08-04&sig=OqSCuMgoRsgMOj0v9Xzgq%2BM%2BFhpRReCC/NHbbECQruU%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ryqKKbjdwiP6wvWIHpMuC9ar.png?st=2025-07-22T20%3A01%3A47Z&se=2025-07-22T22%3A01%3A47Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T04%3A30%3A53Z&ske=2025-07-23T04%3A30%3A53Z&sks=b&skv=2024-08-04&sig=OqSCuMgoRsgMOj0v9Xzgq%2BM%2BFhpRReCC/NHbbECQruU%3D
   ✅ Image saved to: lessons/image/lesson_25/onomatopoeia_page_2_20250722_230143_3b8554f1.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Genre Guide - ジャンルガイド (Janru Gaido)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Genre Guide - ジャンルガイド (Janru Gaido) ---
   🤖 Generating batch quiz questions for Genre Guide - ジャンルガイド (Janru Gaido)...
   ✅ Generated 5 quiz questions in batch for Genre Guide - ジャンルガイド (Janru Gaido)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Character Archetypes - キャラクターの類型 (Kyarakutā no Ruikei) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-XTRW2kuLpFq3Oy6J7hTTmu01.png?st=2025-07-22T20%3A03%3A48Z&se=2025-07-22T22%3A03%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T11%3A15%3A13Z&ske=2025-07-23T11%3A15%3A13Z&sks=b&skv=2024-08-04&sig=ELNn8EIJH%2BmKGyRQZLYmiOQgZJq7snHlfGGZpaHzwVg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-XTRW2kuLpFq3Oy6J7hTTmu01.png?st=2025-07-22T20%3A03%3A48Z&se=2025-07-22T22%3A03%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T11%3A15%3A13Z&ske=2025-07-23T11%3A15%3A13Z&sks=b&skv=2024-08-04&sig=ELNn8EIJH%2BmKGyRQZLYmiOQgZJq7snHlfGGZpaHzwVg%3D
   ✅ Image saved to: lessons/image/lesson_25/onomatopoeia_page_4_20250722_230344_cd63379e.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Character Archetypes - キャラクターの類型 (Kyarakutā no Ruikei)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Character Archetypes - キャラクターの類型 (Kyarakutā no Ruikei) ---
   🤖 Generating batch quiz questions for Character Archetypes - キャラクターの類型 (Kyarakutā no Ruikei)...
   ✅ Generated 5 quiz questions in batch for Character Archetypes - キャラクターの類型 (Kyarakutā no Ruikei)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Matching quiz #2...
   ✅ Matching quiz #2 added to quiz page 5.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 5.
   Processing Multiple Choice quiz #4...
   ✅ Multiple Choice quiz #4 added to quiz page 5.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Storytelling Conventions - 物語の慣例 (Monogatari no Kanrei) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ktLQ8OwRsCkYS9jv0Q2Vj4KZ.png?st=2025-07-22T20%3A05%3A33Z&se=2025-07-22T22%3A05%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A38%3A28Z&ske=2025-07-23T18%3A38%3A28Z&sks=b&skv=2024-08-04&sig=RaJcnBFM4M0AoQDPvUPr%2BGoAT6tZYMRWvUWiak0aA7w%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ktLQ8OwRsCkYS9jv0Q2Vj4KZ.png?st=2025-07-22T20%3A05%3A33Z&se=2025-07-22T22%3A05%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A38%3A28Z&ske=2025-07-23T18%3A38%3A28Z&sks=b&skv=2024-08-04&sig=RaJcnBFM4M0AoQDPvUPr%2BGoAT6tZYMRWvUWiak0aA7w%3D
   ✅ Image saved to: lessons/image/lesson_25/onomatopoeia_page_6_20250722_230529_0dbb3882.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Storytelling Conventions - 物語の慣例 (Monogatari no Kanrei)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Storytelling Conventions - 物語の慣例 (Monogatari no Kanrei) ---
   🤖 Generating batch quiz questions for Storytelling Conventions - 物語の慣例 (Monogatari no Kanrei)...
   ✅ Generated 5 quiz questions in batch for Storytelling Conventions - 物語の慣例 (Monogatari no Kanrei)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Industry Terminology - 業界用語 (Gyōkai Yōgo) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-PIgojrkT11Pc62wbpmCLXeJ4.png?st=2025-07-22T20%3A07%3A26Z&se=2025-07-22T22%3A07%3A26Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A27%3A55Z&ske=2025-07-23T02%3A27%3A55Z&sks=b&skv=2024-08-04&sig=ww70X7YpR3Q0o4SPxy0Av9/OzApse1sgpPNslpqrYS4%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-PIgojrkT11Pc62wbpmCLXeJ4.png?st=2025-07-22T20%3A07%3A26Z&se=2025-07-22T22%3A07%3A26Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A27%3A55Z&ske=2025-07-23T02%3A27%3A55Z&sks=b&skv=2024-08-04&sig=ww70X7YpR3Q0o4SPxy0Av9/OzApse1sgpPNslpqrYS4%3D
   ✅ Image saved to: lessons/image/lesson_25/onomatopoeia_page_8_20250722_230722_fe32c788.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Industry Terminology - 業界用語 (Gyōkai Yōgo)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Industry Terminology - 業界用語 (Gyōkai Yōgo) ---
   🤖 Generating batch quiz questions for Industry Terminology - 業界用語 (Gyōkai Yōgo)...
   ✅ Generated 5 quiz questions in batch for Industry Terminology - 業界用語 (Gyōkai Yōgo)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Fandom & Community - ファンダムとコミュニティ (Fandamu to Komyuniti) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-pqg3ywqTIXy97DcEP0uRgFVj.png?st=2025-07-22T20%3A09%3A21Z&se=2025-07-22T22%3A09%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T05%3A40%3A41Z&ske=2025-07-23T05%3A40%3A41Z&sks=b&skv=2024-08-04&sig=8VfxplQ1cmPqQ5AD1P%2BxYZQlFMnB00xfxGioAql9YEk%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-pqg3ywqTIXy97DcEP0uRgFVj.png?st=2025-07-22T20%3A09%3A21Z&se=2025-07-22T22%3A09%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T05%3A40%3A41Z&ske=2025-07-23T05%3A40%3A41Z&sks=b&skv=2024-08-04&sig=8VfxplQ1cmPqQ5AD1P%2BxYZQlFMnB00xfxGioAql9YEk%3D
   ✅ Image saved to: lessons/image/lesson_25/onomatopoeia_page_10_20250722_230918_8a525370.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Fandom & Community - ファンダムとコミュニティ (Fandamu to Komyuniti)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Fandom & Community - ファンダムとコミュニティ (Fandamu to Komyuniti) ---
   🤖 Generating batch quiz questions for Fandom & Community - ファンダムとコミュニティ (Fandamu to Komyuniti)...
   ✅ Generated 5 quiz questions in batch for Fandom & Community - ファンダムとコミュニティ (Fandamu to Komyuniti)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Common Slang & Expressions - よくあるスラングと表現 (Yoku Aru Surangu to Hyōgen) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-YuUTkwGNGRn0ITFLKhX9ta1A.png?st=2025-07-22T20%3A11%3A30Z&se=2025-07-22T22%3A11%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T03%3A52%3A36Z&ske=2025-07-23T03%3A52%3A36Z&sks=b&skv=2024-08-04&sig=sNs4O1Eui8n4RorxcBrOyDkEfxt4g/4A4%2BCigq4kgLk%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-YuUTkwGNGRn0ITFLKhX9ta1A.png?st=2025-07-22T20%3A11%3A30Z&se=2025-07-22T22%3A11%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T03%3A52%3A36Z&ske=2025-07-23T03%3A52%3A36Z&sks=b&skv=2024-08-04&sig=sNs4O1Eui8n4RorxcBrOyDkEfxt4g/4A4%2BCigq4kgLk%3D
   ✅ Image saved to: lessons/image/lesson_25/onomatopoeia_page_12_20250722_231127_4beaeff9.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Common Slang & Expressions - よくあるスラングと表現 (Yoku Aru Surangu to Hyōgen)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Common Slang & Expressions - よくあるスラングと表現 (Yoku Aru Surangu to Hyōgen) ---
   🤖 Generating batch quiz questions for Common Slang & Expressions - よくあるスラングと表現 (Yoku Aru Surangu to Hyōgen)...
   ✅ Generated 5 quiz questions in batch for Common Slang & Expressions - よくあるスラングと表現 (Yoku Aru Surangu to Hyōgen)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Putting it all Together - まとめ (Matome) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-UshUwma2pkpc1Q6MAsz7Jcxj.png?st=2025-07-22T20%3A13%3A17Z&se=2025-07-22T22%3A13%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A04%3A55Z&ske=2025-07-23T17%3A04%3A55Z&sks=b&skv=2024-08-04&sig=KCrTcbqGUhh%2B1K5mAMvpvNw5wKpUCpDBuAw9CK6RoIc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-UshUwma2pkpc1Q6MAsz7Jcxj.png?st=2025-07-22T20%3A13%3A17Z&se=2025-07-22T22%3A13%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A04%3A55Z&ske=2025-07-23T17%3A04%3A55Z&sks=b&skv=2024-08-04&sig=KCrTcbqGUhh%2B1K5mAMvpvNw5wKpUCpDBuAw9CK6RoIc%3D
   ✅ Image saved to: lessons/image/lesson_25/onomatopoeia_page_14_20250722_231314_34610072.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Putting it all Together - まとめ (Matome)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Putting it all Together - まとめ (Matome) ---
   🤖 Generating batch quiz questions for Putting it all Together - まとめ (Matome)...
   ✅ Generated 5 quiz questions in batch for Putting it all Together - まとめ (Matome)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 15.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 15.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Decoding Japanese Pop Culture: Anime & Manga Terminology Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_decoding_japanese_pop_culture_anime_manga_terminology_lesson.py (1034.7s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [4/24] Processing: create_decoding_japanese_youth_culture_trends_and_tech_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  📚 Lesson 'Decoding Japanese Youth Culture: Trends and Tech' already exists in database (ID: 9)
⏭️  Skipping create_decoding_japanese_youth_culture_trends_and_tech_lesson.py (lesson already exists)
⏳ Waiting 3 seconds before next execution...

--- [5/24] Processing: create_delicious_discoveries_exploring_japanese_food_culture_and_cooking_vocabulary_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  📚 Lesson 'Delicious Discoveries: Exploring Japanese Food Culture and Cooking Vocabulary' already exists in database (ID: 18)
⏭️  Skipping create_delicious_discoveries_exploring_japanese_food_culture_and_cooking_vocabulary_lesson.py (lesson already exists)
⏳ Waiting 3 seconds before next execution...

--- [6/24] Processing: create_dining_out_in_japan_from_ramen_shops_to_fancy_restaurants_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Dining Out in Japan: From Ramen Shops to Fancy Restaurants' not found in database - will create
🎯 Executing: create_dining_out_in_japan_from_ramen_shops_to_fancy_restaurants_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Dining Out in Japan: From Ramen Shops to Fancy Restaurants ---
   ✅ Lesson 'Dining Out in Japan: From Ramen Shops to Fancy Restaurants' created with ID: 26
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-8XFACMr1bpqxgDg5WU5rgqkF.png?st=2025-07-22T20%3A17%3A11Z&se=2025-07-22T22%3A17%3A11Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T11%3A03%3A04Z&ske=2025-07-23T11%3A03%3A04Z&sks=b&skv=2024-08-04&sig=I0sKIbTiZRx56wwRBZT%2Bffw8x2ZGZxlT4gYefVBYnxM%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-8XFACMr1bpqxgDg5WU5rgqkF.png?st=2025-07-22T20%3A17%3A11Z&se=2025-07-22T22%3A17%3A11Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T11%3A03%3A04Z&ske=2025-07-23T11%3A03%3A04Z&sks=b&skv=2024-08-04&sig=I0sKIbTiZRx56wwRBZT%2Bffw8x2ZGZxlT4gYefVBYnxM%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_26_background_20250722_231708_623750a1.png
   ✅ Background image added to lesson 'Dining Out in Japan: From Ramen Shops to Fancy Restaurants'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-zODoysNnjYgc4HobQNTENcWk.png?st=2025-07-22T20%3A17%3A34Z&se=2025-07-22T22%3A17%3A34Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A17%3A34Z&ske=2025-07-23T21%3A17%3A34Z&sks=b&skv=2024-08-04&sig=%2BZttqQYbAIQRlystYFE1ODe0Q2R%2B5QOJ/Men9lqfkDo%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-zODoysNnjYgc4HobQNTENcWk.png?st=2025-07-22T20%3A17%3A34Z&se=2025-07-22T22%3A17%3A34Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A17%3A34Z&ske=2025-07-23T21%3A17%3A34Z&sks=b&skv=2024-08-04&sig=%2BZttqQYbAIQRlystYFE1ODe0Q2R%2B5QOJ/Men9lqfkDo%3D
   ✅ Image saved to: lessons/image/lesson_26/onomatopoeia_page_1_20250722_231731_abb56978.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Restaurant Types - レストランの種類 (Resutoran no shurui) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-yKYTgFFna8yH8AtXOUQpJbBq.png?st=2025-07-22T20%3A18%3A20Z&se=2025-07-22T22%3A18%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A12%3A40Z&ske=2025-07-23T09%3A12%3A40Z&sks=b&skv=2024-08-04&sig=A3rryMI2l15wYOBZWMqR5DJGJiiRTUujdtAjQW6mmeI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-yKYTgFFna8yH8AtXOUQpJbBq.png?st=2025-07-22T20%3A18%3A20Z&se=2025-07-22T22%3A18%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A12%3A40Z&ske=2025-07-23T09%3A12%3A40Z&sks=b&skv=2024-08-04&sig=A3rryMI2l15wYOBZWMqR5DJGJiiRTUujdtAjQW6mmeI%3D
   ✅ Image saved to: lessons/image/lesson_26/onomatopoeia_page_2_20250722_231817_d432474f.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Restaurant Types - レストランの種類 (Resutoran no shurui)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Restaurant Types - レストランの種類 (Resutoran no shurui) ---
   🤖 Generating batch quiz questions for Restaurant Types - レストランの種類 (Resutoran no shurui)...
   ✅ Generated 5 quiz questions in batch for Restaurant Types - レストランの種類 (Resutoran no shurui)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Making a Reservation - 予約をする (Yoyaku o suru) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Sfg5VKoAZbHs512migNn8jw6.png?st=2025-07-22T20%3A20%3A12Z&se=2025-07-22T22%3A20%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A26%3A06Z&ske=2025-07-23T12%3A26%3A06Z&sks=b&skv=2024-08-04&sig=bOB/x7nqposVFYQAkDbXA1%2BI/CmAKwO6Nga/kb4xGWQ%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Sfg5VKoAZbHs512migNn8jw6.png?st=2025-07-22T20%3A20%3A12Z&se=2025-07-22T22%3A20%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A26%3A06Z&ske=2025-07-23T12%3A26%3A06Z&sks=b&skv=2024-08-04&sig=bOB/x7nqposVFYQAkDbXA1%2BI/CmAKwO6Nga/kb4xGWQ%3D
   ✅ Image saved to: lessons/image/lesson_26/onomatopoeia_page_4_20250722_232008_c6c9bd6e.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Making a Reservation - 予約をする (Yoyaku o suru)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Making a Reservation - 予約をする (Yoyaku o suru) ---
   🤖 Generating batch quiz questions for Making a Reservation - 予約をする (Yoyaku o suru)...
   ✅ Generated 5 quiz questions in batch for Making a Reservation - 予約をする (Yoyaku o suru)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Ordering Food and Drinks - 注文する (Chūmon suru) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-eauTIGWWEE5AvUu9njizvPC1.png?st=2025-07-22T20%3A21%3A51Z&se=2025-07-22T22%3A21%3A51Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A03%3A17Z&ske=2025-07-23T17%3A03%3A17Z&sks=b&skv=2024-08-04&sig=x7HbBV/46GIOCO7M4FSTSeIP/nx6g/AAwfUsPMgTuk8%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-eauTIGWWEE5AvUu9njizvPC1.png?st=2025-07-22T20%3A21%3A51Z&se=2025-07-22T22%3A21%3A51Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A03%3A17Z&ske=2025-07-23T17%3A03%3A17Z&sks=b&skv=2024-08-04&sig=x7HbBV/46GIOCO7M4FSTSeIP/nx6g/AAwfUsPMgTuk8%3D
   ✅ Image saved to: lessons/image/lesson_26/onomatopoeia_page_6_20250722_232147_a48e45ed.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Ordering Food and Drinks - 注文する (Chūmon suru)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Ordering Food and Drinks - 注文する (Chūmon suru) ---
   🤖 Generating batch quiz questions for Ordering Food and Drinks - 注文する (Chūmon suru)...
   ✅ Generated 5 quiz questions in batch for Ordering Food and Drinks - 注文する (Chūmon suru)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Chopstick Etiquette - 箸の使い方 (Hashi no tsukaikata) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-do8SJyLPSU88SIFoHVQJyXLX.png?st=2025-07-22T20%3A23%3A33Z&se=2025-07-22T22%3A23%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A24%3A32Z&ske=2025-07-23T02%3A24%3A32Z&sks=b&skv=2024-08-04&sig=0nBukbmafI7Car8ftHxICnySxj5%2B%2BOVBFbQTBe3AL%2BA%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-do8SJyLPSU88SIFoHVQJyXLX.png?st=2025-07-22T20%3A23%3A33Z&se=2025-07-22T22%3A23%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A24%3A32Z&ske=2025-07-23T02%3A24%3A32Z&sks=b&skv=2024-08-04&sig=0nBukbmafI7Car8ftHxICnySxj5%2B%2BOVBFbQTBe3AL%2BA%3D
   ✅ Image saved to: lessons/image/lesson_26/onomatopoeia_page_8_20250722_232329_77a112b2.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Chopstick Etiquette - 箸の使い方 (Hashi no tsukaikata)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Chopstick Etiquette - 箸の使い方 (Hashi no tsukaikata) ---
   🤖 Generating batch quiz questions for Chopstick Etiquette - 箸の使い方 (Hashi no tsukaikata)...
   ✅ Generated 5 quiz questions in batch for Chopstick Etiquette - 箸の使い方 (Hashi no tsukaikata)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 9.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 9.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Dining Conversations - 食卓での会話 (Shokutaku de no kaiwa) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-MOc5qsyfbq0Btaciq8qGujRu.png?st=2025-07-22T20%3A25%3A19Z&se=2025-07-22T22%3A25%3A19Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A08%3A47Z&ske=2025-07-23T16%3A08%3A47Z&sks=b&skv=2024-08-04&sig=7mPqgSE%2B4ZZf4tI6xTJF7PGdrU66AHvSsQyCsuABSws%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-MOc5qsyfbq0Btaciq8qGujRu.png?st=2025-07-22T20%3A25%3A19Z&se=2025-07-22T22%3A25%3A19Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A08%3A47Z&ske=2025-07-23T16%3A08%3A47Z&sks=b&skv=2024-08-04&sig=7mPqgSE%2B4ZZf4tI6xTJF7PGdrU66AHvSsQyCsuABSws%3D
   ✅ Image saved to: lessons/image/lesson_26/onomatopoeia_page_10_20250722_232515_4fe7ee73.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Dining Conversations - 食卓での会話 (Shokutaku de no kaiwa)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Dining Conversations - 食卓での会話 (Shokutaku de no kaiwa) ---
   🤖 Generating batch quiz questions for Dining Conversations - 食卓での会話 (Shokutaku de no kaiwa)...
   ✅ Generated 5 quiz questions in batch for Dining Conversations - 食卓での会話 (Shokutaku de no kaiwa)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Paying the Bill - 会計をする (Kaikei o suru) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-IfgpvoNwjJp18CZAFnGAYxf5.png?st=2025-07-22T20%3A27%3A15Z&se=2025-07-22T22%3A27%3A15Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T05%3A54%3A12Z&ske=2025-07-23T05%3A54%3A12Z&sks=b&skv=2024-08-04&sig=gHrobaWIBHdYKXeBWAYRu4o8B72opWjZD/rciytJtKs%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-IfgpvoNwjJp18CZAFnGAYxf5.png?st=2025-07-22T20%3A27%3A15Z&se=2025-07-22T22%3A27%3A15Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T05%3A54%3A12Z&ske=2025-07-23T05%3A54%3A12Z&sks=b&skv=2024-08-04&sig=gHrobaWIBHdYKXeBWAYRu4o8B72opWjZD/rciytJtKs%3D
   ✅ Image saved to: lessons/image/lesson_26/onomatopoeia_page_12_20250722_232711_8aee1987.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Paying the Bill - 会計をする (Kaikei o suru)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Paying the Bill - 会計をする (Kaikei o suru) ---
   🤖 Generating batch quiz questions for Paying the Bill - 会計をする (Kaikei o suru)...
   ✅ Generated 5 quiz questions in batch for Paying the Bill - 会計をする (Kaikei o suru)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Izakaya Culture - 居酒屋文化 (Izakaya bunka) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-sv1DyPiwYD6CN1xx7HZ6OVNx.png?st=2025-07-22T20%3A28%3A55Z&se=2025-07-22T22%3A28%3A55Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A49%3A46Z&ske=2025-07-23T20%3A49%3A46Z&sks=b&skv=2024-08-04&sig=ab21ipbAeesZtNkwaWHwhOT/j20l1V6fdtUJU/GSyw8%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-sv1DyPiwYD6CN1xx7HZ6OVNx.png?st=2025-07-22T20%3A28%3A55Z&se=2025-07-22T22%3A28%3A55Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A49%3A46Z&ske=2025-07-23T20%3A49%3A46Z&sks=b&skv=2024-08-04&sig=ab21ipbAeesZtNkwaWHwhOT/j20l1V6fdtUJU/GSyw8%3D
   ✅ Image saved to: lessons/image/lesson_26/onomatopoeia_page_14_20250722_232851_d0480315.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Izakaya Culture - 居酒屋文化 (Izakaya bunka)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Izakaya Culture - 居酒屋文化 (Izakaya bunka) ---
   🤖 Generating batch quiz questions for Izakaya Culture - 居酒屋文化 (Izakaya bunka)...
   ✅ Generated 5 quiz questions in batch for Izakaya Culture - 居酒屋文化 (Izakaya bunka)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Dining Out in Japan: From Ramen Shops to Fancy Restaurants Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_dining_out_in_japan_from_ramen_shops_to_fancy_restaurants_lesson.py (909.0s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [7/24] Processing: create_exploring_japans_vibrant_matsuri_a_journey_through_festive_traditions_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Exploring Japan' not found in database - will create
🎯 Executing: create_exploring_japans_vibrant_matsuri_a_journey_through_festive_traditions_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Exploring Japan's Vibrant Matsuri: A Journey Through Festive Traditions ---
   ✅ Lesson 'Exploring Japan's Vibrant Matsuri: A Journey Through Festive Traditions' created with ID: 27
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BpKERtx6QZqO9JkjVy6Bd2lc.png?st=2025-07-22T20%3A32%3A24Z&se=2025-07-22T22%3A32%3A24Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A08%3A48Z&ske=2025-07-23T17%3A08%3A48Z&sks=b&skv=2024-08-04&sig=prTQ7yV89l63jIAo5BjADDew2DzLk8fwu1u6xXPu0f0%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BpKERtx6QZqO9JkjVy6Bd2lc.png?st=2025-07-22T20%3A32%3A24Z&se=2025-07-22T22%3A32%3A24Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A08%3A48Z&ske=2025-07-23T17%3A08%3A48Z&sks=b&skv=2024-08-04&sig=prTQ7yV89l63jIAo5BjADDew2DzLk8fwu1u6xXPu0f0%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_27_background_20250722_233220_65e9587f.png
   ✅ Background image added to lesson 'Exploring Japan's Vibrant Matsuri: A Journey Through Festive Traditions'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-dnqdVPDGaE6Xvn51lG0Rwjec.png?st=2025-07-22T20%3A32%3A53Z&se=2025-07-22T22%3A32%3A53Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A37%3A40Z&ske=2025-07-23T06%3A37%3A40Z&sks=b&skv=2024-08-04&sig=xCrQEbDZYe0M2mVlNAPKhiF93Gm4068Y1Sm6rtxFSyM%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-dnqdVPDGaE6Xvn51lG0Rwjec.png?st=2025-07-22T20%3A32%3A53Z&se=2025-07-22T22%3A32%3A53Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A37%3A40Z&ske=2025-07-23T06%3A37%3A40Z&sks=b&skv=2024-08-04&sig=xCrQEbDZYe0M2mVlNAPKhiF93Gm4068Y1Sm6rtxFSyM%3D
   ✅ Image saved to: lessons/image/lesson_27/onomatopoeia_page_1_20250722_233249_38797273.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Introduction to Matsuri - まつり入門 (Matsuri Nyūmon) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-HUTNw4iAPIoHy6NeQGul70jS.png?st=2025-07-22T20%3A33%3A53Z&se=2025-07-22T22%3A33%3A53Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A46%3A00Z&ske=2025-07-23T12%3A46%3A00Z&sks=b&skv=2024-08-04&sig=SsUzwnF2%2B3ynGZEKf5VIAkFZpke834SuSWB5DN/sTtY%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-HUTNw4iAPIoHy6NeQGul70jS.png?st=2025-07-22T20%3A33%3A53Z&se=2025-07-22T22%3A33%3A53Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A46%3A00Z&ske=2025-07-23T12%3A46%3A00Z&sks=b&skv=2024-08-04&sig=SsUzwnF2%2B3ynGZEKf5VIAkFZpke834SuSWB5DN/sTtY%3D
   ✅ Image saved to: lessons/image/lesson_27/onomatopoeia_page_2_20250722_233349_000afdd8.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Introduction to Matsuri - まつり入門 (Matsuri Nyūmon)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Introduction to Matsuri - まつり入門 (Matsuri Nyūmon) ---
   🤖 Generating batch quiz questions for Introduction to Matsuri - まつり入門 (Matsuri Nyūmon)...
   ✅ Generated 5 quiz questions in batch for Introduction to Matsuri - まつり入門 (Matsuri Nyūmon)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 3.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 3.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Summer Festivals - 夏祭り (Natsu Matsuri) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-1vMiNmSeYxI6e9pAbBvjLOY5.png?st=2025-07-22T20%3A35%3A51Z&se=2025-07-22T22%3A35%3A51Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A20%3A51Z&ske=2025-07-23T00%3A20%3A51Z&sks=b&skv=2024-08-04&sig=T6NRA/FKYCIgKTOuOxtR59EdhW7xWT7pzDJ5u44Kgwg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-1vMiNmSeYxI6e9pAbBvjLOY5.png?st=2025-07-22T20%3A35%3A51Z&se=2025-07-22T22%3A35%3A51Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A20%3A51Z&ske=2025-07-23T00%3A20%3A51Z&sks=b&skv=2024-08-04&sig=T6NRA/FKYCIgKTOuOxtR59EdhW7xWT7pzDJ5u44Kgwg%3D
   ✅ Image saved to: lessons/image/lesson_27/onomatopoeia_page_4_20250722_233548_54696f9e.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Summer Festivals - 夏祭り (Natsu Matsuri)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Summer Festivals - 夏祭り (Natsu Matsuri) ---
   🤖 Generating batch quiz questions for Summer Festivals - 夏祭り (Natsu Matsuri)...
   ✅ Generated 5 quiz questions in batch for Summer Festivals - 夏祭り (Natsu Matsuri)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Autumn Festivals - 秋祭り (Aki Matsuri) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-5tfuIcZfMgdj7s9McRYqQkD3.png?st=2025-07-22T20%3A37%3A30Z&se=2025-07-22T22%3A37%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A48%3A13Z&ske=2025-07-23T13%3A48%3A13Z&sks=b&skv=2024-08-04&sig=w3TcesbxwDKdO9JPouhMRLSstjUlcITYvOI8mC6lfS8%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-5tfuIcZfMgdj7s9McRYqQkD3.png?st=2025-07-22T20%3A37%3A30Z&se=2025-07-22T22%3A37%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A48%3A13Z&ske=2025-07-23T13%3A48%3A13Z&sks=b&skv=2024-08-04&sig=w3TcesbxwDKdO9JPouhMRLSstjUlcITYvOI8mC6lfS8%3D
   ✅ Image saved to: lessons/image/lesson_27/onomatopoeia_page_6_20250722_233726_af42be36.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Autumn Festivals - 秋祭り (Aki Matsuri)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Autumn Festivals - 秋祭り (Aki Matsuri) ---
   🤖 Generating batch quiz questions for Autumn Festivals - 秋祭り (Aki Matsuri)...
   ✅ Generated 5 quiz questions in batch for Autumn Festivals - 秋祭り (Aki Matsuri)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 7.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 7.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Religious Festivals - 神事 (Shinji) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-tUwxogKdmdu6S2kq3ZULqkAO.png?st=2025-07-22T20%3A39%3A12Z&se=2025-07-22T22%3A39%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A18%3A04Z&ske=2025-07-23T14%3A18%3A04Z&sks=b&skv=2024-08-04&sig=ZC/EcpxnKfKTqFeuie4vC5ZFpJDnjuwW/KhtjZDl6MA%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-tUwxogKdmdu6S2kq3ZULqkAO.png?st=2025-07-22T20%3A39%3A12Z&se=2025-07-22T22%3A39%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A18%3A04Z&ske=2025-07-23T14%3A18%3A04Z&sks=b&skv=2024-08-04&sig=ZC/EcpxnKfKTqFeuie4vC5ZFpJDnjuwW/KhtjZDl6MA%3D
   ✅ Image saved to: lessons/image/lesson_27/onomatopoeia_page_8_20250722_233909_14ff136c.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Religious Festivals - 神事 (Shinji)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Religious Festivals - 神事 (Shinji) ---
   🤖 Generating batch quiz questions for Religious Festivals - 神事 (Shinji)...
   ✅ Generated 5 quiz questions in batch for Religious Festivals - 神事 (Shinji)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Festival Food - 祭り屋台 (Matsuri Yatai) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-AK3Hp3ZqtFipTyY3XrK3MTRh.png?st=2025-07-22T20%3A41%3A27Z&se=2025-07-22T22%3A41%3A27Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A55%3A55Z&ske=2025-07-23T02%3A55%3A55Z&sks=b&skv=2024-08-04&sig=80qzHyCZa/OnOzacabEbjtlycAsu4qqlFvlvtLORwhI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-AK3Hp3ZqtFipTyY3XrK3MTRh.png?st=2025-07-22T20%3A41%3A27Z&se=2025-07-22T22%3A41%3A27Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A55%3A55Z&ske=2025-07-23T02%3A55%3A55Z&sks=b&skv=2024-08-04&sig=80qzHyCZa/OnOzacabEbjtlycAsu4qqlFvlvtLORwhI%3D
   ✅ Image saved to: lessons/image/lesson_27/onomatopoeia_page_10_20250722_234123_9f954edd.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Festival Food - 祭り屋台 (Matsuri Yatai)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Festival Food - 祭り屋台 (Matsuri Yatai) ---
   🤖 Generating batch quiz questions for Festival Food - 祭り屋台 (Matsuri Yatai)...
   ✅ Generated 5 quiz questions in batch for Festival Food - 祭り屋台 (Matsuri Yatai)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Festival Games - 祭りゲーム (Matsuri Gēmu) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-6x3FLDJZUb8MWgxrelkxAJc8.png?st=2025-07-22T20%3A43%3A20Z&se=2025-07-22T22%3A43%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A12%3A17Z&ske=2025-07-23T21%3A12%3A17Z&sks=b&skv=2024-08-04&sig=WhTZof3Oj9PY8R0SmfDRay8HOwpS07sFDPe4%2BK2ga5M%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-6x3FLDJZUb8MWgxrelkxAJc8.png?st=2025-07-22T20%3A43%3A20Z&se=2025-07-22T22%3A43%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A12%3A17Z&ske=2025-07-23T21%3A12%3A17Z&sks=b&skv=2024-08-04&sig=WhTZof3Oj9PY8R0SmfDRay8HOwpS07sFDPe4%2BK2ga5M%3D
   ✅ Image saved to: lessons/image/lesson_27/onomatopoeia_page_12_20250722_234316_0a7b986d.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Festival Games - 祭りゲーム (Matsuri Gēmu)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Festival Games - 祭りゲーム (Matsuri Gēmu) ---
   🤖 Generating batch quiz questions for Festival Games - 祭りゲーム (Matsuri Gēmu)...
   ✅ Generated 5 quiz questions in batch for Festival Games - 祭りゲーム (Matsuri Gēmu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Experiencing a Matsuri - 祭り体験 (Matsuri Taiken) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-5yGTqH3ZqZe3OlWQBYtBTCeS.png?st=2025-07-22T20%3A44%3A57Z&se=2025-07-22T22%3A44%3A57Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A00%3A02Z&ske=2025-07-23T02%3A00%3A02Z&sks=b&skv=2024-08-04&sig=E9umnB/WS0CzJ1jMStmV2Ik624XbT3tCchD75NyaRYY%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-5yGTqH3ZqZe3OlWQBYtBTCeS.png?st=2025-07-22T20%3A44%3A57Z&se=2025-07-22T22%3A44%3A57Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A00%3A02Z&ske=2025-07-23T02%3A00%3A02Z&sks=b&skv=2024-08-04&sig=E9umnB/WS0CzJ1jMStmV2Ik624XbT3tCchD75NyaRYY%3D
   ✅ Image saved to: lessons/image/lesson_27/onomatopoeia_page_14_20250722_234453_d75dad2b.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Experiencing a Matsuri - 祭り体験 (Matsuri Taiken)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Experiencing a Matsuri - 祭り体験 (Matsuri Taiken) ---
   🤖 Generating batch quiz questions for Experiencing a Matsuri - 祭り体験 (Matsuri Taiken)...
   ✅ Generated 5 quiz questions in batch for Experiencing a Matsuri - 祭り体験 (Matsuri Taiken)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Exploring Japan's Vibrant Matsuri: A Journey Through Festive Traditions Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_exploring_japans_vibrant_matsuri_a_journey_through_festive_traditions_lesson.py (940.4s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [8/24] Processing: create_exploring_the_mystical_world_of_japanese_folklore_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Exploring the Mystical World of Japanese Folklore' not found in database - will create
🎯 Executing: create_exploring_the_mystical_world_of_japanese_folklore_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Exploring the Mystical World of Japanese Folklore ---
   ✅ Lesson 'Exploring the Mystical World of Japanese Folklore' created with ID: 28
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-sqJSAAFikt1aDJi0i6fXjeJk.png?st=2025-07-22T20%3A48%3A12Z&se=2025-07-22T22%3A48%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A47%3A41Z&ske=2025-07-23T00%3A47%3A41Z&sks=b&skv=2024-08-04&sig=RJnuSKN3ESyIufijQOx6nxsNg9gXFVJ3ODbS5KzsDqQ%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-sqJSAAFikt1aDJi0i6fXjeJk.png?st=2025-07-22T20%3A48%3A12Z&se=2025-07-22T22%3A48%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A47%3A41Z&ske=2025-07-23T00%3A47%3A41Z&sks=b&skv=2024-08-04&sig=RJnuSKN3ESyIufijQOx6nxsNg9gXFVJ3ODbS5KzsDqQ%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_28_background_20250722_234809_1a08b3c4.png
   ✅ Background image added to lesson 'Exploring the Mystical World of Japanese Folklore'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-7poUUDyrMXuRemudP2aco2AN.png?st=2025-07-22T20%3A48%3A32Z&se=2025-07-22T22%3A48%3A32Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T04%3A09%3A19Z&ske=2025-07-23T04%3A09%3A19Z&sks=b&skv=2024-08-04&sig=15D62SuCJbetiPcNf1Y/M2TvKD0Hn8Ivrqk45YRDLRc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-7poUUDyrMXuRemudP2aco2AN.png?st=2025-07-22T20%3A48%3A32Z&se=2025-07-22T22%3A48%3A32Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T04%3A09%3A19Z&ske=2025-07-23T04%3A09%3A19Z&sks=b&skv=2024-08-04&sig=15D62SuCJbetiPcNf1Y/M2TvKD0Hn8Ivrqk45YRDLRc%3D
   ✅ Image saved to: lessons/image/lesson_28/onomatopoeia_page_1_20250722_234828_65cb145c.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Introduction to Japanese Folklore - 民話の世界へ (Minwa no Sekai e) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-NybZ5Oe4Fx7W44822dELOuIj.png?st=2025-07-22T20%3A49%3A34Z&se=2025-07-22T22%3A49%3A34Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A11%3A32Z&ske=2025-07-23T19%3A11%3A32Z&sks=b&skv=2024-08-04&sig=pq9rgNnmT/ak6u59K98Ke7w6auVzgysUwuDafsOQE9s%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-NybZ5Oe4Fx7W44822dELOuIj.png?st=2025-07-22T20%3A49%3A34Z&se=2025-07-22T22%3A49%3A34Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A11%3A32Z&ske=2025-07-23T19%3A11%3A32Z&sks=b&skv=2024-08-04&sig=pq9rgNnmT/ak6u59K98Ke7w6auVzgysUwuDafsOQE9s%3D
   ✅ Image saved to: lessons/image/lesson_28/onomatopoeia_page_2_20250722_234930_4fa68752.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Introduction to Japanese Folklore - 民話の世界へ (Minwa no Sekai e)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Introduction to Japanese Folklore - 民話の世界へ (Minwa no Sekai e) ---
   🤖 Generating batch quiz questions for Introduction to Japanese Folklore - 民話の世界へ (Minwa no Sekai e)...
   ✅ Generated 5 quiz questions in batch for Introduction to Japanese Folklore - 民話の世界へ (Minwa no Sekai e)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Yokai: An Overview of Japanese Monsters - 妖怪概論 (Yōkai Gairon) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-X3680n4kvOOu17G9zPDkwk96.png?st=2025-07-22T20%3A51%3A30Z&se=2025-07-22T22%3A51%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A37%3A01Z&ske=2025-07-23T16%3A37%3A01Z&sks=b&skv=2024-08-04&sig=k9HcBZRx6UI2cdRPzQpYZPxzcNWkpsQz6Wwz1Bwv8r8%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-X3680n4kvOOu17G9zPDkwk96.png?st=2025-07-22T20%3A51%3A30Z&se=2025-07-22T22%3A51%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A37%3A01Z&ske=2025-07-23T16%3A37%3A01Z&sks=b&skv=2024-08-04&sig=k9HcBZRx6UI2cdRPzQpYZPxzcNWkpsQz6Wwz1Bwv8r8%3D
   ✅ Image saved to: lessons/image/lesson_28/onomatopoeia_page_4_20250722_235127_fd365f07.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Yokai: An Overview of Japanese Monsters - 妖怪概論 (Yōkai Gairon)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Yokai: An Overview of Japanese Monsters - 妖怪概論 (Yōkai Gairon) ---
   🤖 Generating batch quiz questions for Yokai: An Overview of Japanese Monsters - 妖怪概論 (Yōkai Gairon)...
   ✅ Generated 5 quiz questions in batch for Yokai: An Overview of Japanese Monsters - 妖怪概論 (Yōkai Gairon)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 5.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 5.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Tricksters and Shapeshifters - 変化といたずら (Henge to Itazura) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Bf0NnqW23T5JXhC09plnk4Am.png?st=2025-07-22T20%3A53%3A04Z&se=2025-07-22T22%3A53%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A31%3A15Z&ske=2025-07-23T18%3A31%3A15Z&sks=b&skv=2024-08-04&sig=cHPf2lKSyLACxUO3LwJ7qBE1eHH8HjZzI2QJorjrATc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Bf0NnqW23T5JXhC09plnk4Am.png?st=2025-07-22T20%3A53%3A04Z&se=2025-07-22T22%3A53%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A31%3A15Z&ske=2025-07-23T18%3A31%3A15Z&sks=b&skv=2024-08-04&sig=cHPf2lKSyLACxUO3LwJ7qBE1eHH8HjZzI2QJorjrATc%3D
   ✅ Image saved to: lessons/image/lesson_28/onomatopoeia_page_6_20250722_235300_d790d0ec.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Tricksters and Shapeshifters - 変化といたずら (Henge to Itazura)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Tricksters and Shapeshifters - 変化といたずら (Henge to Itazura) ---
   🤖 Generating batch quiz questions for Tricksters and Shapeshifters - 変化といたずら (Henge to Itazura)...
   ✅ Generated 5 quiz questions in batch for Tricksters and Shapeshifters - 変化といたずら (Henge to Itazura)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 7.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 7.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Fearsome Oni and Tengu - 鬼と天狗 (Oni to Tengu) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-AlbZi8TbOnmrsKxbQK8RDNn8.png?st=2025-07-22T20%3A54%3A50Z&se=2025-07-22T22%3A54%3A50Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T15%3A52%3A17Z&ske=2025-07-23T15%3A52%3A17Z&sks=b&skv=2024-08-04&sig=YLcRqRCZqm9Dq790/M1UkwxJb6TipqoI1oupKuw93PY%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-AlbZi8TbOnmrsKxbQK8RDNn8.png?st=2025-07-22T20%3A54%3A50Z&se=2025-07-22T22%3A54%3A50Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T15%3A52%3A17Z&ske=2025-07-23T15%3A52%3A17Z&sks=b&skv=2024-08-04&sig=YLcRqRCZqm9Dq790/M1UkwxJb6TipqoI1oupKuw93PY%3D
   ✅ Image saved to: lessons/image/lesson_28/onomatopoeia_page_8_20250722_235447_03db5a24.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Fearsome Oni and Tengu - 鬼と天狗 (Oni to Tengu)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Fearsome Oni and Tengu - 鬼と天狗 (Oni to Tengu) ---
   🤖 Generating batch quiz questions for Fearsome Oni and Tengu - 鬼と天狗 (Oni to Tengu)...
   ✅ Generated 5 quiz questions in batch for Fearsome Oni and Tengu - 鬼と天狗 (Oni to Tengu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Spirits and Ghosts - 霊と幽霊 (Rei to Yūrei) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-O6w4V7fVaRpao7Y6bv8d20Ks.png?st=2025-07-22T20%3A56%3A44Z&se=2025-07-22T22%3A56%3A44Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-21T23%3A31%3A02Z&ske=2025-07-22T23%3A31%3A02Z&sks=b&skv=2024-08-04&sig=lg/YaooM7NWaLv3T5uwgyaHqHEFRv1Am5n3Dva0DzPk%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-O6w4V7fVaRpao7Y6bv8d20Ks.png?st=2025-07-22T20%3A56%3A44Z&se=2025-07-22T22%3A56%3A44Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-21T23%3A31%3A02Z&ske=2025-07-22T23%3A31%3A02Z&sks=b&skv=2024-08-04&sig=lg/YaooM7NWaLv3T5uwgyaHqHEFRv1Am5n3Dva0DzPk%3D
   ✅ Image saved to: lessons/image/lesson_28/onomatopoeia_page_10_20250722_235641_4ea04832.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Spirits and Ghosts - 霊と幽霊 (Rei to Yūrei)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Spirits and Ghosts - 霊と幽霊 (Rei to Yūrei) ---
   🤖 Generating batch quiz questions for Spirits and Ghosts - 霊と幽霊 (Rei to Yūrei)...
   ✅ Generated 5 quiz questions in batch for Spirits and Ghosts - 霊と幽霊 (Rei to Yūrei)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Nature Spirits and Guardians - 自然の精霊 (Shizen no Seirei) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-qCSm6NKiq98appBccS7GbqF1.png?st=2025-07-22T20%3A58%3A21Z&se=2025-07-22T22%3A58%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T03%3A23%3A15Z&ske=2025-07-23T03%3A23%3A15Z&sks=b&skv=2024-08-04&sig=fTyU37yqCByfNKJ13ODsfB%2BKR1oX3JuFwYa1TmkO6jE%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-qCSm6NKiq98appBccS7GbqF1.png?st=2025-07-22T20%3A58%3A21Z&se=2025-07-22T22%3A58%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T03%3A23%3A15Z&ske=2025-07-23T03%3A23%3A15Z&sks=b&skv=2024-08-04&sig=fTyU37yqCByfNKJ13ODsfB%2BKR1oX3JuFwYa1TmkO6jE%3D
   ✅ Image saved to: lessons/image/lesson_28/onomatopoeia_page_12_20250722_235818_8ecc0c03.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Nature Spirits and Guardians - 自然の精霊 (Shizen no Seirei)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Nature Spirits and Guardians - 自然の精霊 (Shizen no Seirei) ---
   🤖 Generating batch quiz questions for Nature Spirits and Guardians - 自然の精霊 (Shizen no Seirei)...
   ✅ Generated 5 quiz questions in batch for Nature Spirits and Guardians - 自然の精霊 (Shizen no Seirei)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Modern Interpretations and Storytelling - 現代の解釈と語り (Gendai no Kaishaku to Katari) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-G6RJQOKjQ8DBmeOTkni3vqQz.png?st=2025-07-22T20%3A59%3A58Z&se=2025-07-22T22%3A59%3A58Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-21T23%3A11%3A50Z&ske=2025-07-22T23%3A11%3A50Z&sks=b&skv=2024-08-04&sig=4%2BIdUZLc/tTINTArkj0Ga/LFC5Oy%2Bnnmj2VqrbxfJug%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-G6RJQOKjQ8DBmeOTkni3vqQz.png?st=2025-07-22T20%3A59%3A58Z&se=2025-07-22T22%3A59%3A58Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-21T23%3A11%3A50Z&ske=2025-07-22T23%3A11%3A50Z&sks=b&skv=2024-08-04&sig=4%2BIdUZLc/tTINTArkj0Ga/LFC5Oy%2Bnnmj2VqrbxfJug%3D
   ✅ Image saved to: lessons/image/lesson_28/onomatopoeia_page_14_20250722_235955_0b5d0149.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Modern Interpretations and Storytelling - 現代の解釈と語り (Gendai no Kaishaku to Katari)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Modern Interpretations and Storytelling - 現代の解釈と語り (Gendai no Kaishaku to Katari) ---
   🤖 Generating batch quiz questions for Modern Interpretations and Storytelling - 現代の解釈と語り (Gendai no Kaishaku to Katari)...
   ✅ Generated 5 quiz questions in batch for Modern Interpretations and Storytelling - 現代の解釈と語り (Gendai no Kaishaku to Katari)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Exploring the Mystical World of Japanese Folklore Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_exploring_the_mystical_world_of_japanese_folklore_lesson.py (944.3s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [9/24] Processing: create_exploring_traditional_japanese_arts_a_journey_through_craftsmanship_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Exploring Traditional Japanese Arts: A Journey Through Craftsmanship' not found in database - will create
🎯 Executing: create_exploring_traditional_japanese_arts_a_journey_through_craftsmanship_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Exploring Traditional Japanese Arts: A Journey Through Craftsmanship ---
   ✅ Lesson 'Exploring Traditional Japanese Arts: A Journey Through Craftsmanship' created with ID: 29
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-oodwtLaSWYXrQ0wsKZSPBKSv.png?st=2025-07-22T21%3A03%3A59Z&se=2025-07-22T23%3A03%3A59Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T22%3A03%3A59Z&ske=2025-07-23T22%3A03%3A59Z&sks=b&skv=2024-08-04&sig=9JQpA1fDAa3FMMbLeG4UX0We/njGV0g3iCfOz/PcZY0%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-oodwtLaSWYXrQ0wsKZSPBKSv.png?st=2025-07-22T21%3A03%3A59Z&se=2025-07-22T23%3A03%3A59Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T22%3A03%3A59Z&ske=2025-07-23T22%3A03%3A59Z&sks=b&skv=2024-08-04&sig=9JQpA1fDAa3FMMbLeG4UX0We/njGV0g3iCfOz/PcZY0%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_29_background_20250723_000356_08bb688e.png
   ✅ Background image added to lesson 'Exploring Traditional Japanese Arts: A Journey Through Craftsmanship'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-MdXhfJc2zxzmbrC0GrF5tCbK.png?st=2025-07-22T21%3A04%3A19Z&se=2025-07-22T23%3A04%3A19Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A01%3A11Z&ske=2025-07-23T14%3A01%3A11Z&sks=b&skv=2024-08-04&sig=l9hAOm0Gg4yBJud7n/uuS2jM%2BagTlEyT1oftcSc81TU%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-MdXhfJc2zxzmbrC0GrF5tCbK.png?st=2025-07-22T21%3A04%3A19Z&se=2025-07-22T23%3A04%3A19Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A01%3A11Z&ske=2025-07-23T14%3A01%3A11Z&sks=b&skv=2024-08-04&sig=l9hAOm0Gg4yBJud7n/uuS2jM%2BagTlEyT1oftcSc81TU%3D
   ✅ Image saved to: lessons/image/lesson_29/onomatopoeia_page_1_20250723_000416_d4ba2db2.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Introduction to Traditional Arts - 伝統芸術入門 (Dentō Geijutsu Nyūmon) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-jZDlfzo5uwUks2CrgbOahGf5.png?st=2025-07-22T21%3A05%3A12Z&se=2025-07-22T23%3A05%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T01%3A39%3A31Z&ske=2025-07-23T01%3A39%3A31Z&sks=b&skv=2024-08-04&sig=l6s9tiLE%2B9XVJr3iAnKHyFQHvJuj5b8dEpJB1w30YnI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-jZDlfzo5uwUks2CrgbOahGf5.png?st=2025-07-22T21%3A05%3A12Z&se=2025-07-22T23%3A05%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T01%3A39%3A31Z&ske=2025-07-23T01%3A39%3A31Z&sks=b&skv=2024-08-04&sig=l6s9tiLE%2B9XVJr3iAnKHyFQHvJuj5b8dEpJB1w30YnI%3D
   ✅ Image saved to: lessons/image/lesson_29/onomatopoeia_page_2_20250723_000508_a197bbf2.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Introduction to Traditional Arts - 伝統芸術入門 (Dentō Geijutsu Nyūmon)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Introduction to Traditional Arts - 伝統芸術入門 (Dentō Geijutsu Nyūmon) ---
   🤖 Generating batch quiz questions for Introduction to Traditional Arts - 伝統芸術入門 (Dentō Geijutsu Nyūmon)...
   ✅ Generated 5 quiz questions in batch for Introduction to Traditional Arts - 伝統芸術入門 (Dentō Geijutsu Nyūmon)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: The Art of Tea Ceremony - 茶道 (Sadō) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-OqEXqa7vGrczchAB7HvurkOY.png?st=2025-07-22T21%3A06%3A41Z&se=2025-07-22T23%3A06%3A41Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A13%3A37Z&ske=2025-07-23T19%3A13%3A37Z&sks=b&skv=2024-08-04&sig=qh5PixnTaMN/YsBXamLqADZuVjjb5WCB7b1TjQbuPpI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-OqEXqa7vGrczchAB7HvurkOY.png?st=2025-07-22T21%3A06%3A41Z&se=2025-07-22T23%3A06%3A41Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A13%3A37Z&ske=2025-07-23T19%3A13%3A37Z&sks=b&skv=2024-08-04&sig=qh5PixnTaMN/YsBXamLqADZuVjjb5WCB7b1TjQbuPpI%3D
   ✅ Image saved to: lessons/image/lesson_29/onomatopoeia_page_4_20250723_000637_68f72bae.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for The Art of Tea Ceremony - 茶道 (Sadō)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for The Art of Tea Ceremony - 茶道 (Sadō) ---
   🤖 Generating batch quiz questions for The Art of Tea Ceremony - 茶道 (Sadō)...
   ✅ Generated 5 quiz questions in batch for The Art of Tea Ceremony - 茶道 (Sadō)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: The Elegance of Calligraphy - 書道 (Shodō) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-yImGUD2vApGD9jOaK3EztevP.png?st=2025-07-22T21%3A08%3A17Z&se=2025-07-22T23%3A08%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T07%3A47%3A51Z&ske=2025-07-23T07%3A47%3A51Z&sks=b&skv=2024-08-04&sig=E7QSOd1/LYO73zfCiPNhRcBb5MNCxgBHW/niyvJWV3A%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-yImGUD2vApGD9jOaK3EztevP.png?st=2025-07-22T21%3A08%3A17Z&se=2025-07-22T23%3A08%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T07%3A47%3A51Z&ske=2025-07-23T07%3A47%3A51Z&sks=b&skv=2024-08-04&sig=E7QSOd1/LYO73zfCiPNhRcBb5MNCxgBHW/niyvJWV3A%3D
   ✅ Image saved to: lessons/image/lesson_29/onomatopoeia_page_6_20250723_000813_38aad293.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for The Elegance of Calligraphy - 書道 (Shodō)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for The Elegance of Calligraphy - 書道 (Shodō) ---
   🤖 Generating batch quiz questions for The Elegance of Calligraphy - 書道 (Shodō)...
   ✅ Generated 5 quiz questions in batch for The Elegance of Calligraphy - 書道 (Shodō)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: The Craft of Pottery - 陶芸 (Tōgei) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-SFNz2Tnp9Vg0lHp1OtkLVlGm.png?st=2025-07-22T21%3A10%3A07Z&se=2025-07-22T23%3A10%3A07Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A31%3A56Z&ske=2025-07-23T20%3A31%3A56Z&sks=b&skv=2024-08-04&sig=3qxmcq4acxfFFuTX/EdDzfmGvKfz2sxBSZvFc1%2BsJaE%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-SFNz2Tnp9Vg0lHp1OtkLVlGm.png?st=2025-07-22T21%3A10%3A07Z&se=2025-07-22T23%3A10%3A07Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A31%3A56Z&ske=2025-07-23T20%3A31%3A56Z&sks=b&skv=2024-08-04&sig=3qxmcq4acxfFFuTX/EdDzfmGvKfz2sxBSZvFc1%2BsJaE%3D
   ✅ Image saved to: lessons/image/lesson_29/onomatopoeia_page_8_20250723_001003_2bb05c9a.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for The Craft of Pottery - 陶芸 (Tōgei)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for The Craft of Pottery - 陶芸 (Tōgei) ---
   🤖 Generating batch quiz questions for The Craft of Pottery - 陶芸 (Tōgei)...
   ✅ Generated 5 quiz questions in batch for The Craft of Pottery - 陶芸 (Tōgei)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Exploring Other Traditional Arts -  その他の伝統芸術 (Sonota no Dentō Geijutsu) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Vj90aiwtiaJfyZCKySVsCfFT.png?st=2025-07-22T21%3A11%3A48Z&se=2025-07-22T23%3A11%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A54%3A06Z&ske=2025-07-23T00%3A54%3A06Z&sks=b&skv=2024-08-04&sig=SEtensD08Negu1UBXivySgJnWAJ8503RVkoJaLrmYBY%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Vj90aiwtiaJfyZCKySVsCfFT.png?st=2025-07-22T21%3A11%3A48Z&se=2025-07-22T23%3A11%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A54%3A06Z&ske=2025-07-23T00%3A54%3A06Z&sks=b&skv=2024-08-04&sig=SEtensD08Negu1UBXivySgJnWAJ8503RVkoJaLrmYBY%3D
   ✅ Image saved to: lessons/image/lesson_29/onomatopoeia_page_10_20250723_001144_b0d59156.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Exploring Other Traditional Arts -  その他の伝統芸術 (Sonota no Dentō Geijutsu)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Exploring Other Traditional Arts -  その他の伝統芸術 (Sonota no Dentō Geijutsu) ---
   🤖 Generating batch quiz questions for Exploring Other Traditional Arts -  その他の伝統芸術 (Sonota no Dentō Geijutsu)...
   ✅ Generated 5 quiz questions in batch for Exploring Other Traditional Arts -  その他の伝統芸術 (Sonota no Dentō Geijutsu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Putting it all together - まとめ (Matome) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-0MPnykjd2cFzo6yJWllHHPai.png?st=2025-07-22T21%3A13%3A21Z&se=2025-07-22T23%3A13%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A07%3A09Z&ske=2025-07-23T16%3A07%3A09Z&sks=b&skv=2024-08-04&sig=tXMgYAoDAEJWXPXiHbmOCIRcl5ZTA74/R4nnXMER5io%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-0MPnykjd2cFzo6yJWllHHPai.png?st=2025-07-22T21%3A13%3A21Z&se=2025-07-22T23%3A13%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A07%3A09Z&ske=2025-07-23T16%3A07%3A09Z&sks=b&skv=2024-08-04&sig=tXMgYAoDAEJWXPXiHbmOCIRcl5ZTA74/R4nnXMER5io%3D
   ✅ Image saved to: lessons/image/lesson_29/onomatopoeia_page_12_20250723_001318_a2bd85bc.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Putting it all together - まとめ (Matome)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Putting it all together - まとめ (Matome) ---
   🤖 Generating batch quiz questions for Putting it all together - まとめ (Matome)...
   ✅ Generated 5 quiz questions in batch for Putting it all together - まとめ (Matome)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Further Exploration - さらなる探求 (Saranaru Tankyū) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-zVmHlXkqHMrBtmk5uESB8oeF.png?st=2025-07-22T21%3A15%3A18Z&se=2025-07-22T23%3A15%3A18Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A28%3A25Z&ske=2025-07-23T00%3A28%3A25Z&sks=b&skv=2024-08-04&sig=x7nW0iVuPODYEe5pLpPQI/o2tMfecV27YTvugRsOxyc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-zVmHlXkqHMrBtmk5uESB8oeF.png?st=2025-07-22T21%3A15%3A18Z&se=2025-07-22T23%3A15%3A18Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A28%3A25Z&ske=2025-07-23T00%3A28%3A25Z&sks=b&skv=2024-08-04&sig=x7nW0iVuPODYEe5pLpPQI/o2tMfecV27YTvugRsOxyc%3D
   ✅ Image saved to: lessons/image/lesson_29/onomatopoeia_page_14_20250723_001514_842daf9b.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Further Exploration - さらなる探求 (Saranaru Tankyū)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Further Exploration - さらなる探求 (Saranaru Tankyū) ---
   🤖 Generating batch quiz questions for Further Exploration - さらなる探求 (Saranaru Tankyū)...
   ✅ Generated 5 quiz questions in batch for Further Exploration - さらなる探求 (Saranaru Tankyū)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Exploring Traditional Japanese Arts: A Journey Through Craftsmanship Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_exploring_traditional_japanese_arts_a_journey_through_craftsmanship_lesson.py (835.2s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [10/24] Processing: create_japanese_cities_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  📚 Lesson 'Japanese Cities - Urban Culture and Geography' already exists in database (ID: 15)
⏭️  Skipping create_japanese_cities_lesson.py (lesson already exists)
⏳ Waiting 3 seconds before next execution...

--- [11/24] Processing: create_japanese_cuisine_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  📚 Lesson 'An Intermediate Guide to Japanese Cuisine' already exists in database (ID: 16)
⏭️  Skipping create_japanese_cuisine_lesson.py (lesson already exists)
⏳ Waiting 3 seconds before next execution...

--- [12/24] Processing: create_japanese_festivals_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Interesting Japanese Festivals - Cultural Journey' not found in database - will create
🎯 Executing: create_japanese_festivals_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Interesting Japanese Festivals - Cultural Journey ---
   ✅ Lesson 'Interesting Japanese Festivals - Cultural Journey' created with ID: 30
   
   --- Initializing AI Generator ---
   🔑 API Key Found: ...6zoA
   ✅ AI Generator Initialized
   
   --- Creating Page 1: Sakura Matsuri (Cherry Blossom Festival) ---
   🖼️ Generating impressive festival image for page 1...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 1: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-5JiXaduvUl7n51pX2sI1WDir.png?st=2025-07-22T21%3A17%3A45Z&se=2025-07-22T23%3A17%3A45Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A53%3A17Z&ske=2025-07-23T08%3A53%3A17Z&sks=b&skv=2024-08-04&sig=IaoB015J7Nces3ej73IeHifR5OcelVjmfxCzO%2BCGkc8%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-5JiXaduvUl7n51pX2sI1WDir.png?st=2025-07-22T21%3A17%3A45Z&se=2025-07-22T23%3A17%3A45Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A53%3A17Z&ske=2025-07-23T08%3A53%3A17Z&sks=b&skv=2024-08-04&sig=IaoB015J7Nces3ej73IeHifR5OcelVjmfxCzO%2BCGkc8%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_1_20250723_001742_f990e736.png
   ✅ Impressive festival image added to page 1.
   🤖 Generating comprehensive introduction for Sakura Matsuri (Cherry Blossom Festival)...
   ✅ Page 1 cultural overview added.
   🤖 Generating vocabulary explanations for page 1...
   ✅ Vocabulary '桜 (さくら)' added to page 1.
   ✅ Vocabulary '花見 (はなみ)' added to page 1.
   ✅ Vocabulary '満開 (まんかい)' added to page 1.
   ✅ Vocabulary '散る (ちる)' added to page 1.
   🤖 Generating varied quiz questions for page 1...
   ✅ Quiz #1 (cultural significance and historical background) added to page 1.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 1.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 1.
   
   --- Creating Page 2: Tanabata (Star Festival) ---
   🖼️ Generating impressive festival image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-duXH2opXZYX3xs62wFw0hlCu.png?st=2025-07-22T21%3A22%3A15Z&se=2025-07-22T23%3A22%3A15Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A26%3A20Z&ske=2025-07-23T16%3A26%3A20Z&sks=b&skv=2024-08-04&sig=pIRGj1ke5ZEk7B9y9H%2BzRhUzkRv4fSvbYtgZOr59Syw%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-duXH2opXZYX3xs62wFw0hlCu.png?st=2025-07-22T21%3A22%3A15Z&se=2025-07-22T23%3A22%3A15Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A26%3A20Z&ske=2025-07-23T16%3A26%3A20Z&sks=b&skv=2024-08-04&sig=pIRGj1ke5ZEk7B9y9H%2BzRhUzkRv4fSvbYtgZOr59Syw%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_2_20250723_002211_d11d7ff9.png
   ✅ Impressive festival image added to page 2.
   🤖 Generating comprehensive introduction for Tanabata (Star Festival)...
   ✅ Page 2 cultural overview added.
   🤖 Generating vocabulary explanations for page 2...
   ✅ Vocabulary '七夕 (たなばた)' added to page 2.
   ✅ Vocabulary '短冊 (たんざく)' added to page 2.
   ✅ Vocabulary '願い事 (ねがいごと)' added to page 2.
   ✅ Vocabulary '竹 (たけ)' added to page 2.
   ✅ Vocabulary '織姫 (おりひめ)' added to page 2.
   ✅ Vocabulary '彦星 (ひこぼし)' added to page 2.
   🤖 Generating varied quiz questions for page 2...
   ✅ Quiz #1 (cultural significance and historical background) added to page 2.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 2.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 2.
   
   --- Creating Page 3: Obon (Festival of the Dead) ---
   🖼️ Generating impressive festival image for page 3...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 3: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Zt8yxr59tVQxaKN5qGjM8IH3.png?st=2025-07-22T21%3A26%3A39Z&se=2025-07-22T23%3A26%3A39Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A51%3A46Z&ske=2025-07-23T10%3A51%3A46Z&sks=b&skv=2024-08-04&sig=qhClGGx5wJ4fAmew5dw2bvdZ1qB6yDpayHrCDpbPMOM%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Zt8yxr59tVQxaKN5qGjM8IH3.png?st=2025-07-22T21%3A26%3A39Z&se=2025-07-22T23%3A26%3A39Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A51%3A46Z&ske=2025-07-23T10%3A51%3A46Z&sks=b&skv=2024-08-04&sig=qhClGGx5wJ4fAmew5dw2bvdZ1qB6yDpayHrCDpbPMOM%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_3_20250723_002635_c2a16c8d.png
   ✅ Impressive festival image added to page 3.
   🤖 Generating comprehensive introduction for Obon (Festival of the Dead)...
   ✅ Page 3 cultural overview added.
   🤖 Generating vocabulary explanations for page 3...
   ✅ Vocabulary 'お盆 (おぼん)' added to page 3.
   ✅ Vocabulary '先祖 (せんぞ)' added to page 3.
   ✅ Vocabulary '迎え火 (むかえび)' added to page 3.
   ✅ Vocabulary '送り火 (おくりび)' added to page 3.
   ✅ Vocabulary '盆踊り (ぼんおどり)' added to page 3.
   ✅ Vocabulary '精霊 (しょうりょう)' added to page 3.
   🤖 Generating varied quiz questions for page 3...
   ✅ Quiz #1 (cultural significance and historical background) added to page 3.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 3.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 3.
   
   --- Creating Page 4: Gion Matsuri (Gion Festival) ---
   🖼️ Generating impressive festival image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-p8d3yhOBI0j6mVlQAzABY2HW.png?st=2025-07-22T21%3A32%3A23Z&se=2025-07-22T23%3A32%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A00%3A44Z&ske=2025-07-23T06%3A00%3A44Z&sks=b&skv=2024-08-04&sig=WjDNczmQp4IDUrQiLWSt0HH/beMrIWRwHPYECer/Nck%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-p8d3yhOBI0j6mVlQAzABY2HW.png?st=2025-07-22T21%3A32%3A23Z&se=2025-07-22T23%3A32%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A00%3A44Z&ske=2025-07-23T06%3A00%3A44Z&sks=b&skv=2024-08-04&sig=WjDNczmQp4IDUrQiLWSt0HH/beMrIWRwHPYECer/Nck%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_4_20250723_003219_9ba5548e.png
   ✅ Impressive festival image added to page 4.
   🤖 Generating comprehensive introduction for Gion Matsuri (Gion Festival)...
   ✅ Page 4 cultural overview added.
   🤖 Generating vocabulary explanations for page 4...
   ✅ Vocabulary '祇園祭 (ぎおんまつり)' added to page 4.
   ✅ Vocabulary '山鉾 (やまぼこ)' added to page 4.
   ✅ Vocabulary '巡行 (じゅんこう)' added to page 4.
   ✅ Vocabulary '京都 (きょうと)' added to page 4.
   ✅ Vocabulary '疫病 (えきびょう)' added to page 4.
   ✅ Vocabulary '神輿 (みこし)' added to page 4.
   🤖 Generating varied quiz questions for page 4...
   ✅ Quiz #1 (cultural significance and historical background) added to page 4.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 4.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 4.
   
   --- Creating Page 5: Awa Odori (Awa Dance Festival) ---
   🖼️ Generating impressive festival image for page 5...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 5: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ndP4WByTNMHIHEJlTRKkowIv.png?st=2025-07-22T21%3A37%3A36Z&se=2025-07-22T23%3A37%3A36Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T22%3A02%3A44Z&ske=2025-07-23T22%3A02%3A44Z&sks=b&skv=2024-08-04&sig=0DTQyAxFklrw%2BaBg7hfrw6gOX9EnOLx4/Lxdh2QRUVc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ndP4WByTNMHIHEJlTRKkowIv.png?st=2025-07-22T21%3A37%3A36Z&se=2025-07-22T23%3A37%3A36Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T22%3A02%3A44Z&ske=2025-07-23T22%3A02%3A44Z&sks=b&skv=2024-08-04&sig=0DTQyAxFklrw%2BaBg7hfrw6gOX9EnOLx4/Lxdh2QRUVc%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_5_20250723_003732_aeede2db.png
   ✅ Impressive festival image added to page 5.
   🤖 Generating comprehensive introduction for Awa Odori (Awa Dance Festival)...
   ✅ Page 5 cultural overview added.
   🤖 Generating vocabulary explanations for page 5...
   ✅ Vocabulary '阿波踊り (あわおどり)' added to page 5.
   ✅ Vocabulary '踊り (おどり)' added to page 5.
   ✅ Vocabulary '連 (れん)' added to page 5.
   ✅ Vocabulary '徳島 (とくしま)' added to page 5.
   ✅ Vocabulary '三味線 (しゃみせん)' added to page 5.
   ✅ Vocabulary '太鼓 (たいこ)' added to page 5.
   🤖 Generating varied quiz questions for page 5...
   ✅ Quiz #1 (cultural significance and historical background) added to page 5.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 5.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 5.
   
   --- Creating Page 6: Nebuta Matsuri (Nebuta Festival) ---
   🖼️ Generating impressive festival image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-QIlrF0B3B9vF3s2Sfknm18yg.png?st=2025-07-22T21%3A42%3A32Z&se=2025-07-22T23%3A42%3A32Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A37%3A20Z&ske=2025-07-23T18%3A37%3A20Z&sks=b&skv=2024-08-04&sig=4nLE/2AxlqbKWyyhGI%2Ber5k4RsYH5R8DcjFOWQhAUjs%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-QIlrF0B3B9vF3s2Sfknm18yg.png?st=2025-07-22T21%3A42%3A32Z&se=2025-07-22T23%3A42%3A32Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A37%3A20Z&ske=2025-07-23T18%3A37%3A20Z&sks=b&skv=2024-08-04&sig=4nLE/2AxlqbKWyyhGI%2Ber5k4RsYH5R8DcjFOWQhAUjs%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_6_20250723_004228_b0b7c8df.png
   ✅ Impressive festival image added to page 6.
   🤖 Generating comprehensive introduction for Nebuta Matsuri (Nebuta Festival)...
   ✅ Page 6 cultural overview added.
   🤖 Generating vocabulary explanations for page 6...
   ✅ Vocabulary 'ねぶた' added to page 6.
   ✅ Vocabulary '青森 (あおもり)' added to page 6.
   ✅ Vocabulary '武者 (むしゃ)' added to page 6.
   ✅ Vocabulary '和紙 (わし)' added to page 6.
   ✅ Vocabulary '跳人 (はねと)' added to page 6.
   ✅ Vocabulary '囃子 (はやし)' added to page 6.
   🤖 Generating varied quiz questions for page 6...
   ✅ Quiz #1 (cultural significance and historical background) added to page 6.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 6.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 6.
   
   --- Creating Page 7: Kanda Matsuri (Kanda Festival) ---
   🖼️ Generating impressive festival image for page 7...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 7: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Rnz0NCu2Xw4PL5awESh9RVws.png?st=2025-07-22T21%3A47%3A45Z&se=2025-07-22T23%3A47%3A45Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A34%3A22Z&ske=2025-07-23T20%3A34%3A22Z&sks=b&skv=2024-08-04&sig=rs8qqR/WQSRWLBBwR/GvdLlIn4mcLjZACwTyiitl500%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Rnz0NCu2Xw4PL5awESh9RVws.png?st=2025-07-22T21%3A47%3A45Z&se=2025-07-22T23%3A47%3A45Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A34%3A22Z&ske=2025-07-23T20%3A34%3A22Z&sks=b&skv=2024-08-04&sig=rs8qqR/WQSRWLBBwR/GvdLlIn4mcLjZACwTyiitl500%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_7_20250723_004742_a337c3e6.png
   ✅ Impressive festival image added to page 7.
   🤖 Generating comprehensive introduction for Kanda Matsuri (Kanda Festival)...
   ✅ Page 7 cultural overview added.
   🤖 Generating vocabulary explanations for page 7...
   ✅ Vocabulary '神田祭 (かんだまつり)' added to page 7.
   ✅ Vocabulary '江戸 (えど)' added to page 7.
   ✅ Vocabulary '神田 (かんだ)' added to page 7.
   ✅ Vocabulary '神社 (じんじゃ)' added to page 7.
   ✅ Vocabulary '御輿 (みこし)' added to page 7.
   ✅ Vocabulary '威勢 (いせい)' added to page 7.
   🤖 Generating varied quiz questions for page 7...
   ✅ Quiz #1 (cultural significance and historical background) added to page 7.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 7.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 7.
   
   --- Creating Page 8: Sapporo Snow Festival ---
   🖼️ Generating impressive festival image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ATFGmuxzcdzfgo2I28O6oUTZ.png?st=2025-07-22T21%3A52%3A50Z&se=2025-07-22T23%3A52%3A50Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A45%3A35Z&ske=2025-07-23T20%3A45%3A35Z&sks=b&skv=2024-08-04&sig=9iEJP499S1TgwDVEzR2sGtN7WlmvLz%2Bnv36huqutOMw%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ATFGmuxzcdzfgo2I28O6oUTZ.png?st=2025-07-22T21%3A52%3A50Z&se=2025-07-22T23%3A52%3A50Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A45%3A35Z&ske=2025-07-23T20%3A45%3A35Z&sks=b&skv=2024-08-04&sig=9iEJP499S1TgwDVEzR2sGtN7WlmvLz%2Bnv36huqutOMw%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_8_20250723_005246_38abe39d.png
   ✅ Impressive festival image added to page 8.
   🤖 Generating comprehensive introduction for Sapporo Snow Festival...
   ✅ Page 8 cultural overview added.
   🤖 Generating vocabulary explanations for page 8...
   ✅ Vocabulary '雪まつり (ゆきまつり)' added to page 8.
   ✅ Vocabulary '札幌 (さっぽろ)' added to page 8.
   ✅ Vocabulary '雪像 (ゆきぞう)' added to page 8.
   ✅ Vocabulary '氷像 (ひょうぞう)' added to page 8.
   ✅ Vocabulary '大通公園 (おおどおりこうえん)' added to page 8.
   ✅ Vocabulary 'イルミネーション' added to page 8.
   🤖 Generating varied quiz questions for page 8...
   ✅ Quiz #1 (cultural significance and historical background) added to page 8.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 8.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 8.
   
   --- Creating Page 9: Takayama Festival ---
   🖼️ Generating impressive festival image for page 9...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 9: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-JoTrCjYmH6KkIko5oN6ilIV5.png?st=2025-07-22T21%3A57%3A59Z&se=2025-07-22T23%3A57%3A59Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A32%3A44Z&ske=2025-07-23T00%3A32%3A44Z&sks=b&skv=2024-08-04&sig=A9iTOeRaZjGmeUzuCBL1zkZVFeP0NB4zgeUhtPlefSo%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-JoTrCjYmH6KkIko5oN6ilIV5.png?st=2025-07-22T21%3A57%3A59Z&se=2025-07-22T23%3A57%3A59Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A32%3A44Z&ske=2025-07-23T00%3A32%3A44Z&sks=b&skv=2024-08-04&sig=A9iTOeRaZjGmeUzuCBL1zkZVFeP0NB4zgeUhtPlefSo%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_9_20250723_005756_2cdb84c6.png
   ✅ Impressive festival image added to page 9.
   🤖 Generating comprehensive introduction for Takayama Festival...
   ✅ Page 9 cultural overview added.
   🤖 Generating vocabulary explanations for page 9...
   ✅ Vocabulary '高山祭 (たかやままつり)' added to page 9.
   ✅ Vocabulary '飛騨 (ひだ)' added to page 9.
   ✅ Vocabulary '屋台 (やたい)' added to page 9.
   ✅ Vocabulary 'からくり人形 (からくりにんぎょう)' added to page 9.
   ✅ Vocabulary '匠 (たくみ)' added to page 9.
   ✅ Vocabulary '伝統工芸 (でんとうこうげい)' added to page 9.
   🤖 Generating varied quiz questions for page 9...
   ✅ Quiz #1 (cultural significance and historical background) added to page 9.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 9.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 9.
   
   --- Creating Page 10: Aoi Matsuri (Hollyhock Festival) ---
   🖼️ Generating impressive festival image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-uTYC1JijvWSPrpv72gsbMzz2.png?st=2025-07-22T22%3A03%3A24Z&se=2025-07-23T00%3A03%3A24Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A54%3A48Z&ske=2025-07-23T19%3A54%3A48Z&sks=b&skv=2024-08-04&sig=q9F9/wFCOtMi7FkHH6vbjDzpNx54fL66BEyLYQetfgg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-uTYC1JijvWSPrpv72gsbMzz2.png?st=2025-07-22T22%3A03%3A24Z&se=2025-07-23T00%3A03%3A24Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A54%3A48Z&ske=2025-07-23T19%3A54%3A48Z&sks=b&skv=2024-08-04&sig=q9F9/wFCOtMi7FkHH6vbjDzpNx54fL66BEyLYQetfgg%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_10_20250723_010320_4d52f944.png
   ✅ Impressive festival image added to page 10.
   🤖 Generating comprehensive introduction for Aoi Matsuri (Hollyhock Festival)...
   ✅ Page 10 cultural overview added.
   🤖 Generating vocabulary explanations for page 10...
   ✅ Vocabulary '葵祭 (あおいまつり)' added to page 10.
   ✅ Vocabulary '葵 (あおい)' added to page 10.
   ✅ Vocabulary '平安時代 (へいあんじだい)' added to page 10.
   ✅ Vocabulary '行列 (ぎょうれつ)' added to page 10.
   ✅ Vocabulary '貴族 (きぞく)' added to page 10.
   ✅ Vocabulary '装束 (しょうぞく)' added to page 10.
   🤖 Generating varied quiz questions for page 10...
   ✅ Quiz #1 (cultural significance and historical background) added to page 10.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 10.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 10.
   
   --- Creating Page 11: Japanese Festival Traditions ---
   🖼️ Generating impressive festival image for page 11...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 11: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-rD42szGwX3d2Vv4HieETt5JF.png?st=2025-07-22T22%3A08%3A09Z&se=2025-07-23T00%3A08%3A09Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A02%3A37Z&ske=2025-07-23T21%3A02%3A37Z&sks=b&skv=2024-08-04&sig=h2Ka6/2l381lY9cNbv0pZB67V6XjeUvYJXfbHd5g8gs%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-rD42szGwX3d2Vv4HieETt5JF.png?st=2025-07-22T22%3A08%3A09Z&se=2025-07-23T00%3A08%3A09Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A02%3A37Z&ske=2025-07-23T21%3A02%3A37Z&sks=b&skv=2024-08-04&sig=h2Ka6/2l381lY9cNbv0pZB67V6XjeUvYJXfbHd5g8gs%3D
   ✅ Image saved to: lessons/image/lesson_30/festival_page_11_20250723_010805_4f64ef60.png
   ✅ Impressive festival image added to page 11.
   🤖 Generating comprehensive introduction for Japanese Festival Traditions...
   ✅ Page 11 cultural overview added.
   🤖 Generating vocabulary explanations for page 11...
   ✅ Vocabulary '祭り (まつり)' added to page 11.
   ✅ Vocabulary '文化 (ぶんか)' added to page 11.
   ✅ Vocabulary '伝統 (でんとう)' added to page 11.
   ✅ Vocabulary '共同体 (きょうどうたい)' added to page 11.
   ✅ Vocabulary '季節 (きせつ)' added to page 11.
   ✅ Vocabulary '精神 (せいしん)' added to page 11.
   🤖 Generating varied quiz questions for page 11...
   ✅ Quiz #1 (cultural significance and historical background) added to page 11.
   ✅ Quiz #2 (vocabulary meaning and usage in festival context) added to page 11.
   ✅ Quiz #3 (traditional activities and seasonal timing) added to page 11.
   
   --- Japanese Festivals Lesson Creation Complete! ---
   ✅ Japanese Festivals lesson created successfully!
   - 11 festival pages created
   - Each page contains: impressive festival image, cultural overview, vocabulary with phonetics, and varied quizzes
   - Covers major festivals: Sakura Matsuri, Tanabata, Obon, Gion Matsuri, Awa Odori, Nebuta Matsuri, Kanda Matsuri, Sapporo Snow Festival, Takayama Festival, Aoi Matsuri
   - All Japanese text includes romanized pronunciation (romaji)
   - All images are text-free with impressive cultural visuals
   - Quiz questions cover cultural significance, vocabulary, and traditional activities
✅ Success: create_japanese_festivals_lesson.py (3345.9s)
   Last output lines:
      - All Japanese text includes romanized pronunciation (romaji)
      - All images are text-free with impressive cultural visuals
      - Quiz questions cover cultural significance, vocabulary, and traditional activities
⏳ Waiting 3 seconds before next execution...

--- [13/24] Processing: create_konbini_kingdom_mastering_the_japanese_convenience_store_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Konbini Kingdom: Mastering the Japanese Convenience Store' not found in database - will create
🎯 Executing: create_konbini_kingdom_mastering_the_japanese_convenience_store_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Konbini Kingdom: Mastering the Japanese Convenience Store ---
   ✅ Lesson 'Konbini Kingdom: Mastering the Japanese Convenience Store' created with ID: 31
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-dJZ8YwP6pHFUfyJCsq2oIQAN.png?st=2025-07-22T22%3A13%3A55Z&se=2025-07-23T00%3A13%3A55Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A59%3A37Z&ske=2025-07-23T10%3A59%3A37Z&sks=b&skv=2024-08-04&sig=rN3cboZ5M0tPxz84EXGPF8gzquUE1xGzCu4mUUE4ghw%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-dJZ8YwP6pHFUfyJCsq2oIQAN.png?st=2025-07-22T22%3A13%3A55Z&se=2025-07-23T00%3A13%3A55Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A59%3A37Z&ske=2025-07-23T10%3A59%3A37Z&sks=b&skv=2024-08-04&sig=rN3cboZ5M0tPxz84EXGPF8gzquUE1xGzCu4mUUE4ghw%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_31_background_20250723_011351_063ce058.png
   ✅ Background image added to lesson 'Konbini Kingdom: Mastering the Japanese Convenience Store'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-0IXmYp45oJ6T0YMdwBUoxiHo.png?st=2025-07-22T22%3A14%3A21Z&se=2025-07-23T00%3A14%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A12%3A59Z&ske=2025-07-23T13%3A12%3A59Z&sks=b&skv=2024-08-04&sig=iytFhZ7NzO%2BpCOjTZWOB9x0n9boAdlBRJWCqkPDLRyw%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-0IXmYp45oJ6T0YMdwBUoxiHo.png?st=2025-07-22T22%3A14%3A21Z&se=2025-07-23T00%3A14%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A12%3A59Z&ske=2025-07-23T13%3A12%3A59Z&sks=b&skv=2024-08-04&sig=iytFhZ7NzO%2BpCOjTZWOB9x0n9boAdlBRJWCqkPDLRyw%3D
   ✅ Image saved to: lessons/image/lesson_31/onomatopoeia_page_1_20250723_011417_478e2671.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Welcome to the Konbini! - コンビニへようこそ！ (Konbini e yōkoso!) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-RkyLTdPaxeVS0zo6lp1hb17F.png?st=2025-07-22T22%3A15%3A37Z&se=2025-07-23T00%3A15%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A17%3A36Z&ske=2025-07-23T17%3A17%3A36Z&sks=b&skv=2024-08-04&sig=OvGA7NyoD9DTPXAu3SADt6xvVxuwfE5SXKUiMs48JvI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-RkyLTdPaxeVS0zo6lp1hb17F.png?st=2025-07-22T22%3A15%3A37Z&se=2025-07-23T00%3A15%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A17%3A36Z&ske=2025-07-23T17%3A17%3A36Z&sks=b&skv=2024-08-04&sig=OvGA7NyoD9DTPXAu3SADt6xvVxuwfE5SXKUiMs48JvI%3D
   ✅ Image saved to: lessons/image/lesson_31/onomatopoeia_page_2_20250723_011533_e838c0fb.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Welcome to the Konbini! - コンビニへようこそ！ (Konbini e yōkoso!)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Welcome to the Konbini! - コンビニへようこそ！ (Konbini e yōkoso!) ---
   🤖 Generating batch quiz questions for Welcome to the Konbini! - コンビニへようこそ！ (Konbini e yōkoso!)...
   ✅ Generated 5 quiz questions in batch for Welcome to the Konbini! - コンビニへようこそ！ (Konbini e yōkoso!)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Finding Your Favorites - ほしいものを見つけよう！ (Hoshii mono o mitsukerou!) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BFIqoZJmpTsa7occjKDtQglh.png?st=2025-07-22T22%3A17%3A08Z&se=2025-07-23T00%3A17%3A08Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A04%3A13Z&ske=2025-07-23T21%3A04%3A13Z&sks=b&skv=2024-08-04&sig=jr5yFrTZZ0AGydLecJL1LnCwqsekGZblQfH3E4zMSM4%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BFIqoZJmpTsa7occjKDtQglh.png?st=2025-07-22T22%3A17%3A08Z&se=2025-07-23T00%3A17%3A08Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A04%3A13Z&ske=2025-07-23T21%3A04%3A13Z&sks=b&skv=2024-08-04&sig=jr5yFrTZZ0AGydLecJL1LnCwqsekGZblQfH3E4zMSM4%3D
   ✅ Image saved to: lessons/image/lesson_31/onomatopoeia_page_4_20250723_011705_9cb8e955.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Finding Your Favorites - ほしいものを見つけよう！ (Hoshii mono o mitsukerou!)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Finding Your Favorites - ほしいものを見つけよう！ (Hoshii mono o mitsukerou!) ---
   🤖 Generating batch quiz questions for Finding Your Favorites - ほしいものを見つけよう！ (Hoshii mono o mitsukerou!)...
   ✅ Generated 5 quiz questions in batch for Finding Your Favorites - ほしいものを見つけよう！ (Hoshii mono o mitsukerou!)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 5.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 5.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: At the Register - レジで (Reji de) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-UOaGDq8Ij3UvZE3PvIBITGhi.png?st=2025-07-22T22%3A18%3A56Z&se=2025-07-23T00%3A18%3A56Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A13%3A44Z&ske=2025-07-23T21%3A13%3A44Z&sks=b&skv=2024-08-04&sig=JUEdL0WWyPOI6koLzmwf1pldA61p4bQpkJFwxib16wI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-UOaGDq8Ij3UvZE3PvIBITGhi.png?st=2025-07-22T22%3A18%3A56Z&se=2025-07-23T00%3A18%3A56Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A13%3A44Z&ske=2025-07-23T21%3A13%3A44Z&sks=b&skv=2024-08-04&sig=JUEdL0WWyPOI6koLzmwf1pldA61p4bQpkJFwxib16wI%3D
   ✅ Image saved to: lessons/image/lesson_31/onomatopoeia_page_6_20250723_011852_f8b31770.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for At the Register - レジで (Reji de)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for At the Register - レジで (Reji de) ---
   🤖 Generating batch quiz questions for At the Register - レジで (Reji de)...
   ✅ Generated 5 quiz questions in batch for At the Register - レジで (Reji de)
   Processing Matching quiz #1...
   ✅ Matching quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 7.
   Processing Multiple Choice quiz #4...
   ✅ Multiple Choice quiz #4 added to quiz page 7.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Beyond Snacks: Konbini Services - コンビニのサービス (Konbini no sābisu) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-iDv9i61lhIw8kS12dXZudLdZ.png?st=2025-07-22T22%3A20%3A37Z&se=2025-07-23T00%3A20%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A28%3A15Z&ske=2025-07-23T19%3A28%3A15Z&sks=b&skv=2024-08-04&sig=BmldR72EbVYIzwzue8shl5mBTHrZWkuottTyTLwXTgA%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-iDv9i61lhIw8kS12dXZudLdZ.png?st=2025-07-22T22%3A20%3A37Z&se=2025-07-23T00%3A20%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A28%3A15Z&ske=2025-07-23T19%3A28%3A15Z&sks=b&skv=2024-08-04&sig=BmldR72EbVYIzwzue8shl5mBTHrZWkuottTyTLwXTgA%3D
   ✅ Image saved to: lessons/image/lesson_31/onomatopoeia_page_8_20250723_012033_49ffbdd9.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Beyond Snacks: Konbini Services - コンビニのサービス (Konbini no sābisu)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Beyond Snacks: Konbini Services - コンビニのサービス (Konbini no sābisu) ---
   🤖 Generating batch quiz questions for Beyond Snacks: Konbini Services - コンビニのサービス (Konbini no sābisu)...
   ✅ Generated 5 quiz questions in batch for Beyond Snacks: Konbini Services - コンビニのサービス (Konbini no sābisu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Konbini Etiquette - コンビニでのマナー (Konbini de no manā) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-z3ZvEwHh47DECDg2vj3bpLBS.png?st=2025-07-22T22%3A22%3A13Z&se=2025-07-23T00%3A22%3A13Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A26%3A36Z&ske=2025-07-23T10%3A26%3A36Z&sks=b&skv=2024-08-04&sig=fl2RL2k%2B16OoWBWDtU6Gxtp0SdDdLTTsTPclI1Qp80U%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-z3ZvEwHh47DECDg2vj3bpLBS.png?st=2025-07-22T22%3A22%3A13Z&se=2025-07-23T00%3A22%3A13Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A26%3A36Z&ske=2025-07-23T10%3A26%3A36Z&sks=b&skv=2024-08-04&sig=fl2RL2k%2B16OoWBWDtU6Gxtp0SdDdLTTsTPclI1Qp80U%3D
   ✅ Image saved to: lessons/image/lesson_31/onomatopoeia_page_10_20250723_012209_aba533bc.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Konbini Etiquette - コンビニでのマナー (Konbini de no manā)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Konbini Etiquette - コンビニでのマナー (Konbini de no manā) ---
   🤖 Generating batch quiz questions for Konbini Etiquette - コンビニでのマナー (Konbini de no manā)...
   ✅ Generated 5 quiz questions in batch for Konbini Etiquette - コンビニでのマナー (Konbini de no manā)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 11.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 11.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Useful Phrases - 役に立つフレーズ (Yakunitatsu Furēzu) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Fv2bGXlhaA3D1562FSOJfO1B.png?st=2025-07-22T22%3A23%3A46Z&se=2025-07-23T00%3A23%3A46Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A11%3A25Z&ske=2025-07-23T02%3A11%3A25Z&sks=b&skv=2024-08-04&sig=P0kcxbgruAg8yJEF56vS2AXguxMZt0VeB8NnA4cYXAk%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Fv2bGXlhaA3D1562FSOJfO1B.png?st=2025-07-22T22%3A23%3A46Z&se=2025-07-23T00%3A23%3A46Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A11%3A25Z&ske=2025-07-23T02%3A11%3A25Z&sks=b&skv=2024-08-04&sig=P0kcxbgruAg8yJEF56vS2AXguxMZt0VeB8NnA4cYXAk%3D
   ✅ Image saved to: lessons/image/lesson_31/onomatopoeia_page_12_20250723_012342_183d989e.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Useful Phrases - 役に立つフレーズ (Yakunitatsu Furēzu)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Useful Phrases - 役に立つフレーズ (Yakunitatsu Furēzu) ---
   🤖 Generating batch quiz questions for Useful Phrases - 役に立つフレーズ (Yakunitatsu Furēzu)...
   ✅ Generated 5 quiz questions in batch for Useful Phrases - 役に立つフレーズ (Yakunitatsu Furēzu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Konbini Adventures - コンビニ冒険 (Konbini Bōken) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-JFShsJsSIlJc4f1wtLvlpTo6.png?st=2025-07-22T22%3A25%3A20Z&se=2025-07-23T00%3A25%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A01%3A33Z&ske=2025-07-23T09%3A01%3A33Z&sks=b&skv=2024-08-04&sig=8mmFTcwC1vm7kuSTaUBEa5FCtWNmC4qZVJ4lva8kaZU%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-JFShsJsSIlJc4f1wtLvlpTo6.png?st=2025-07-22T22%3A25%3A20Z&se=2025-07-23T00%3A25%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A01%3A33Z&ske=2025-07-23T09%3A01%3A33Z&sks=b&skv=2024-08-04&sig=8mmFTcwC1vm7kuSTaUBEa5FCtWNmC4qZVJ4lva8kaZU%3D
   ✅ Image saved to: lessons/image/lesson_31/onomatopoeia_page_14_20250723_012516_8d742bd7.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Konbini Adventures - コンビニ冒険 (Konbini Bōken)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Konbini Adventures - コンビニ冒険 (Konbini Bōken) ---
   🤖 Generating batch quiz questions for Konbini Adventures - コンビニ冒険 (Konbini Bōken)...
   ✅ Generated 5 quiz questions in batch for Konbini Adventures - コンビニ冒険 (Konbini Bōken)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Konbini Kingdom: Mastering the Japanese Convenience Store Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_konbini_kingdom_mastering_the_japanese_convenience_store_lesson.py (867.7s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [14/24] Processing: create_navigating_the_japanese_web_decoding_internet_slang_and_social_media_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Navigating the Japanese Web: Decoding Internet Slang and Social Media' not found in database - will create
🎯 Executing: create_navigating_the_japanese_web_decoding_internet_slang_and_social_media_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Navigating the Japanese Web: Decoding Internet Slang and Social Media ---
   ✅ Lesson 'Navigating the Japanese Web: Decoding Internet Slang and Social Media' created with ID: 32
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Bq4TAYNFN3aEZ3BN97VRIBVE.png?st=2025-07-22T22%3A28%3A17Z&se=2025-07-23T00%3A28%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A10%3A48Z&ske=2025-07-23T19%3A10%3A48Z&sks=b&skv=2024-08-04&sig=bYncBgWISg%2BJ7cubR6sovMqWt4Re/OTb2%2B800q6wpC4%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Bq4TAYNFN3aEZ3BN97VRIBVE.png?st=2025-07-22T22%3A28%3A17Z&se=2025-07-23T00%3A28%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A10%3A48Z&ske=2025-07-23T19%3A10%3A48Z&sks=b&skv=2024-08-04&sig=bYncBgWISg%2BJ7cubR6sovMqWt4Re/OTb2%2B800q6wpC4%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_32_background_20250723_012814_7446ce6f.png
   ✅ Background image added to lesson 'Navigating the Japanese Web: Decoding Internet Slang and Social Media'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-HVSTZ4p5bsGmnMmIPCYKlb0c.png?st=2025-07-22T22%3A28%3A40Z&se=2025-07-23T00%3A28%3A40Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A29%3A04Z&ske=2025-07-23T19%3A29%3A04Z&sks=b&skv=2024-08-04&sig=9zru/if23uRiPJEYN4mcZ4C8Esl2/66dzN3wnbXV%2Brg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-HVSTZ4p5bsGmnMmIPCYKlb0c.png?st=2025-07-22T22%3A28%3A40Z&se=2025-07-23T00%3A28%3A40Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A29%3A04Z&ske=2025-07-23T19%3A29%3A04Z&sks=b&skv=2024-08-04&sig=9zru/if23uRiPJEYN4mcZ4C8Esl2/66dzN3wnbXV%2Brg%3D
   ✅ Image saved to: lessons/image/lesson_32/onomatopoeia_page_1_20250723_012836_6bc33370.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Introduction to ネットスラング (Netto Surangu) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-JZDU0wfyOp0CPW3NpZBFtAl5.png?st=2025-07-22T22%3A29%3A32Z&se=2025-07-23T00%3A29%3A32Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A31%3A45Z&ske=2025-07-23T13%3A31%3A45Z&sks=b&skv=2024-08-04&sig=BrmHf/Ne6omcixYQvHQZDC8gZToiKQgU542jQqZpbL4%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-JZDU0wfyOp0CPW3NpZBFtAl5.png?st=2025-07-22T22%3A29%3A32Z&se=2025-07-23T00%3A29%3A32Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A31%3A45Z&ske=2025-07-23T13%3A31%3A45Z&sks=b&skv=2024-08-04&sig=BrmHf/Ne6omcixYQvHQZDC8gZToiKQgU542jQqZpbL4%3D
   ✅ Image saved to: lessons/image/lesson_32/onomatopoeia_page_2_20250723_012928_bf211d97.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Introduction to ネットスラング (Netto Surangu)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Introduction to ネットスラング (Netto Surangu) ---
   🤖 Generating batch quiz questions for Introduction to ネットスラング (Netto Surangu)...
   ✅ Generated 5 quiz questions in batch for Introduction to ネットスラング (Netto Surangu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Common Abbreviations:  略語 (Ryakugo) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Gp9RFsmYYawWiNAXCzwNUux4.png?st=2025-07-22T22%3A31%3A19Z&se=2025-07-23T00%3A31%3A19Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A00%3A26Z&ske=2025-07-23T14%3A00%3A26Z&sks=b&skv=2024-08-04&sig=WyX9nMj%2BAiTBnFMmtXUpw7xQZ/TBi6PmLIlBJX8q12k%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Gp9RFsmYYawWiNAXCzwNUux4.png?st=2025-07-22T22%3A31%3A19Z&se=2025-07-23T00%3A31%3A19Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A00%3A26Z&ske=2025-07-23T14%3A00%3A26Z&sks=b&skv=2024-08-04&sig=WyX9nMj%2BAiTBnFMmtXUpw7xQZ/TBi6PmLIlBJX8q12k%3D
   ✅ Image saved to: lessons/image/lesson_32/onomatopoeia_page_4_20250723_013115_23016891.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Common Abbreviations:  略語 (Ryakugo)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Common Abbreviations:  略語 (Ryakugo) ---
   🤖 Generating batch quiz questions for Common Abbreviations:  略語 (Ryakugo)...
   ✅ Generated 5 quiz questions in batch for Common Abbreviations:  略語 (Ryakugo)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 5.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 5.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Expressive Emoticons: 顔文字 (Kaomoji) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-i4ywqMHEDTypd4l7oGzEIjy9.png?st=2025-07-22T22%3A33%3A04Z&se=2025-07-23T00%3A33%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A12%3A31Z&ske=2025-07-23T19%3A12%3A31Z&sks=b&skv=2024-08-04&sig=VPl86qrJC1yyiuE/JVFLzP6P5X9moEsyG%2Bic5OP%2BFmk%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-i4ywqMHEDTypd4l7oGzEIjy9.png?st=2025-07-22T22%3A33%3A04Z&se=2025-07-23T00%3A33%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A12%3A31Z&ske=2025-07-23T19%3A12%3A31Z&sks=b&skv=2024-08-04&sig=VPl86qrJC1yyiuE/JVFLzP6P5X9moEsyG%2Bic5OP%2BFmk%3D
   ✅ Image saved to: lessons/image/lesson_32/onomatopoeia_page_6_20250723_013300_d06fe131.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Expressive Emoticons: 顔文字 (Kaomoji)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Expressive Emoticons: 顔文字 (Kaomoji) ---
   🤖 Generating batch quiz questions for Expressive Emoticons: 顔文字 (Kaomoji)...
   ✅ Generated 5 quiz questions in batch for Expressive Emoticons: 顔文字 (Kaomoji)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Matching quiz #3...
   ✅ Matching quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Emoji and Stickers: 絵文字とスタンプ (Emoji to Stampu) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-xrLn5GsTvPnTLtZ2lO7pdfRk.png?st=2025-07-22T22%3A34%3A37Z&se=2025-07-23T00%3A34%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T03%3A45%3A13Z&ske=2025-07-23T03%3A45%3A13Z&sks=b&skv=2024-08-04&sig=36WH/UwbYBNGC6Q17cK0thY7PLGML2DO7CysLrJeqZo%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-xrLn5GsTvPnTLtZ2lO7pdfRk.png?st=2025-07-22T22%3A34%3A37Z&se=2025-07-23T00%3A34%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T03%3A45%3A13Z&ske=2025-07-23T03%3A45%3A13Z&sks=b&skv=2024-08-04&sig=36WH/UwbYBNGC6Q17cK0thY7PLGML2DO7CysLrJeqZo%3D
   ✅ Image saved to: lessons/image/lesson_32/onomatopoeia_page_8_20250723_013433_7c1d6303.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Emoji and Stickers: 絵文字とスタンプ (Emoji to Stampu)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Emoji and Stickers: 絵文字とスタンプ (Emoji to Stampu) ---
   🤖 Generating batch quiz questions for Emoji and Stickers: 絵文字とスタンプ (Emoji to Stampu)...
   ✅ Generated 5 quiz questions in batch for Emoji and Stickers: 絵文字とスタンプ (Emoji to Stampu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Youth Slang: 若者言葉 (Wakamono Kotoba) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-WPxxfkrI5r5K3y9wh0HkoUxl.png?st=2025-07-22T22%3A36%3A31Z&se=2025-07-23T00%3A36%3A31Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T22%3A57%3A37Z&ske=2025-07-23T22%3A57%3A37Z&sks=b&skv=2024-08-04&sig=r6Is2AyhJtteTSEhTbC/26Wvrpn/j0tacsCS2fM6Iek%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-WPxxfkrI5r5K3y9wh0HkoUxl.png?st=2025-07-22T22%3A36%3A31Z&se=2025-07-23T00%3A36%3A31Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T22%3A57%3A37Z&ske=2025-07-23T22%3A57%3A37Z&sks=b&skv=2024-08-04&sig=r6Is2AyhJtteTSEhTbC/26Wvrpn/j0tacsCS2fM6Iek%3D
   ✅ Image saved to: lessons/image/lesson_32/onomatopoeia_page_10_20250723_013628_8cae827c.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Youth Slang: 若者言葉 (Wakamono Kotoba)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Youth Slang: 若者言葉 (Wakamono Kotoba) ---
   🤖 Generating batch quiz questions for Youth Slang: 若者言葉 (Wakamono Kotoba)...
   ✅ Generated 5 quiz questions in batch for Youth Slang: 若者言葉 (Wakamono Kotoba)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Social Media Etiquette:  SNSエチケット (SNS Etiketto) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-nDzB7emv2zc04py7T7YpWbCc.png?st=2025-07-22T22%3A38%3A34Z&se=2025-07-23T00%3A38%3A34Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T07%3A50%3A08Z&ske=2025-07-23T07%3A50%3A08Z&sks=b&skv=2024-08-04&sig=itBS6ynbyGYnfbByctVccQVmAiNH2jYv24RmpDoGiRk%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-nDzB7emv2zc04py7T7YpWbCc.png?st=2025-07-22T22%3A38%3A34Z&se=2025-07-23T00%3A38%3A34Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T07%3A50%3A08Z&ske=2025-07-23T07%3A50%3A08Z&sks=b&skv=2024-08-04&sig=itBS6ynbyGYnfbByctVccQVmAiNH2jYv24RmpDoGiRk%3D
   ✅ Image saved to: lessons/image/lesson_32/onomatopoeia_page_12_20250723_013830_9d75354d.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Social Media Etiquette:  SNSエチケット (SNS Etiketto)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Social Media Etiquette:  SNSエチケット (SNS Etiketto) ---
   🤖 Generating batch quiz questions for Social Media Etiquette:  SNSエチケット (SNS Etiketto)...
   ✅ Generated 5 quiz questions in batch for Social Media Etiquette:  SNSエチケット (SNS Etiketto)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Putting it All Together:  実践練習 (Jissen Renshū) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-enVm41OAoiZtg4O1ldWQDy7Q.png?st=2025-07-22T22%3A40%3A23Z&se=2025-07-23T00%3A40%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T23%3A40%3A23Z&ske=2025-07-23T23%3A40%3A23Z&sks=b&skv=2024-08-04&sig=HD3yhJJD3r5859amsFm0NpiGRtGh1%2Bh0p56nmaSK/HE%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-enVm41OAoiZtg4O1ldWQDy7Q.png?st=2025-07-22T22%3A40%3A23Z&se=2025-07-23T00%3A40%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T23%3A40%3A23Z&ske=2025-07-23T23%3A40%3A23Z&sks=b&skv=2024-08-04&sig=HD3yhJJD3r5859amsFm0NpiGRtGh1%2Bh0p56nmaSK/HE%3D
   ✅ Image saved to: lessons/image/lesson_32/onomatopoeia_page_14_20250723_014020_9af1d998.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Putting it All Together:  実践練習 (Jissen Renshū)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Putting it All Together:  実践練習 (Jissen Renshū) ---
   🤖 Generating batch quiz questions for Putting it All Together:  実践練習 (Jissen Renshū)...
   ✅ Generated 5 quiz questions in batch for Putting it All Together:  実践練習 (Jissen Renshū)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 15.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 15.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Navigating the Japanese Web: Decoding Internet Slang and Social Media Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_navigating_the_japanese_web_decoding_internet_slang_and_social_media_lesson.py (938.4s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [15/24] Processing: create_navigating_the_japanese_workplace_essential_business_etiquette_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Navigating the Japanese Workplace: Essential Business Etiquette' not found in database - will create
🎯 Executing: create_navigating_the_japanese_workplace_essential_business_etiquette_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Navigating the Japanese Workplace: Essential Business Etiquette ---
   ✅ Lesson 'Navigating the Japanese Workplace: Essential Business Etiquette' created with ID: 33
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-wFcFZIDpoIPeY1SSvVSes2vz.png?st=2025-07-22T22%3A44%3A04Z&se=2025-07-23T00%3A44%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T01%3A40%3A32Z&ske=2025-07-23T01%3A40%3A32Z&sks=b&skv=2024-08-04&sig=zDhyxnQHs2UKN7lJFLWZ8qzBDOF7CGof%2BGmgpo3m/qU%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-wFcFZIDpoIPeY1SSvVSes2vz.png?st=2025-07-22T22%3A44%3A04Z&se=2025-07-23T00%3A44%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T01%3A40%3A32Z&ske=2025-07-23T01%3A40%3A32Z&sks=b&skv=2024-08-04&sig=zDhyxnQHs2UKN7lJFLWZ8qzBDOF7CGof%2BGmgpo3m/qU%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_33_background_20250723_014400_99597a5f.png
   ✅ Background image added to lesson 'Navigating the Japanese Workplace: Essential Business Etiquette'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-CuZaWZz5ZTG0yrchsHi86Rqc.png?st=2025-07-22T22%3A44%3A23Z&se=2025-07-23T00%3A44%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A57%3A41Z&ske=2025-07-23T06%3A57%3A41Z&sks=b&skv=2024-08-04&sig=0R6psxBB93r%2BDLFBuOLBW9Mm04rnuot7ffLwmoAuUlE%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-CuZaWZz5ZTG0yrchsHi86Rqc.png?st=2025-07-22T22%3A44%3A23Z&se=2025-07-23T00%3A44%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A57%3A41Z&ske=2025-07-23T06%3A57%3A41Z&sks=b&skv=2024-08-04&sig=0R6psxBB93r%2BDLFBuOLBW9Mm04rnuot7ffLwmoAuUlE%3D
   ✅ Image saved to: lessons/image/lesson_33/onomatopoeia_page_1_20250723_014419_cbb8078c.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: First Impressions - Hajimemashite (Hajimemashite) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-gkg47SBv6cohCzD6I5SLzbTs.png?st=2025-07-22T22%3A45%3A23Z&se=2025-07-23T00%3A45%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A18%3A18Z&ske=2025-07-23T20%3A18%3A18Z&sks=b&skv=2024-08-04&sig=eTCN69ajWEGIqUocaCwqgNEj6FwJKo26CkR5DBHJU6M%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-gkg47SBv6cohCzD6I5SLzbTs.png?st=2025-07-22T22%3A45%3A23Z&se=2025-07-23T00%3A45%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A18%3A18Z&ske=2025-07-23T20%3A18%3A18Z&sks=b&skv=2024-08-04&sig=eTCN69ajWEGIqUocaCwqgNEj6FwJKo26CkR5DBHJU6M%3D
   ✅ Image saved to: lessons/image/lesson_33/onomatopoeia_page_2_20250723_014519_83076eaa.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for First Impressions - Hajimemashite (Hajimemashite)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for First Impressions - Hajimemashite (Hajimemashite) ---
   🤖 Generating batch quiz questions for First Impressions - Hajimemashite (Hajimemashite)...
   ✅ Generated 5 quiz questions in batch for First Impressions - Hajimemashite (Hajimemashite)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Respectful Language - Keigo (Keigo) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-FLusjbIJlfS7kdTkwxKEqHPM.png?st=2025-07-22T22%3A47%3A08Z&se=2025-07-23T00%3A47%3A08Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A24%3A24Z&ske=2025-07-23T06%3A24%3A24Z&sks=b&skv=2024-08-04&sig=T6VrI4ttR9ue4kGLoGfAySMyiktjOBB/a/DwjlkO/os%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-FLusjbIJlfS7kdTkwxKEqHPM.png?st=2025-07-22T22%3A47%3A08Z&se=2025-07-23T00%3A47%3A08Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A24%3A24Z&ske=2025-07-23T06%3A24%3A24Z&sks=b&skv=2024-08-04&sig=T6VrI4ttR9ue4kGLoGfAySMyiktjOBB/a/DwjlkO/os%3D
   ✅ Image saved to: lessons/image/lesson_33/onomatopoeia_page_4_20250723_014704_f7244dbe.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Respectful Language - Keigo (Keigo)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Respectful Language - Keigo (Keigo) ---
   🤖 Generating batch quiz questions for Respectful Language - Keigo (Keigo)...
   ✅ Generated 5 quiz questions in batch for Respectful Language - Keigo (Keigo)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Meeting Etiquette - Kaigi no Reigi (Kaigi no Reigi) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BJXfk49tIHaxab0fdEWQCNeD.png?st=2025-07-22T22%3A49%3A17Z&se=2025-07-23T00%3A49%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A12%3A16Z&ske=2025-07-23T19%3A12%3A16Z&sks=b&skv=2024-08-04&sig=92cuPVOQZsyjN65kDVPel8dj%2BZvImiIb6mFHNn1yl9g%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BJXfk49tIHaxab0fdEWQCNeD.png?st=2025-07-22T22%3A49%3A17Z&se=2025-07-23T00%3A49%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A12%3A16Z&ske=2025-07-23T19%3A12%3A16Z&sks=b&skv=2024-08-04&sig=92cuPVOQZsyjN65kDVPel8dj%2BZvImiIb6mFHNn1yl9g%3D
   ✅ Image saved to: lessons/image/lesson_33/onomatopoeia_page_6_20250723_014913_2e4ba7a9.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Meeting Etiquette - Kaigi no Reigi (Kaigi no Reigi)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Meeting Etiquette - Kaigi no Reigi (Kaigi no Reigi) ---
   🤖 Generating batch quiz questions for Meeting Etiquette - Kaigi no Reigi (Kaigi no Reigi)...
   ✅ Generated 5 quiz questions in batch for Meeting Etiquette - Kaigi no Reigi (Kaigi no Reigi)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Business Card Mastery - Meishi Koukan (Meishi Koukan) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-kimNt5kmUJCR2HuZMRtdnfhF.png?st=2025-07-22T22%3A51%3A00Z&se=2025-07-23T00%3A51%3A00Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T04%3A51%3A03Z&ske=2025-07-23T04%3A51%3A03Z&sks=b&skv=2024-08-04&sig=zy%2BEFxi7lGtLrj3b6tfxSkOBicnjTL51exECzyU8lyg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-kimNt5kmUJCR2HuZMRtdnfhF.png?st=2025-07-22T22%3A51%3A00Z&se=2025-07-23T00%3A51%3A00Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T04%3A51%3A03Z&ske=2025-07-23T04%3A51%3A03Z&sks=b&skv=2024-08-04&sig=zy%2BEFxi7lGtLrj3b6tfxSkOBicnjTL51exECzyU8lyg%3D
   ✅ Image saved to: lessons/image/lesson_33/onomatopoeia_page_8_20250723_015056_ff274117.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Business Card Mastery - Meishi Koukan (Meishi Koukan)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Business Card Mastery - Meishi Koukan (Meishi Koukan) ---
   🤖 Generating batch quiz questions for Business Card Mastery - Meishi Koukan (Meishi Koukan)...
   ✅ Generated 5 quiz questions in batch for Business Card Mastery - Meishi Koukan (Meishi Koukan)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Email & Phone Etiquette - Denshi メール to Denwa no Reigi (Denshi Mēru to Denwa no Reigi) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-gWDfZf7LPvvyQnZW8nKmkWXf.png?st=2025-07-22T22%3A52%3A48Z&se=2025-07-23T00%3A52%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A34%3A41Z&ske=2025-07-23T13%3A34%3A41Z&sks=b&skv=2024-08-04&sig=Q9HG4VVw/8mGNoVnRw%2BZOOgVmNJzzBXgedPWL9TMzQ4%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-gWDfZf7LPvvyQnZW8nKmkWXf.png?st=2025-07-22T22%3A52%3A48Z&se=2025-07-23T00%3A52%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A34%3A41Z&ske=2025-07-23T13%3A34%3A41Z&sks=b&skv=2024-08-04&sig=Q9HG4VVw/8mGNoVnRw%2BZOOgVmNJzzBXgedPWL9TMzQ4%3D
   ✅ Image saved to: lessons/image/lesson_33/onomatopoeia_page_10_20250723_015244_4c1d4507.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Email & Phone Etiquette - Denshi メール to Denwa no Reigi (Denshi Mēru to Denwa no Reigi)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Email & Phone Etiquette - Denshi メール to Denwa no Reigi (Denshi Mēru to Denwa no Reigi) ---
   🤖 Generating batch quiz questions for Email & Phone Etiquette - Denshi メール to Denwa no Reigi (Denshi Mēru to Denwa no Reigi)...
   ✅ Generated 5 quiz questions in batch for Email & Phone Etiquette - Denshi メール to Denwa no Reigi (Denshi Mēru to Denwa no Reigi)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Gift-Giving Customs - Okurimono no Shūkan (Okurimono no Shūkan) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Nl2HFXjekY4CyNpyJhOLTzNa.png?st=2025-07-22T22%3A54%3A48Z&se=2025-07-23T00%3A54%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A09%3A51Z&ske=2025-07-23T09%3A09%3A51Z&sks=b&skv=2024-08-04&sig=YcxcVaqfFuv5ZtmBTUZ4xJtkdHal1rL4kapSzZCMCvo%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Nl2HFXjekY4CyNpyJhOLTzNa.png?st=2025-07-22T22%3A54%3A48Z&se=2025-07-23T00%3A54%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A09%3A51Z&ske=2025-07-23T09%3A09%3A51Z&sks=b&skv=2024-08-04&sig=YcxcVaqfFuv5ZtmBTUZ4xJtkdHal1rL4kapSzZCMCvo%3D
   ✅ Image saved to: lessons/image/lesson_33/onomatopoeia_page_12_20250723_015444_76e28269.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Gift-Giving Customs - Okurimono no Shūkan (Okurimono no Shūkan)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Gift-Giving Customs - Okurimono no Shūkan (Okurimono no Shūkan) ---
   🤖 Generating batch quiz questions for Gift-Giving Customs - Okurimono no Shūkan (Okurimono no Shūkan)...
   ✅ Generated 5 quiz questions in batch for Gift-Giving Customs - Okurimono no Shūkan (Okurimono no Shūkan)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Dining Etiquette - Shokuji no Reigi (Shokuji no Reigi) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-1F1fxI2DQ29rJiTbR1psJWRq.png?st=2025-07-22T22%3A56%3A34Z&se=2025-07-23T00%3A56%3A34Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T01%3A56%3A43Z&ske=2025-07-23T01%3A56%3A43Z&sks=b&skv=2024-08-04&sig=ONkFyEtgAmdSN7s51b2bt5J5EfxJJtQx3sV%2BSmsANDc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-1F1fxI2DQ29rJiTbR1psJWRq.png?st=2025-07-22T22%3A56%3A34Z&se=2025-07-23T00%3A56%3A34Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T01%3A56%3A43Z&ske=2025-07-23T01%3A56%3A43Z&sks=b&skv=2024-08-04&sig=ONkFyEtgAmdSN7s51b2bt5J5EfxJJtQx3sV%2BSmsANDc%3D
   ✅ Image saved to: lessons/image/lesson_33/onomatopoeia_page_14_20250723_015630_16ffdd26.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Dining Etiquette - Shokuji no Reigi (Shokuji no Reigi)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Dining Etiquette - Shokuji no Reigi (Shokuji no Reigi) ---
   🤖 Generating batch quiz questions for Dining Etiquette - Shokuji no Reigi (Shokuji no Reigi)...
   ✅ Generated 5 quiz questions in batch for Dining Etiquette - Shokuji no Reigi (Shokuji no Reigi)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Navigating the Japanese Workplace: Essential Business Etiquette Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_navigating_the_japanese_workplace_essential_business_etiquette_lesson.py (947.1s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [16/24] Processing: create_protecting_our_planet_environmental_issues_and_sustainability_in_japan_地球を守ろう日本の環境問題と持続可能性_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Protecting Our Planet: Environmental Issues and Sustainability in Japan (地球を守ろう：日本の環境問題と持続可能性)' not found in database - will create
🎯 Executing: create_protecting_our_planet_environmental_issues_and_sustainability_in_japan_地球を守ろう日本の環境問題と持続可能性_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Protecting Our Planet: Environmental Issues and Sustainability in Japan (地球を守ろう：日本の環境問題と持続可能性) ---
   ✅ Lesson 'Protecting Our Planet: Environmental Issues and Sustainability in Japan (地球を守ろう：日本の環境問題と持続可能性)' created with ID: 34
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Oc2v80fjydeOAKUGz2ioo36k.png?st=2025-07-22T22%3A59%3A52Z&se=2025-07-23T00%3A59%3A52Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A17%3A24Z&ske=2025-07-23T16%3A17%3A24Z&sks=b&skv=2024-08-04&sig=rYulK8J6vH/K4iYCQyAwrHf/ZG3exnwHamzNjUpngcA%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Oc2v80fjydeOAKUGz2ioo36k.png?st=2025-07-22T22%3A59%3A52Z&se=2025-07-23T00%3A59%3A52Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A17%3A24Z&ske=2025-07-23T16%3A17%3A24Z&sks=b&skv=2024-08-04&sig=rYulK8J6vH/K4iYCQyAwrHf/ZG3exnwHamzNjUpngcA%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_34_background_20250723_015948_7fc0cd53.png
   ✅ Background image added to lesson 'Protecting Our Planet: Environmental Issues and Sustainability in Japan (地球を守ろう：日本の環境問題と持続可能性)'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-fPbIP3LgwgaAQ43d202jj9AH.png?st=2025-07-22T23%3A00%3A13Z&se=2025-07-23T01%3A00%3A13Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A04%3A44Z&ske=2025-07-23T02%3A04%3A44Z&sks=b&skv=2024-08-04&sig=55/nMwj4dtU9D5mACEz%2B8mJsqUAaVE7Hj58/B%2BU0AJE%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-fPbIP3LgwgaAQ43d202jj9AH.png?st=2025-07-22T23%3A00%3A13Z&se=2025-07-23T01%3A00%3A13Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A04%3A44Z&ske=2025-07-23T02%3A04%3A44Z&sks=b&skv=2024-08-04&sig=55/nMwj4dtU9D5mACEz%2B8mJsqUAaVE7Hj58/B%2BU0AJE%3D
   ✅ Image saved to: lessons/image/lesson_34/onomatopoeia_page_1_20250723_020009_10dc6db2.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Understanding the Challenges - 問題理解 (Mondai Rikai) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BmlN7pB4ZH7LTFhecCcNqAwE.png?st=2025-07-22T23%3A01%3A07Z&se=2025-07-23T01%3A01%3A07Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T01%3A59%3A32Z&ske=2025-07-23T01%3A59%3A32Z&sks=b&skv=2024-08-04&sig=aPnpC%2Bhm%2BlHvVXWwYWaSQofNSxVlNt9eULo/k3jZAxA%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BmlN7pB4ZH7LTFhecCcNqAwE.png?st=2025-07-22T23%3A01%3A07Z&se=2025-07-23T01%3A01%3A07Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T01%3A59%3A32Z&ske=2025-07-23T01%3A59%3A32Z&sks=b&skv=2024-08-04&sig=aPnpC%2Bhm%2BlHvVXWwYWaSQofNSxVlNt9eULo/k3jZAxA%3D
   ✅ Image saved to: lessons/image/lesson_34/onomatopoeia_page_2_20250723_020103_7437f729.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Understanding the Challenges - 問題理解 (Mondai Rikai)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Understanding the Challenges - 問題理解 (Mondai Rikai) ---
   🤖 Generating batch quiz questions for Understanding the Challenges - 問題理解 (Mondai Rikai)...
   ✅ Generated 5 quiz questions in batch for Understanding the Challenges - 問題理解 (Mondai Rikai)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: The Concept of Mottainai - もったいないの精神 (Mottainai no Seishin) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-A6n6pjWwJUuEqlIWCufb6eqI.png?st=2025-07-22T23%3A02%3A55Z&se=2025-07-23T01%3A02%3A55Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A09%3A22Z&ske=2025-07-23T13%3A09%3A22Z&sks=b&skv=2024-08-04&sig=ox1Gb1vzodg/3v6o2IXc9SpOXA784nx0/nbcADvqu/s%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-A6n6pjWwJUuEqlIWCufb6eqI.png?st=2025-07-22T23%3A02%3A55Z&se=2025-07-23T01%3A02%3A55Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A09%3A22Z&ske=2025-07-23T13%3A09%3A22Z&sks=b&skv=2024-08-04&sig=ox1Gb1vzodg/3v6o2IXc9SpOXA784nx0/nbcADvqu/s%3D
   ✅ Image saved to: lessons/image/lesson_34/onomatopoeia_page_4_20250723_020251_f588e48a.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for The Concept of Mottainai - もったいないの精神 (Mottainai no Seishin)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for The Concept of Mottainai - もったいないの精神 (Mottainai no Seishin) ---
   🤖 Generating batch quiz questions for The Concept of Mottainai - もったいないの精神 (Mottainai no Seishin)...
   ✅ Generated 5 quiz questions in batch for The Concept of Mottainai - もったいないの精神 (Mottainai no Seishin)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Recycling in Japan - リサイクル (Risaikuru) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-QHrjGNfqlAnLdf3gaKwxWIoH.png?st=2025-07-22T23%3A04%3A36Z&se=2025-07-23T01%3A04%3A36Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A40%3A10Z&ske=2025-07-23T17%3A40%3A10Z&sks=b&skv=2024-08-04&sig=40k8oS8Gk4Zicus1ZAwZPFn%2BiAp9nnd5BelM8kVDQR4%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-QHrjGNfqlAnLdf3gaKwxWIoH.png?st=2025-07-22T23%3A04%3A36Z&se=2025-07-23T01%3A04%3A36Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A40%3A10Z&ske=2025-07-23T17%3A40%3A10Z&sks=b&skv=2024-08-04&sig=40k8oS8Gk4Zicus1ZAwZPFn%2BiAp9nnd5BelM8kVDQR4%3D
   ✅ Image saved to: lessons/image/lesson_34/onomatopoeia_page_6_20250723_020432_f8218c2e.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Recycling in Japan - リサイクル (Risaikuru)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Recycling in Japan - リサイクル (Risaikuru) ---
   🤖 Generating batch quiz questions for Recycling in Japan - リサイクル (Risaikuru)...
   ✅ Generated 5 quiz questions in batch for Recycling in Japan - リサイクル (Risaikuru)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Energy Conservation - 省エネ (Shōene) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-EsFnDkPAk4P2C6Ocj2qb8bKt.png?st=2025-07-22T23%3A06%3A19Z&se=2025-07-23T01%3A06%3A19Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A14%3A18Z&ske=2025-07-23T16%3A14%3A18Z&sks=b&skv=2024-08-04&sig=1oSF3zC0vvtrYANiQcppH4kzrqCHymP/sNdY1D5U9ZE%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-EsFnDkPAk4P2C6Ocj2qb8bKt.png?st=2025-07-22T23%3A06%3A19Z&se=2025-07-23T01%3A06%3A19Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A14%3A18Z&ske=2025-07-23T16%3A14%3A18Z&sks=b&skv=2024-08-04&sig=1oSF3zC0vvtrYANiQcppH4kzrqCHymP/sNdY1D5U9ZE%3D
   ✅ Image saved to: lessons/image/lesson_34/onomatopoeia_page_8_20250723_020615_20a71ee1.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Energy Conservation - 省エネ (Shōene)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Energy Conservation - 省エネ (Shōene) ---
   🤖 Generating batch quiz questions for Energy Conservation - 省エネ (Shōene)...
   ✅ Generated 5 quiz questions in batch for Energy Conservation - 省エネ (Shōene)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Protecting Nature - 自然保護 (Shizen Hogo) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-N4eV50WbYMXaW85TUkMymwwT.png?st=2025-07-22T23%3A08%3A00Z&se=2025-07-23T01%3A08%3A00Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A22%3A06Z&ske=2025-07-23T19%3A22%3A06Z&sks=b&skv=2024-08-04&sig=GsaB2VSxstU3TuXXW5AaMpeczYq905Q%2BaLB6IWggBjs%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-N4eV50WbYMXaW85TUkMymwwT.png?st=2025-07-22T23%3A08%3A00Z&se=2025-07-23T01%3A08%3A00Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A22%3A06Z&ske=2025-07-23T19%3A22%3A06Z&sks=b&skv=2024-08-04&sig=GsaB2VSxstU3TuXXW5AaMpeczYq905Q%2BaLB6IWggBjs%3D
   ✅ Image saved to: lessons/image/lesson_34/onomatopoeia_page_10_20250723_020756_9dfa780e.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Protecting Nature - 自然保護 (Shizen Hogo)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Protecting Nature - 自然保護 (Shizen Hogo) ---
   🤖 Generating batch quiz questions for Protecting Nature - 自然保護 (Shizen Hogo)...
   ✅ Generated 5 quiz questions in batch for Protecting Nature - 自然保護 (Shizen Hogo)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 11.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 11.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: The Satoyama Initiative - 里山イニシアチブ (Satoyama Inishiatibu) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-1fZX7YSgbkADwsBCEv1OOviA.png?st=2025-07-22T23%3A09%3A54Z&se=2025-07-23T01%3A09%3A54Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A25%3A33Z&ske=2025-07-23T19%3A25%3A33Z&sks=b&skv=2024-08-04&sig=BRM1509yPhguZDnQKqpWgCCGpz5jFmStfIJYDLkY3pU%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-1fZX7YSgbkADwsBCEv1OOviA.png?st=2025-07-22T23%3A09%3A54Z&se=2025-07-23T01%3A09%3A54Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A25%3A33Z&ske=2025-07-23T19%3A25%3A33Z&sks=b&skv=2024-08-04&sig=BRM1509yPhguZDnQKqpWgCCGpz5jFmStfIJYDLkY3pU%3D
   ✅ Image saved to: lessons/image/lesson_34/onomatopoeia_page_12_20250723_020950_fec22c6e.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for The Satoyama Initiative - 里山イニシアチブ (Satoyama Inishiatibu)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for The Satoyama Initiative - 里山イニシアチブ (Satoyama Inishiatibu) ---
   🤖 Generating batch quiz questions for The Satoyama Initiative - 里山イニシアチブ (Satoyama Inishiatibu)...
   ✅ Generated 5 quiz questions in batch for The Satoyama Initiative - 里山イニシアチブ (Satoyama Inishiatibu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Future of Sustainability - 持続可能な未来 (Jizokukanaru Mirai) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-oDLqQXtCSSw5KxjqzelI5AQN.png?st=2025-07-22T23%3A12%3A04Z&se=2025-07-23T01%3A12%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A43%3A03Z&ske=2025-07-23T20%3A43%3A03Z&sks=b&skv=2024-08-04&sig=EKigcdcQlDjyV7gRZHV4mjp3S7mf02UJIv%2B5oTA3nMI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-oDLqQXtCSSw5KxjqzelI5AQN.png?st=2025-07-22T23%3A12%3A04Z&se=2025-07-23T01%3A12%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A43%3A03Z&ske=2025-07-23T20%3A43%3A03Z&sks=b&skv=2024-08-04&sig=EKigcdcQlDjyV7gRZHV4mjp3S7mf02UJIv%2B5oTA3nMI%3D
   ✅ Image saved to: lessons/image/lesson_34/onomatopoeia_page_14_20250723_021200_66766f42.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Future of Sustainability - 持続可能な未来 (Jizokukanaru Mirai)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Future of Sustainability - 持続可能な未来 (Jizokukanaru Mirai) ---
   🤖 Generating batch quiz questions for Future of Sustainability - 持続可能な未来 (Jizokukanaru Mirai)...
   ✅ Generated 5 quiz questions in batch for Future of Sustainability - 持続可能な未来 (Jizokukanaru Mirai)
   Processing Matching quiz #1...
   ✅ Matching quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Protecting Our Planet: Environmental Issues and Sustainability in Japan (地球を守ろう：日本の環境問題と持続可能性) Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_protecting_our_planet_environmental_issues_and_sustainability_in_japan_地球を守ろう日本の環境問題と持続可能性_lesson.py (940.8s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [17/24] Processing: create_relax_and_rejuvenate_a_journey_into_japanese_onsen_culture_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Relax and Rejuvenate: A Journey into Japanese Onsen Culture' not found in database - will create
🎯 Executing: create_relax_and_rejuvenate_a_journey_into_japanese_onsen_culture_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Relax and Rejuvenate: A Journey into Japanese Onsen Culture ---
   ✅ Lesson 'Relax and Rejuvenate: A Journey into Japanese Onsen Culture' created with ID: 35
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-bg0Rvj6mIudgh0obF2LXahEU.png?st=2025-07-22T23%3A15%3A33Z&se=2025-07-23T01%3A15%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A27%3A04Z&ske=2025-07-23T10%3A27%3A04Z&sks=b&skv=2024-08-04&sig=YpOFk70bIVQnFFEBIv6rd8TJhbxXl4otV4eyhzxf0rA%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-bg0Rvj6mIudgh0obF2LXahEU.png?st=2025-07-22T23%3A15%3A33Z&se=2025-07-23T01%3A15%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A27%3A04Z&ske=2025-07-23T10%3A27%3A04Z&sks=b&skv=2024-08-04&sig=YpOFk70bIVQnFFEBIv6rd8TJhbxXl4otV4eyhzxf0rA%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_35_background_20250723_021529_049fb9b7.png
   ✅ Background image added to lesson 'Relax and Rejuvenate: A Journey into Japanese Onsen Culture'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-7N4kNvNO2OvNYysGJSh2Y4Nn.png?st=2025-07-22T23%3A15%3A54Z&se=2025-07-23T01%3A15%3A54Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A29%3A01Z&ske=2025-07-23T17%3A29%3A01Z&sks=b&skv=2024-08-04&sig=pqs3exX5RzZxneeAUjo17LIigLEGMINqjvaO0Vz8MgI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-7N4kNvNO2OvNYysGJSh2Y4Nn.png?st=2025-07-22T23%3A15%3A54Z&se=2025-07-23T01%3A15%3A54Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A29%3A01Z&ske=2025-07-23T17%3A29%3A01Z&sks=b&skv=2024-08-04&sig=pqs3exX5RzZxneeAUjo17LIigLEGMINqjvaO0Vz8MgI%3D
   ✅ Image saved to: lessons/image/lesson_35/onomatopoeia_page_1_20250723_021550_231ec8e6.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Health and Wellness Vocabulary - 健康と美容の語彙 (Kenkou to Biyou no Goi) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-d777cVfDDV7xiZINxg1KRClA.png?st=2025-07-22T23%3A16%3A43Z&se=2025-07-23T01%3A16%3A43Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A42%3A01Z&ske=2025-07-23T02%3A42%3A01Z&sks=b&skv=2024-08-04&sig=bmMOuXhcIe8Nbt%2BtLgvaiczU9bO4KZ3tnZuch/T3rII%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-d777cVfDDV7xiZINxg1KRClA.png?st=2025-07-22T23%3A16%3A43Z&se=2025-07-23T01%3A16%3A43Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A42%3A01Z&ske=2025-07-23T02%3A42%3A01Z&sks=b&skv=2024-08-04&sig=bmMOuXhcIe8Nbt%2BtLgvaiczU9bO4KZ3tnZuch/T3rII%3D
   ✅ Image saved to: lessons/image/lesson_35/onomatopoeia_page_2_20250723_021640_42c956b7.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Health and Wellness Vocabulary - 健康と美容の語彙 (Kenkou to Biyou no Goi)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Health and Wellness Vocabulary - 健康と美容の語彙 (Kenkou to Biyou no Goi) ---
   🤖 Generating batch quiz questions for Health and Wellness Vocabulary - 健康と美容の語彙 (Kenkou to Biyou no Goi)...
   ✅ Generated 5 quiz questions in batch for Health and Wellness Vocabulary - 健康と美容の語彙 (Kenkou to Biyou no Goi)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Introduction to Onsen - 温泉入門 (Onsen Nyūmon) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-uEPVUzUIWdSjEOlPsTry5jD4.png?st=2025-07-22T23%3A18%3A36Z&se=2025-07-23T01%3A18%3A36Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A11%3A29Z&ske=2025-07-23T19%3A11%3A29Z&sks=b&skv=2024-08-04&sig=OyMtGIcBV%2Bsc8eOgR6IbJ4d7MSpifVuGCaP0rtVqFoY%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-uEPVUzUIWdSjEOlPsTry5jD4.png?st=2025-07-22T23%3A18%3A36Z&se=2025-07-23T01%3A18%3A36Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A11%3A29Z&ske=2025-07-23T19%3A11%3A29Z&sks=b&skv=2024-08-04&sig=OyMtGIcBV%2Bsc8eOgR6IbJ4d7MSpifVuGCaP0rtVqFoY%3D
   ✅ Image saved to: lessons/image/lesson_35/onomatopoeia_page_4_20250723_021832_83a71981.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Introduction to Onsen - 温泉入門 (Onsen Nyūmon)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Introduction to Onsen - 温泉入門 (Onsen Nyūmon) ---
   🤖 Generating batch quiz questions for Introduction to Onsen - 温泉入門 (Onsen Nyūmon)...
   ✅ Generated 5 quiz questions in batch for Introduction to Onsen - 温泉入門 (Onsen Nyūmon)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Onsen Etiquette: Before Entering - 入浴前のマナー (Nyūyoku mae no Manaa) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-IFWcz1m32Ikr6nLtzDwTONh5.png?st=2025-07-22T23%3A20%3A16Z&se=2025-07-23T01%3A20%3A16Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A01%3A41Z&ske=2025-07-23T20%3A01%3A41Z&sks=b&skv=2024-08-04&sig=oliPEY0B8iKJHnj7wax71OP7oQd4aB9TAC6QNpjZQqY%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-IFWcz1m32Ikr6nLtzDwTONh5.png?st=2025-07-22T23%3A20%3A16Z&se=2025-07-23T01%3A20%3A16Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A01%3A41Z&ske=2025-07-23T20%3A01%3A41Z&sks=b&skv=2024-08-04&sig=oliPEY0B8iKJHnj7wax71OP7oQd4aB9TAC6QNpjZQqY%3D
   ✅ Image saved to: lessons/image/lesson_35/onomatopoeia_page_6_20250723_022012_95f163f3.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Onsen Etiquette: Before Entering - 入浴前のマナー (Nyūyoku mae no Manaa)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Onsen Etiquette: Before Entering - 入浴前のマナー (Nyūyoku mae no Manaa) ---
   🤖 Generating batch quiz questions for Onsen Etiquette: Before Entering - 入浴前のマナー (Nyūyoku mae no Manaa)...
   ✅ Generated 5 quiz questions in batch for Onsen Etiquette: Before Entering - 入浴前のマナー (Nyūyoku mae no Manaa)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Onsen Etiquette: Inside the Bath - 浴槽内のマナー (Yokusōnai no Manaa) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-GOfl45rRbWTWCyGAACIhdDLE.png?st=2025-07-22T23%3A22%3A04Z&se=2025-07-23T01%3A22%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T15%3A03%3A03Z&ske=2025-07-23T15%3A03%3A03Z&sks=b&skv=2024-08-04&sig=4%2BOSU8e1SXSnFPzCEo9Ie4AmkIgksWLudxS1R91Iuxs%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-GOfl45rRbWTWCyGAACIhdDLE.png?st=2025-07-22T23%3A22%3A04Z&se=2025-07-23T01%3A22%3A04Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T15%3A03%3A03Z&ske=2025-07-23T15%3A03%3A03Z&sks=b&skv=2024-08-04&sig=4%2BOSU8e1SXSnFPzCEo9Ie4AmkIgksWLudxS1R91Iuxs%3D
   ✅ Image saved to: lessons/image/lesson_35/onomatopoeia_page_8_20250723_022200_e2c53bba.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Onsen Etiquette: Inside the Bath - 浴槽内のマナー (Yokusōnai no Manaa)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Onsen Etiquette: Inside the Bath - 浴槽内のマナー (Yokusōnai no Manaa) ---
   🤖 Generating batch quiz questions for Onsen Etiquette: Inside the Bath - 浴槽内のマナー (Yokusōnai no Manaa)...
   ✅ Generated 5 quiz questions in batch for Onsen Etiquette: Inside the Bath - 浴槽内のマナー (Yokusōnai no Manaa)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Yukata: The Onsen Attire - ゆかた：温泉の服装 (Yukata: Onsen no Fukusō) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-IJmQT3EihbH8ekvXGkJ3fhn9.png?st=2025-07-22T23%3A24%3A05Z&se=2025-07-23T01%3A24%3A05Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A11%3A34Z&ske=2025-07-23T20%3A11%3A34Z&sks=b&skv=2024-08-04&sig=2jZJFbunP/3y7Zvb23PqZFtLWf00LXwXGxdht7Px%2BGk%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-IJmQT3EihbH8ekvXGkJ3fhn9.png?st=2025-07-22T23%3A24%3A05Z&se=2025-07-23T01%3A24%3A05Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A11%3A34Z&ske=2025-07-23T20%3A11%3A34Z&sks=b&skv=2024-08-04&sig=2jZJFbunP/3y7Zvb23PqZFtLWf00LXwXGxdht7Px%2BGk%3D
   ✅ Image saved to: lessons/image/lesson_35/onomatopoeia_page_10_20250723_022401_311434d7.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Yukata: The Onsen Attire - ゆかた：温泉の服装 (Yukata: Onsen no Fukusō)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Yukata: The Onsen Attire - ゆかた：温泉の服装 (Yukata: Onsen no Fukusō) ---
   🤖 Generating batch quiz questions for Yukata: The Onsen Attire - ゆかた：温泉の服装 (Yukata: Onsen no Fukusō)...
   ✅ Generated 5 quiz questions in batch for Yukata: The Onsen Attire - ゆかた：温泉の服装 (Yukata: Onsen no Fukusō)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 11.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 11.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Regional Onsen Variations - 地方の温泉 (Chihō no Onsen) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-O7cDL14ehnxZZWuQvUljcX8E.png?st=2025-07-22T23%3A25%3A53Z&se=2025-07-23T01%3A25%3A53Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A34%3A01Z&ske=2025-07-23T17%3A34%3A01Z&sks=b&skv=2024-08-04&sig=5fn7riQJqqP7Ea0/EDiRRR0yWCR3xRar1Y1gAWRC2g8%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-O7cDL14ehnxZZWuQvUljcX8E.png?st=2025-07-22T23%3A25%3A53Z&se=2025-07-23T01%3A25%3A53Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A34%3A01Z&ske=2025-07-23T17%3A34%3A01Z&sks=b&skv=2024-08-04&sig=5fn7riQJqqP7Ea0/EDiRRR0yWCR3xRar1Y1gAWRC2g8%3D
   ✅ Image saved to: lessons/image/lesson_35/onomatopoeia_page_12_20250723_022549_3fc17084.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Regional Onsen Variations - 地方の温泉 (Chihō no Onsen)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Regional Onsen Variations - 地方の温泉 (Chihō no Onsen) ---
   🤖 Generating batch quiz questions for Regional Onsen Variations - 地方の温泉 (Chihō no Onsen)...
   ✅ Generated 5 quiz questions in batch for Regional Onsen Variations - 地方の温泉 (Chihō no Onsen)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 13.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 13.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Planning an Onsen Trip - 温泉旅行の計画 (Onsen Ryokō no Keikaku) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-O3TA9k1QlbRGoUAR826XRrRF.png?st=2025-07-22T23%3A27%3A52Z&se=2025-07-23T01%3A27%3A52Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A15%3A08Z&ske=2025-07-23T19%3A15%3A08Z&sks=b&skv=2024-08-04&sig=qyt4Hhpq5YzWvbkRBfxDT1vit67JoxC1LBBuMNkjsac%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-O3TA9k1QlbRGoUAR826XRrRF.png?st=2025-07-22T23%3A27%3A52Z&se=2025-07-23T01%3A27%3A52Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A15%3A08Z&ske=2025-07-23T19%3A15%3A08Z&sks=b&skv=2024-08-04&sig=qyt4Hhpq5YzWvbkRBfxDT1vit67JoxC1LBBuMNkjsac%3D
   ✅ Image saved to: lessons/image/lesson_35/onomatopoeia_page_14_20250723_022748_fecca6fd.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Planning an Onsen Trip - 温泉旅行の計画 (Onsen Ryokō no Keikaku)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Planning an Onsen Trip - 温泉旅行の計画 (Onsen Ryokō no Keikaku) ---
   🤖 Generating batch quiz questions for Planning an Onsen Trip - 温泉旅行の計画 (Onsen Ryokō no Keikaku)...
   ✅ Generated 5 quiz questions in batch for Planning an Onsen Trip - 温泉旅行の計画 (Onsen Ryokō no Keikaku)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Relax and Rejuvenate: A Journey into Japanese Onsen Culture Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_relax_and_rejuvenate_a_journey_into_japanese_onsen_culture_lesson.py (926.1s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [18/24] Processing: create_riding_the_rails_and_roads_japanese_public_transport_etiquette_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Riding the Rails and Roads: Japanese Public Transport Etiquette' not found in database - will create
🎯 Executing: create_riding_the_rails_and_roads_japanese_public_transport_etiquette_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Riding the Rails and Roads: Japanese Public Transport Etiquette ---
   ✅ Lesson 'Riding the Rails and Roads: Japanese Public Transport Etiquette' created with ID: 36
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-dOpN3ids3UeME3h1WwrsJdcy.png?st=2025-07-22T23%3A31%3A09Z&se=2025-07-23T01%3A31%3A09Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A47%3A28Z&ske=2025-07-23T16%3A47%3A28Z&sks=b&skv=2024-08-04&sig=kTRj6LsOezezcGe33syRc9kJE5nnyNm2Ii5JKsBW9Ow%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-dOpN3ids3UeME3h1WwrsJdcy.png?st=2025-07-22T23%3A31%3A09Z&se=2025-07-23T01%3A31%3A09Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T16%3A47%3A28Z&ske=2025-07-23T16%3A47%3A28Z&sks=b&skv=2024-08-04&sig=kTRj6LsOezezcGe33syRc9kJE5nnyNm2Ii5JKsBW9Ow%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_36_background_20250723_023105_c5199fe3.png
   ✅ Background image added to lesson 'Riding the Rails and Roads: Japanese Public Transport Etiquette'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-a8MwoNwdx81tRObifWfWBwkV.png?st=2025-07-22T23%3A31%3A33Z&se=2025-07-23T01%3A31%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A28%3A39Z&ske=2025-07-23T09%3A28%3A39Z&sks=b&skv=2024-08-04&sig=hmebuTHZEoLtGKMepxbPMKMHJITg3k%2BsmWJaKgyRHQc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-a8MwoNwdx81tRObifWfWBwkV.png?st=2025-07-22T23%3A31%3A33Z&se=2025-07-23T01%3A31%3A33Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A28%3A39Z&ske=2025-07-23T09%3A28%3A39Z&sks=b&skv=2024-08-04&sig=hmebuTHZEoLtGKMepxbPMKMHJITg3k%2BsmWJaKgyRHQc%3D
   ✅ Image saved to: lessons/image/lesson_36/onomatopoeia_page_1_20250723_023129_bcbf624e.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Train Travel Basics - 電車に乗る (Densha ni Noru) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-UVdIxbhlFFQRvz4PExUB965p.png?st=2025-07-22T23%3A32%3A41Z&se=2025-07-23T01%3A32%3A41Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A21%3A00Z&ske=2025-07-23T20%3A21%3A00Z&sks=b&skv=2024-08-04&sig=CsPB5gUpmwR%2BH4TZkxOH6NrpQUBzd8KLCTlBDncSrIA%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-UVdIxbhlFFQRvz4PExUB965p.png?st=2025-07-22T23%3A32%3A41Z&se=2025-07-23T01%3A32%3A41Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A21%3A00Z&ske=2025-07-23T20%3A21%3A00Z&sks=b&skv=2024-08-04&sig=CsPB5gUpmwR%2BH4TZkxOH6NrpQUBzd8KLCTlBDncSrIA%3D
   ✅ Image saved to: lessons/image/lesson_36/onomatopoeia_page_2_20250723_023238_375caadf.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Train Travel Basics - 電車に乗る (Densha ni Noru)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Train Travel Basics - 電車に乗る (Densha ni Noru) ---
   🤖 Generating batch quiz questions for Train Travel Basics - 電車に乗る (Densha ni Noru)...
   ✅ Generated 5 quiz questions in batch for Train Travel Basics - 電車に乗る (Densha ni Noru)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Onboard Etiquette - 車内でのマナー (Shanai de no Manā) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Bd9zS9aLYz9aOQEYUQy0QbmL.png?st=2025-07-22T23%3A34%3A15Z&se=2025-07-23T01%3A34%3A15Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-23T00%3A14%3A37Z&ske=2025-07-24T00%3A14%3A37Z&sks=b&skv=2024-08-04&sig=L733DZ8zz6PU/Y7HJD4rUEA9x878CrWgOG9aIWZyc88%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Bd9zS9aLYz9aOQEYUQy0QbmL.png?st=2025-07-22T23%3A34%3A15Z&se=2025-07-23T01%3A34%3A15Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-23T00%3A14%3A37Z&ske=2025-07-24T00%3A14%3A37Z&sks=b&skv=2024-08-04&sig=L733DZ8zz6PU/Y7HJD4rUEA9x878CrWgOG9aIWZyc88%3D
   ✅ Image saved to: lessons/image/lesson_36/onomatopoeia_page_4_20250723_023411_d04d9713.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Onboard Etiquette - 車内でのマナー (Shanai de no Manā)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Onboard Etiquette - 車内でのマナー (Shanai de no Manā) ---
   🤖 Generating batch quiz questions for Onboard Etiquette - 車内でのマナー (Shanai de no Manā)...
   ✅ Generated 5 quiz questions in batch for Onboard Etiquette - 車内でのマナー (Shanai de no Manā)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Useful Train Phrases - 便利な電車のフレーズ (Benri na Densha no Furēzu) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-FmEJ3N1A8avrFLDNXuIxZVCY.png?st=2025-07-22T23%3A36%3A03Z&se=2025-07-23T01%3A36%3A03Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A17%3A19Z&ske=2025-07-23T19%3A17%3A19Z&sks=b&skv=2024-08-04&sig=4S%2BgMQPIprkUvu%2BV0%2BW1wjNT1oaSpEkDO/CxPa3wSog%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-FmEJ3N1A8avrFLDNXuIxZVCY.png?st=2025-07-22T23%3A36%3A03Z&se=2025-07-23T01%3A36%3A03Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A17%3A19Z&ske=2025-07-23T19%3A17%3A19Z&sks=b&skv=2024-08-04&sig=4S%2BgMQPIprkUvu%2BV0%2BW1wjNT1oaSpEkDO/CxPa3wSog%3D
   ✅ Image saved to: lessons/image/lesson_36/onomatopoeia_page_6_20250723_023559_5fa8ba95.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Useful Train Phrases - 便利な電車のフレーズ (Benri na Densha no Furēzu)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Useful Train Phrases - 便利な電車のフレーズ (Benri na Densha no Furēzu) ---
   🤖 Generating batch quiz questions for Useful Train Phrases - 便利な電車のフレーズ (Benri na Densha no Furēzu)...
   ✅ Generated 5 quiz questions in batch for Useful Train Phrases - 便利な電車のフレーズ (Benri na Densha no Furēzu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Bus Travel 101 - バスに乗る (Basu ni Noru) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-4Zt5ls5BoJjpDSPdYTPw0FFf.png?st=2025-07-22T23%3A37%3A42Z&se=2025-07-23T01%3A37%3A42Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A22%3A46Z&ske=2025-07-23T10%3A22%3A46Z&sks=b&skv=2024-08-04&sig=c61gCek3mQwre2GjFXKuHRFu2KJdQ3UGL7o1V4tl9RQ%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-4Zt5ls5BoJjpDSPdYTPw0FFf.png?st=2025-07-22T23%3A37%3A42Z&se=2025-07-23T01%3A37%3A42Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T10%3A22%3A46Z&ske=2025-07-23T10%3A22%3A46Z&sks=b&skv=2024-08-04&sig=c61gCek3mQwre2GjFXKuHRFu2KJdQ3UGL7o1V4tl9RQ%3D
   ✅ Image saved to: lessons/image/lesson_36/onomatopoeia_page_8_20250723_023738_9a944839.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Bus Travel 101 - バスに乗る (Basu ni Noru)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Bus Travel 101 - バスに乗る (Basu ni Noru) ---
   🤖 Generating batch quiz questions for Bus Travel 101 - バスに乗る (Basu ni Noru)...
   ✅ Generated 5 quiz questions in batch for Bus Travel 101 - バスに乗る (Basu ni Noru)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 9.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 9.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Bus Manners - バスのマナー (Basu no Manā) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-dNLmqKCQTWiAPT8dmlnvdAPH.png?st=2025-07-22T23%3A39%3A37Z&se=2025-07-23T01%3A39%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A42%3A43Z&ske=2025-07-23T13%3A42%3A43Z&sks=b&skv=2024-08-04&sig=bkStZZh7tuw1cDveKYSNXf6xD5nixj3jPqG9aQJifEc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-dNLmqKCQTWiAPT8dmlnvdAPH.png?st=2025-07-22T23%3A39%3A37Z&se=2025-07-23T01%3A39%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A42%3A43Z&ske=2025-07-23T13%3A42%3A43Z&sks=b&skv=2024-08-04&sig=bkStZZh7tuw1cDveKYSNXf6xD5nixj3jPqG9aQJifEc%3D
   ✅ Image saved to: lessons/image/lesson_36/onomatopoeia_page_10_20250723_023933_e57fa9cc.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Bus Manners - バスのマナー (Basu no Manā)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Bus Manners - バスのマナー (Basu no Manā) ---
   🤖 Generating batch quiz questions for Bus Manners - バスのマナー (Basu no Manā)...
   ✅ Generated 5 quiz questions in batch for Bus Manners - バスのマナー (Basu no Manā)
   Processing Matching quiz #1...
   ✅ Matching quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Taking a Taxi - タクシーに乗る (Takushī ni Noru) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-CIaWeyxRmeaFCDQEN3sW7hW2.png?st=2025-07-22T23%3A41%3A10Z&se=2025-07-23T01%3A41%3A10Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A51%3A55Z&ske=2025-07-23T13%3A51%3A55Z&sks=b&skv=2024-08-04&sig=iY%2BsXSMXjLA/J99%2BDFdaeteM4IQQgqGFLGScmKIDYIg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-CIaWeyxRmeaFCDQEN3sW7hW2.png?st=2025-07-22T23%3A41%3A10Z&se=2025-07-23T01%3A41%3A10Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A51%3A55Z&ske=2025-07-23T13%3A51%3A55Z&sks=b&skv=2024-08-04&sig=iY%2BsXSMXjLA/J99%2BDFdaeteM4IQQgqGFLGScmKIDYIg%3D
   ✅ Image saved to: lessons/image/lesson_36/onomatopoeia_page_12_20250723_024106_6cd648dc.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Taking a Taxi - タクシーに乗る (Takushī ni Noru)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Taking a Taxi - タクシーに乗る (Takushī ni Noru) ---
   🤖 Generating batch quiz questions for Taking a Taxi - タクシーに乗る (Takushī ni Noru)...
   ✅ Generated 5 quiz questions in batch for Taking a Taxi - タクシーに乗る (Takushī ni Noru)
   Processing Matching quiz #1...
   ✅ Matching quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Putting it All Together - まとめ (Matome) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Yio2rx9b5rhimXTYVcvnEIR0.png?st=2025-07-22T23%3A42%3A47Z&se=2025-07-23T01%3A42%3A47Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A29%3A36Z&ske=2025-07-23T06%3A29%3A36Z&sks=b&skv=2024-08-04&sig=0Vsgx4oWeQN1RZlmlhYP3YkE8XhD81V0vtnq7JmjTa8%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Yio2rx9b5rhimXTYVcvnEIR0.png?st=2025-07-22T23%3A42%3A47Z&se=2025-07-23T01%3A42%3A47Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A29%3A36Z&ske=2025-07-23T06%3A29%3A36Z&sks=b&skv=2024-08-04&sig=0Vsgx4oWeQN1RZlmlhYP3YkE8XhD81V0vtnq7JmjTa8%3D
   ✅ Image saved to: lessons/image/lesson_36/onomatopoeia_page_14_20250723_024243_e42e1eee.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Putting it All Together - まとめ (Matome)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Putting it All Together - まとめ (Matome) ---
   🤖 Generating batch quiz questions for Putting it All Together - まとめ (Matome)...
   ✅ Generated 5 quiz questions in batch for Putting it All Together - まとめ (Matome)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Riding the Rails and Roads: Japanese Public Transport Etiquette Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_riding_the_rails_and_roads_japanese_public_transport_etiquette_lesson.py (902.8s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [19/24] Processing: create_stylish_japan_navigating_fashion_and_shopping_culture_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Stylish Japan: Navigating Fashion and Shopping Culture' not found in database - will create
🎯 Executing: create_stylish_japan_navigating_fashion_and_shopping_culture_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Stylish Japan: Navigating Fashion and Shopping Culture ---
   ✅ Lesson 'Stylish Japan: Navigating Fashion and Shopping Culture' created with ID: 37
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-9WJBzMk1gnovP81qKiitiNRo.png?st=2025-07-22T23%3A46%3A02Z&se=2025-07-23T01%3A46%3A02Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A58%3A42Z&ske=2025-07-23T18%3A58%3A42Z&sks=b&skv=2024-08-04&sig=i86CiC0GciMruQHJxulbOAAMf3nt%2BFFUtYUmnAnHzds%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-9WJBzMk1gnovP81qKiitiNRo.png?st=2025-07-22T23%3A46%3A02Z&se=2025-07-23T01%3A46%3A02Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A58%3A42Z&ske=2025-07-23T18%3A58%3A42Z&sks=b&skv=2024-08-04&sig=i86CiC0GciMruQHJxulbOAAMf3nt%2BFFUtYUmnAnHzds%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_37_background_20250723_024558_45947e94.png
   ✅ Background image added to lesson 'Stylish Japan: Navigating Fashion and Shopping Culture'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ONi6FvrYtVe1j3fb6esm7Omg.png?st=2025-07-22T23%3A46%3A22Z&se=2025-07-23T01%3A46%3A22Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A44%3A46Z&ske=2025-07-23T18%3A44%3A46Z&sks=b&skv=2024-08-04&sig=MgVGkOlhi9iCArsTkeKNOjUMEcFZrFKT3k6V%2BZsrFTw%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ONi6FvrYtVe1j3fb6esm7Omg.png?st=2025-07-22T23%3A46%3A22Z&se=2025-07-23T01%3A46%3A22Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A44%3A46Z&ske=2025-07-23T18%3A44%3A46Z&sks=b&skv=2024-08-04&sig=MgVGkOlhi9iCArsTkeKNOjUMEcFZrFKT3k6V%2BZsrFTw%3D
   ✅ Image saved to: lessons/image/lesson_37/onomatopoeia_page_1_20250723_024618_46ebd4df.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Clothing Basics - 服の基本 (Fuku no Kihon) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-xOQ9AW3T4qixF5KJpKnQHjab.png?st=2025-07-22T23%3A47%3A14Z&se=2025-07-23T01%3A47%3A14Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A21%3A18Z&ske=2025-07-23T18%3A21%3A18Z&sks=b&skv=2024-08-04&sig=wxwL9gWym1iQyC%2BbC3b3V8bkNF6A%2BKCdwQV/9v3JfIo%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-xOQ9AW3T4qixF5KJpKnQHjab.png?st=2025-07-22T23%3A47%3A14Z&se=2025-07-23T01%3A47%3A14Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T18%3A21%3A18Z&ske=2025-07-23T18%3A21%3A18Z&sks=b&skv=2024-08-04&sig=wxwL9gWym1iQyC%2BbC3b3V8bkNF6A%2BKCdwQV/9v3JfIo%3D
   ✅ Image saved to: lessons/image/lesson_37/onomatopoeia_page_2_20250723_024710_4ddec968.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Clothing Basics - 服の基本 (Fuku no Kihon)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Clothing Basics - 服の基本 (Fuku no Kihon) ---
   🤖 Generating batch quiz questions for Clothing Basics - 服の基本 (Fuku no Kihon)...
   ✅ Generated 5 quiz questions in batch for Clothing Basics - 服の基本 (Fuku no Kihon)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Trendy Styles - 流行スタイル (Ryūkō Sutairu) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-TOrGRG8k0dWUsQbcAI63jftw.png?st=2025-07-22T23%3A49%3A21Z&se=2025-07-23T01%3A49%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-23T00%3A07%3A27Z&ske=2025-07-24T00%3A07%3A27Z&sks=b&skv=2024-08-04&sig=qhlk0SWu52gbNHLUDQMTx2LjQDNAufFMuNnZO5KM53A%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-TOrGRG8k0dWUsQbcAI63jftw.png?st=2025-07-22T23%3A49%3A21Z&se=2025-07-23T01%3A49%3A21Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-23T00%3A07%3A27Z&ske=2025-07-24T00%3A07%3A27Z&sks=b&skv=2024-08-04&sig=qhlk0SWu52gbNHLUDQMTx2LjQDNAufFMuNnZO5KM53A%3D
   ✅ Image saved to: lessons/image/lesson_37/onomatopoeia_page_4_20250723_024917_f088cc0c.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Trendy Styles - 流行スタイル (Ryūkō Sutairu)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Trendy Styles - 流行スタイル (Ryūkō Sutairu) ---
   🤖 Generating batch quiz questions for Trendy Styles - 流行スタイル (Ryūkō Sutairu)...
   ✅ Generated 5 quiz questions in batch for Trendy Styles - 流行スタイル (Ryūkō Sutairu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Traditional Garments - 伝統的な服装 (Dentō-teki na Fukusō) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-LSUkppNbV6wUqhFImJWkbwXR.png?st=2025-07-22T23%3A51%3A10Z&se=2025-07-23T01%3A51%3A10Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A56%3A19Z&ske=2025-07-23T00%3A56%3A19Z&sks=b&skv=2024-08-04&sig=5bvZ82lXQufXXbBz6zLLsTDFeq5FVHrUr3wmCs709io%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-LSUkppNbV6wUqhFImJWkbwXR.png?st=2025-07-22T23%3A51%3A10Z&se=2025-07-23T01%3A51%3A10Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T00%3A56%3A19Z&ske=2025-07-23T00%3A56%3A19Z&sks=b&skv=2024-08-04&sig=5bvZ82lXQufXXbBz6zLLsTDFeq5FVHrUr3wmCs709io%3D
   ✅ Image saved to: lessons/image/lesson_37/onomatopoeia_page_6_20250723_025106_584df267.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Traditional Garments - 伝統的な服装 (Dentō-teki na Fukusō)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Traditional Garments - 伝統的な服装 (Dentō-teki na Fukusō) ---
   🤖 Generating batch quiz questions for Traditional Garments - 伝統的な服装 (Dentō-teki na Fukusō)...
   ✅ Generated 5 quiz questions in batch for Traditional Garments - 伝統的な服装 (Dentō-teki na Fukusō)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Shopping Destinations - ショッピングスポット (Shoppingu Supotto) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-iElSwChtZwGRJiM0oQx4Cnlo.png?st=2025-07-22T23%3A52%3A53Z&se=2025-07-23T01%3A52%3A53Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A50%3A38Z&ske=2025-07-23T14%3A50%3A38Z&sks=b&skv=2024-08-04&sig=KSWwS4PTx09Et1zt2YZwD5nd7cd61khLqv8LK7Oksmo%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-iElSwChtZwGRJiM0oQx4Cnlo.png?st=2025-07-22T23%3A52%3A53Z&se=2025-07-23T01%3A52%3A53Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A50%3A38Z&ske=2025-07-23T14%3A50%3A38Z&sks=b&skv=2024-08-04&sig=KSWwS4PTx09Et1zt2YZwD5nd7cd61khLqv8LK7Oksmo%3D
   ✅ Image saved to: lessons/image/lesson_37/onomatopoeia_page_8_20250723_025249_c0c5d5b9.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Shopping Destinations - ショッピングスポット (Shoppingu Supotto)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Shopping Destinations - ショッピングスポット (Shoppingu Supotto) ---
   🤖 Generating batch quiz questions for Shopping Destinations - ショッピングスポット (Shoppingu Supotto)...
   ✅ Generated 5 quiz questions in batch for Shopping Destinations - ショッピングスポット (Shoppingu Supotto)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Navigating the Store - 店での案内 (Mise de no Annai) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-0JOdu81Mdr47eJ83JugOKQQY.png?st=2025-07-22T23%3A54%3A43Z&se=2025-07-23T01%3A54%3A43Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A36%3A40Z&ske=2025-07-23T20%3A36%3A40Z&sks=b&skv=2024-08-04&sig=IJBr35p%2BlAvrIT5CwnzfI8mRkyz2K16RUFZxSIvlyQU%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-0JOdu81Mdr47eJ83JugOKQQY.png?st=2025-07-22T23%3A54%3A43Z&se=2025-07-23T01%3A54%3A43Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A36%3A40Z&ske=2025-07-23T20%3A36%3A40Z&sks=b&skv=2024-08-04&sig=IJBr35p%2BlAvrIT5CwnzfI8mRkyz2K16RUFZxSIvlyQU%3D
   ✅ Image saved to: lessons/image/lesson_37/onomatopoeia_page_10_20250723_025439_7519d557.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Navigating the Store - 店での案内 (Mise de no Annai)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Navigating the Store - 店での案内 (Mise de no Annai) ---
   🤖 Generating batch quiz questions for Navigating the Store - 店での案内 (Mise de no Annai)...
   ✅ Generated 5 quiz questions in batch for Navigating the Store - 店での案内 (Mise de no Annai)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Making a Purchase - 購入 (Kōnyū) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-x8KO9a5YAshFvOnfEYHWM9qU.png?st=2025-07-22T23%3A56%3A26Z&se=2025-07-23T01%3A56%3A26Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A51%3A36Z&ske=2025-07-23T12%3A51%3A36Z&sks=b&skv=2024-08-04&sig=RsFk71b/NdmJ97F5nlbmbHJUlsUHSrzEQo1S1AqEtQY%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-x8KO9a5YAshFvOnfEYHWM9qU.png?st=2025-07-22T23%3A56%3A26Z&se=2025-07-23T01%3A56%3A26Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A51%3A36Z&ske=2025-07-23T12%3A51%3A36Z&sks=b&skv=2024-08-04&sig=RsFk71b/NdmJ97F5nlbmbHJUlsUHSrzEQo1S1AqEtQY%3D
   ✅ Image saved to: lessons/image/lesson_37/onomatopoeia_page_12_20250723_025622_ca67b75d.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Making a Purchase - 購入 (Kōnyū)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Making a Purchase - 購入 (Kōnyū) ---
   🤖 Generating batch quiz questions for Making a Purchase - 購入 (Kōnyū)...
   ✅ Generated 5 quiz questions in batch for Making a Purchase - 購入 (Kōnyū)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Expressing Your Style - スタイルを表現する (Sutairu o Hyōgen Suru) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BnCxN7fay2GHNEE5pGYt9xgv.png?st=2025-07-22T23%3A58%3A23Z&se=2025-07-23T01%3A58%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A15%3A50Z&ske=2025-07-23T17%3A15%3A50Z&sks=b&skv=2024-08-04&sig=zPFUobtJwmuHoZqeuRAF0GK0iAJigIi9ef2xFffXn8g%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BnCxN7fay2GHNEE5pGYt9xgv.png?st=2025-07-22T23%3A58%3A23Z&se=2025-07-23T01%3A58%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A15%3A50Z&ske=2025-07-23T17%3A15%3A50Z&sks=b&skv=2024-08-04&sig=zPFUobtJwmuHoZqeuRAF0GK0iAJigIi9ef2xFffXn8g%3D
   ✅ Image saved to: lessons/image/lesson_37/onomatopoeia_page_14_20250723_025819_6c08ba88.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Expressing Your Style - スタイルを表現する (Sutairu o Hyōgen Suru)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Expressing Your Style - スタイルを表現する (Sutairu o Hyōgen Suru) ---
   🤖 Generating batch quiz questions for Expressing Your Style - スタイルを表現する (Sutairu o Hyōgen Suru)...
   ✅ Generated 5 quiz questions in batch for Expressing Your Style - スタイルを表現する (Sutairu o Hyōgen Suru)
   Processing Matching quiz #1...
   ✅ Matching quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Stylish Japan: Navigating Fashion and Shopping Culture Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_stylish_japan_navigating_fashion_and_shopping_culture_lesson.py (926.8s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [20/24] Processing: create_travel_japanese_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  ⚠️  Could not extract lesson title from create_travel_japanese_lesson.py
🎯 Executing: create_travel_japanese_lesson.py
   
   # Japanisch für die Reise: Ein praxisorientierter Leitfaden
   
   ## Einleitung: Kommunizieren statt nur auswendig lernen
   
   Willkommen zu diesem praxisorientierten Japanischkurs für Reisende. Das Ziel dieses Kurses ist es, Ihnen die sprachlichen Werkzeuge an die Hand zu geben, um in Japan selbstbewusst und kompetent zu kommunizieren. Anstatt sich auf das reine Auswendiglernen von Grammatikregeln zu konzentrieren, verfolgen wir einen aufgabenbasierten Ansatz (Task-Based Language Teaching). [1, 2, 3] Das bedeutet, jede Lektion ist um eine reale Aufgabe herum aufgebaut, die Ihnen auf Ihrer Reise begegnen wird – sei es das Bestellen in einem Restaurant, das Kaufen eines Zugtickets oder das Fragen nach dem Weg.
   
   Dieser Ansatz fördert die Kommunikationsfähigkeit, da der Fokus auf der erfolgreichen Bewältigung der Aufgabe und der Übermittlung von Bedeutung liegt. [4, 5] Sie werden ermutigt, die Sprache aktiv zu nutzen, was das Selbstvertrauen stärkt und die Sprachflüssigkeit verbessert. [6]
   
   ## Modul 1: Erste Begegnungen – Begrüßung und Vorstellung
   
   ### 1. Lernziele
   - Sich selbst mit Namen und Herkunft vorstellen.
   - Situationsgerechte Begrüßungen und Höflichkeitsfloskeln anwenden.
   - Die kulturelle Bedeutung der Verbeugung verstehen.
   
   ### 2. Wortschatz & Phrasen
   
   | Deutsch | Japanisch (Romaji) | Japanisch (Kana) |
   |---|---|---|
   | Guten Morgen | Ohayō gozaimasu | おはようございます [7, 8, 9, 10] |
   | Guten Tag | Konnichiwa | こんにちは [7, 8, 9, 10] |
   | Guten Abend | Konbanwa | こんばんは [7, 8, 9, 10] |
   | Vielen Dank | Arigatō gozaimasu | ありがとうございます [7, 11, 9, 10] |
   | Entschuldigung | Sumimasen | すみません [7, 11, 12, 9, 10] |
   | Ja / Nein | Hai / Iie | はい / いいえ [7, 8, 11, 9, 10] |
   | Ich heiße... | Watashi no namae wa... desu | 私の名前は...です [7] |
   | Schön, Sie kennenzulernen | Hajimemashite | はじめまして [7, 13] |
   
   ### 3. Kultur-Tipp: Die Verbeugung (Ojigi)
   Die Verbeugung ist ein zentraler Bestandteil der japanischen Etikette und drückt Respekt, Dankbarkeit oder eine Entschuldigung aus. [14, 15, 16, 17] Ihre Ursprünge liegen im Buddhismus und der Samurai-Kultur. [18, 19] Für Reisende ist ein leichtes Nicken oder eine kleine Verbeugung (ca. 15-30 Grad) bei Begrüßungen und Danksagungen eine respektvolle Geste. [20, 17] Die Verbeugung von Servicepersonal muss nicht vollständig erwidert werden; ein Lächeln und Nicken sind ausreichend. [15]
   
   ### 4. Aufgabe: Sich im Hotel vorstellen (Rollenspiel)
   **Szenario:** Sie kommen in Ihrem Hotel an.
   - **Rolle 1 (Reisender):** Begrüßen Sie den Rezeptionisten, sagen Sie, dass Sie einchecken möchten und stellen Sie sich vor.
   - **Rolle 2 (Rezeptionist):** Begrüßen Sie den Gast höflich und fragen Sie nach seinem Namen.
   
   ### 5. Grammatik-Fokus: Der einfache Satz
   - **Aussagesatz:** ` は (wa) [Information] です (desu).` (z.B. `Watashi wa Anna desu.` - Ich bin Anna.) [21, 22]
   - **Fragesatz:** Hängen Sie einfach `か (ka)` an das Ende eines Aussagesatzes. Die Satzstellung ändert sich nicht. [23, 21] (z.B. `Anna-san desu ka?` - Sind Sie Anna?)
   
   ## Modul 2: Essen gehen – Im Restaurant
   
   ### 1. Lernziele
   - Einen Tisch für eine bestimmte Personenzahl erfragen.
   - Von einer Speisekarte bestellen (auch durch Zeigen).
   - Nach der Rechnung fragen und bezahlen.
   
   ### 2. Wortschatz & Phrasen
   
   | Deutsch | Japanisch (Romaji) | Japanisch (Kana) |
   |---|---|---|
   | Speisekarte, bitte | Menyū o onegaishimasu | メニューをお願いします [24, 25] |
   | Ich hätte gerne... |... o kudasai / onegaishimasu |...をください / お願いします [11, 26] |
   | Das hier, bitte | Kore o kudasai | これをください [10, 27] |
   | Was empfehlen Sie? | Osusume wa nan desu ka? | おすすめは何ですか？ [11, 12, 26, 28] |
   | Die Rechnung, bitte | O-kaikei o onegaishimasu | お会計をお願いします [8, 11, 9, 26, 28] |
   | Guten Appetit | Itadakimasu | いただきます [11, 9, 10] |
   | Danke für das Essen | Gochisōsama deshita | ごちそうさまでした [11, 26, 28, 10] |
   | Lecker | Oishii | おいしい [10, 29] |
   
   ### 3. Kultur-Tipp: Trinkgeld und Tischmanieren
   - **Kein Trinkgeld:** In Japan ist Trinkgeld unüblich und kann als unhöflich empfunden werden, da guter Service als selbstverständlich gilt. [30, 16, 26, 31, 32] Ein aufrichtiges "Gochisōsama deshita" ist die beste Form der Wertschätzung. [32]
   - **Essstäbchen:** Stecken Sie Ihre Stäbchen niemals senkrecht in den Reis und reichen Sie kein Essen von Stäbchen zu Stäbchen. Beides sind Tabus, die mit Beerdigungsritualen verbunden sind. [12, 15, 16, 33]
   - **Schlürfen:** Bei Nudelsuppen wie Ramen ist lautes Schlürfen erlaubt und gilt als Zeichen, dass es schmeckt. [16, 33]
   
   ### 4. Aufgabe: Im Restaurant bestellen (Simulation)
   **Szenario:** Sie sind in einem Restaurant und der Kellner kommt an Ihren Tisch.
   - **Rolle 1 (Gast):** Rufen Sie den Kellner mit "Sumimasen". Bitten Sie um die Speisekarte. Zeigen Sie auf ein Bild und bestellen Sie es mit "Kore o kudasai". Bestellen Sie auch ein Wasser ("Mizu o kudasai").
   - **Rolle 2 (Kellner):** Nehmen Sie die Bestellung auf und bestätigen Sie sie.
   
   ### 5. Grammatik-Fokus: Bitten äußern
   - **`... o kudasai`**: Eine einfache und direkte Art, um etwas zu bitten. Funktioniert gut, wenn man auf etwas zeigt. [26, 27]
   - **`... o onegaishimasu`**: Eine etwas höflichere und vielseitigere Form der Bitte. [26, 28]
   
   ## Modul 3: Unterwegs – Transport und Orientierung
   
   ### 1. Lernziele
   - Nach dem Weg zum Bahnhof oder zu einem anderen Ort fragen.
   - Einfache Richtungsangaben verstehen (links, rechts, geradeaus).
   - Sich in öffentlichen Verkehrsmitteln kulturbewusst verhalten.
   
   ### 2. Wortschatz & Phrasen
   
   | Deutsch | Japanisch (Romaji) | Japanisch (Kana) |
   |---|---|---|
   | Wo ist...? |... wa doko desu ka? |...はどこですか？ [8, 11, 12, 9, 34, 35, 36, 37] |
   | Bahnhof | Eki | 駅 [8, 11, 9, 38, 29] |
   | Zug | Densha | 電車 [9, 38] |
   | U-Bahn | Chikatetsu | 地下鉄 [8, 9] |
   | Ticket | Kippu / Chiketto | 切符 / チケット [9, 38, 10] |
   | Rechts / Links | Migi / Hidari | 右 / 左 [11, 12, 29, 39] |
   | Geradeaus | Massugu | まっすぐ [11, 29, 39] |
   
   ### 3. Kultur-Tipp: Verhalten in Bus und Bahn
   - **Ruhe bewahren:** Laute Gespräche und Telefonate sind in öffentlichen Verkehrsmitteln streng verpönt. Stellen Sie Ihr Handy auf lautlos. [15, 16, 38, 17]
   - **Anstehen:** An Bahnsteigen und Haltestellen wird sich in geordneten Schlangen angestellt. Drängeln ist ein Tabu. [15, 16, 38]
   - **Essen und Trinken:** In Nahverkehrszügen ist Essen und Trinken unüblich. Eine Ausnahme sind Langstreckenzüge wie der Shinkansen. [30, 16]
   - **Rolltreppen:** In Tokio steht man links, in Osaka rechts, um die andere Seite für Eilige freizuhalten. [16, 17]
   
   ### 4. Aufgabe: Den Weg zum Bahnhof finden (Informationslücke)
   **Szenario:** Sie sind an einer Kreuzung und müssen zum Bahnhof.
   - **Partner A** hat eine Karte vom aktuellen Standpunkt bis zur nächsten großen Straße.
   - **Partner B** hat eine Karte von dieser Straße bis zum Bahnhof.
   - **Aufgabe:** Fragen Sie sich gegenseitig nach dem Weg (`Sumimasen, eki wa doko desu ka?`), um den kompletten Pfad zu finden, indem Sie die Informationen kombinieren.
   
   ### 5. Grammatik-Fokus: Ortsangaben
   - **`... wa doko desu ka?`**: Die universelle Frage, um nach einem Ort zu suchen. [34, 35, 36, 37]
   - **Ortsangaben verstehen:** Achten Sie auf Schlüsselwörter wie `migi` (rechts), `hidari` (links) und `massugu` (geradeaus) in den Antworten.
   
   ## Modul 4: Einkaufen – Von Konbini bis Kaufhaus
   
   ### 1. Lernziele
   - Nach dem Preis fragen.
   - Einen Kauf tätigen und bezahlen (Bar/Karte).
   - Typische Fragen im Convenience Store (Konbini) verstehen und beantworten.
   
   ### 2. Wortschatz & Phrasen
   
   | Deutsch | Japanisch (Romaji) | Japanisch (Kana) |
   |---|---|---|
   | Wie viel kostet das? | Ikura desu ka? | いくらですか？ [8, 11, 12, 9, 28] |
   | Ich nehme das. | Kore o kudasai. | これをください。 [11, 40, 10, 27] |
   | Mit Karte, bitte. | Kādo de onegaishimasu. | カードでお願いします。 [26, 41] |
   | Ich schaue nur. | Mite iru dake desu. | 見ているだけです。 [11, 9, 40] |
   | Tüte | Fukuro | 袋 [42, 43, 28] |
   | Aufwärmen? | Atatamemasu ka? | 温めますか？ [44, 28] |
   
   ### 3. Kultur-Tipp: Bezahlen im Geschäft
   In vielen Geschäften und Restaurants wird das Geld nicht direkt in die Hand des Kassierers gelegt, sondern in eine kleine Schale auf dem Tresen. [30] Das Wechselgeld erhalten Sie auf die gleiche Weise zurück. Das Nachzählen des Wechselgeldes vor dem Verkäufer gilt als unhöflich. [33]
   
   ### 4. Aufgabe: Im Konbini einkaufen (Rollenspiel)
   **Szenario:** Sie kaufen ein Getränk und ein Bento (Lunchbox) im Convenience Store.
   - **Rolle 1 (Kunde):** Gehen Sie zur Kasse. Der Kassierer wird Sie fragen, ob das Bento aufgewärmt werden soll (`Atatamemasu ka?`) und ob Sie eine Tüte benötigen (`Fukuro wa irimasu ka?`). Antworten Sie mit `Hai, onegaishimasu` (Ja, bitte) oder `Daijōbu desu` (Nein, danke).
   - **Rolle 2 (Kassierer):** Begrüßen Sie den Kunden (`Irasshaimase!`). Stellen Sie die typischen Fragen zum Aufwärmen und zur Tüte. [44, 43, 28]
   
   ### 5. Grammatik-Fokus: Einfache Antworten
   - **`Hai, onegaishimasu.`**: Eine höfliche Art, "Ja, bitte" zu sagen, um ein Angebot anzunehmen. [43, 27]
   - **`Daijōbu desu.`**: Eine vielseitige Phrase, die "Ich bin okay" oder "Nein, danke" bedeuten kann, um ein Angebot höflich abzulehnen. [43, 28, 27]
   - **`... de onegaishimasu.`**: Um die Art der Zahlung anzugeben, z.B. `Kādo de` (mit Karte). [26]
   
   ## Modul 5: Notfälle – Hilfe und Gesundheit
   
   ### 1. Lernziele
   - Einfache Symptome (Schmerz, Fieber) beschreiben.
   - Nach Hilfe oder einem Arzt rufen.
   - Einen verlorenen Gegenstand melden.
   
   ### 2. Wortschatz & Phrasen
   
   | Deutsch | Japanisch (Romaji) | Japanisch (Kana) |
   |---|---|---|
   | Hilfe! | Tasukete! | 助けて！ [11, 9, 10, 29] |
   | Rufen Sie einen Arzt! | Isha o yonde kudasai! | 医者を呼んでください！ [11, 45] |
   | Mir geht es nicht gut. | Guai ga warui desu. | 具合が悪いです。 [46, 10] |
   | Es tut weh. | Itai desu. | 痛いです。 [47, 11, 48, 49] |
   | Ich habe Fieber. | Netsu ga arimasu. | 熱があります。 [50, 48, 51] |
   | Ich habe... verloren. |... o nakushimashita. |...をなくしました。 [52, 53, 54] |
   | Portemonnaie / Pass | Saifu / Pasupōto | 財布 / パスポート [9, 53, 54] |
   
   ### 3. Kultur-Tipp: Hilfe suchen
   Japaner sind sehr hilfsbereit, aber um ihr Gesicht nicht zu verlieren, geben sie vielleicht ungern zu, wenn sie den Weg nicht kennen. [55] Wenden Sie sich für verlässliche Auskünfte am besten an offizielle Stellen wie eine Polizeiwache (`Kōban`) oder an Bahnhofspersonal. [56] Verlorene Gegenstände werden fast immer bei der Polizei oder einer Fundstelle abgegeben. [56, 52]
   
   ### 4. Aufgabe: Symptome beschreiben (Dialog)
   **Szenario:** Sie fühlen sich nicht gut und sprechen mit einem Hotelangestellten.
   - **Aufgabe:** Erklären Sie, dass es Ihnen nicht gut geht (`Guai ga warui desu`). Sagen Sie, dass Sie Kopfschmerzen (`Atama ga itai desu`) und Fieber (`Netsu ga arimasu`) haben. Bitten Sie ihn, einen Arzt zu rufen (`Isha o yonde kudasai`). [45, 50, 46, 49]
   
   ### 5. Grammatik-Fokus: Zustände beschreiben
   - **`... ga itai desu.`**: Um Schmerzen in einem bestimmten Körperteil auszudrücken. (z.B. `Onaka ga itai desu.` - Ich habe Bauchschmerzen.) [50, 49]
   - **`... ga arimasu.`**: Um das Vorhandensein von etwas zu beschreiben, z.B. von Symptomen. (z.B. `Netsu ga arimasu.` - Ich habe Fieber.) [11, 50]
   
✅ Success: create_travel_japanese_lesson.py (0.1s)
   Last output lines:
       ### 5. Grammatik-Fokus: Zustände beschreiben
       - **`... ga itai desu.`**: Um Schmerzen in einem bestimmten Körperteil auszudrücken. (z.B. `Onaka ga itai desu.` - Ich habe Bauchschmerzen.) [50, 49]
       - **`... ga arimasu.`**: Um das Vorhandensein von etwas zu beschreiben, z.B. von Symptomen. (z.B. `Netsu ga arimasu.` - Ich habe Fieber.) [11, 50]
⏳ Waiting 3 seconds before next execution...

--- [21/24] Processing: create_traveling_in_japan_practical_survival_phrases_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Traveling in Japan: Practical Survival Phrases' not found in database - will create
🎯 Executing: create_traveling_in_japan_practical_survival_phrases_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Traveling in Japan: Practical Survival Phrases ---
   ✅ Lesson 'Traveling in Japan: Practical Survival Phrases' created with ID: 38
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-wW9qHnh8JtpzzHcAfp6Kcen6.png?st=2025-07-23T00%3A01%3A40Z&se=2025-07-23T02%3A01%3A40Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A08%3A12Z&ske=2025-07-23T13%3A08%3A12Z&sks=b&skv=2024-08-04&sig=NBB80xT46M5FH2SrIEesCRZcsq9lMiqZjsXqK4aOC%2Bk%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-wW9qHnh8JtpzzHcAfp6Kcen6.png?st=2025-07-23T00%3A01%3A40Z&se=2025-07-23T02%3A01%3A40Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A08%3A12Z&ske=2025-07-23T13%3A08%3A12Z&sks=b&skv=2024-08-04&sig=NBB80xT46M5FH2SrIEesCRZcsq9lMiqZjsXqK4aOC%2Bk%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_38_background_20250723_030136_b85ab37f.png
   ✅ Background image added to lesson 'Traveling in Japan: Practical Survival Phrases'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-3vrI7MbuGrC75nMRgCrXrGJs.png?st=2025-07-23T00%3A02%3A01Z&se=2025-07-23T02%3A02%3A01Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A59%3A49Z&ske=2025-07-23T08%3A59%3A49Z&sks=b&skv=2024-08-04&sig=BTHySm/Geva7PcBSk40D9otCYMeaJhaeEx63VQzvaoQ%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-3vrI7MbuGrC75nMRgCrXrGJs.png?st=2025-07-23T00%3A02%3A01Z&se=2025-07-23T02%3A02%3A01Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A59%3A49Z&ske=2025-07-23T08%3A59%3A49Z&sks=b&skv=2024-08-04&sig=BTHySm/Geva7PcBSk40D9otCYMeaJhaeEx63VQzvaoQ%3D
   ✅ Image saved to: lessons/image/lesson_38/onomatopoeia_page_1_20250723_030157_85cd1f11.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Basic Greetings - あいさつ (Aisatsu) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-IHWZf8Bqz0thYvN5IUwRgFW5.png?st=2025-07-23T00%3A03%3A00Z&se=2025-07-23T02%3A03%3A00Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T07%3A20%3A24Z&ske=2025-07-23T07%3A20%3A24Z&sks=b&skv=2024-08-04&sig=6YNlRrMYs4Fl2j2C3fl2CIBe8nrA1SnmP5GOr4nbSoI%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-IHWZf8Bqz0thYvN5IUwRgFW5.png?st=2025-07-23T00%3A03%3A00Z&se=2025-07-23T02%3A03%3A00Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T07%3A20%3A24Z&ske=2025-07-23T07%3A20%3A24Z&sks=b&skv=2024-08-04&sig=6YNlRrMYs4Fl2j2C3fl2CIBe8nrA1SnmP5GOr4nbSoI%3D
   ✅ Image saved to: lessons/image/lesson_38/onomatopoeia_page_2_20250723_030256_03e6f9ac.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Basic Greetings - あいさつ (Aisatsu)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Basic Greetings - あいさつ (Aisatsu) ---
   🤖 Generating batch quiz questions for Basic Greetings - あいさつ (Aisatsu)...
   ✅ Generated 5 quiz questions in batch for Basic Greetings - あいさつ (Aisatsu)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Asking for Directions - 道案内 (Michiannai) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-8CFr1jAMtvtEZ78bHglWF2pC.png?st=2025-07-23T00%3A04%3A30Z&se=2025-07-23T02%3A04%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A44%3A01Z&ske=2025-07-23T19%3A44%3A01Z&sks=b&skv=2024-08-04&sig=Po9lHl4HH869no3WxLHeU4OYs/JYd3xDxfNLJsf%2BIkg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-8CFr1jAMtvtEZ78bHglWF2pC.png?st=2025-07-23T00%3A04%3A30Z&se=2025-07-23T02%3A04%3A30Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A44%3A01Z&ske=2025-07-23T19%3A44%3A01Z&sks=b&skv=2024-08-04&sig=Po9lHl4HH869no3WxLHeU4OYs/JYd3xDxfNLJsf%2BIkg%3D
   ✅ Image saved to: lessons/image/lesson_38/onomatopoeia_page_4_20250723_030426_cd5b5c74.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Asking for Directions - 道案内 (Michiannai)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Asking for Directions - 道案内 (Michiannai) ---
   🤖 Generating batch quiz questions for Asking for Directions - 道案内 (Michiannai)...
   ✅ Generated 5 quiz questions in batch for Asking for Directions - 道案内 (Michiannai)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Transportation - 交通機関 (Kōtsū Kikan) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Gr26H4wFQm4mYFwYoPwzYwPf.png?st=2025-07-23T00%3A06%3A12Z&se=2025-07-23T02%3A06%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A50%3A05Z&ske=2025-07-23T19%3A50%3A05Z&sks=b&skv=2024-08-04&sig=uhvnMYhT6IoPoSE3SdQnb/L15DJuarmG%2BF7gMZ9crFs%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Gr26H4wFQm4mYFwYoPwzYwPf.png?st=2025-07-23T00%3A06%3A12Z&se=2025-07-23T02%3A06%3A12Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A50%3A05Z&ske=2025-07-23T19%3A50%3A05Z&sks=b&skv=2024-08-04&sig=uhvnMYhT6IoPoSE3SdQnb/L15DJuarmG%2BF7gMZ9crFs%3D
   ✅ Image saved to: lessons/image/lesson_38/onomatopoeia_page_6_20250723_030608_6f0f3176.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Transportation - 交通機関 (Kōtsū Kikan)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Transportation - 交通機関 (Kōtsū Kikan) ---
   🤖 Generating batch quiz questions for Transportation - 交通機関 (Kōtsū Kikan)...
   ✅ Generated 5 quiz questions in batch for Transportation - 交通機関 (Kōtsū Kikan)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Accommodation - 宿泊施設 (Shukuhaku Shisetsu) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-vDXimwg9omktDg3HMFMEjEMd.png?st=2025-07-23T00%3A07%3A48Z&se=2025-07-23T02%3A07%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A52%3A00Z&ske=2025-07-23T13%3A52%3A00Z&sks=b&skv=2024-08-04&sig=z1fjqMLCu4hsAK8IBX/JuHSPmjrf96BbfreI5RzfcdE%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-vDXimwg9omktDg3HMFMEjEMd.png?st=2025-07-23T00%3A07%3A48Z&se=2025-07-23T02%3A07%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A52%3A00Z&ske=2025-07-23T13%3A52%3A00Z&sks=b&skv=2024-08-04&sig=z1fjqMLCu4hsAK8IBX/JuHSPmjrf96BbfreI5RzfcdE%3D
   ✅ Image saved to: lessons/image/lesson_38/onomatopoeia_page_8_20250723_030744_935a59e8.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Accommodation - 宿泊施設 (Shukuhaku Shisetsu)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Accommodation - 宿泊施設 (Shukuhaku Shisetsu) ---
   🤖 Generating batch quiz questions for Accommodation - 宿泊施設 (Shukuhaku Shisetsu)...
   ✅ Generated 5 quiz questions in batch for Accommodation - 宿泊施設 (Shukuhaku Shisetsu)
   Processing Matching quiz #1...
   ✅ Matching quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Dining Out - レストラン (Resutoran) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-990OR6oC7YW2RXnhi3jNwzbf.png?st=2025-07-23T00%3A09%3A29Z&se=2025-07-23T02%3A09%3A29Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A36%3A28Z&ske=2025-07-23T17%3A36%3A28Z&sks=b&skv=2024-08-04&sig=S9llBqxKAOfqH6BJRwtaJRtfFwLiZnnovsMyvUboNVw%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-990OR6oC7YW2RXnhi3jNwzbf.png?st=2025-07-23T00%3A09%3A29Z&se=2025-07-23T02%3A09%3A29Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A36%3A28Z&ske=2025-07-23T17%3A36%3A28Z&sks=b&skv=2024-08-04&sig=S9llBqxKAOfqH6BJRwtaJRtfFwLiZnnovsMyvUboNVw%3D
   ✅ Image saved to: lessons/image/lesson_38/onomatopoeia_page_10_20250723_030925_b5853e23.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Dining Out - レストラン (Resutoran)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Dining Out - レストラン (Resutoran) ---
   🤖 Generating batch quiz questions for Dining Out - レストラン (Resutoran)...
   ✅ Generated 5 quiz questions in batch for Dining Out - レストラン (Resutoran)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Shopping - 買い物 (Kaimono) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ZslSUTsEnSQ2sc6Jok86GnnR.png?st=2025-07-23T00%3A11%3A14Z&se=2025-07-23T02%3A11%3A14Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A54%3A24Z&ske=2025-07-23T06%3A54%3A24Z&sks=b&skv=2024-08-04&sig=pbH6Iv8npJ9OwuUL2/MWCMd%2BFFlqDv76KA4kBLFx5Bo%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-ZslSUTsEnSQ2sc6Jok86GnnR.png?st=2025-07-23T00%3A11%3A14Z&se=2025-07-23T02%3A11%3A14Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A54%3A24Z&ske=2025-07-23T06%3A54%3A24Z&sks=b&skv=2024-08-04&sig=pbH6Iv8npJ9OwuUL2/MWCMd%2BFFlqDv76KA4kBLFx5Bo%3D
   ✅ Image saved to: lessons/image/lesson_38/onomatopoeia_page_12_20250723_031110_e4ba4d11.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Shopping - 買い物 (Kaimono)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Shopping - 買い物 (Kaimono) ---
   🤖 Generating batch quiz questions for Shopping - 買い物 (Kaimono)...
   ✅ Generated 5 quiz questions in batch for Shopping - 買い物 (Kaimono)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Emergencies - 緊急事態 (Kinkyū Jitai) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-JK1Z2Kcz9m5kV35mNDMv1rgJ.png?st=2025-07-23T00%3A12%3A54Z&se=2025-07-23T02%3A12%3A54Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T23%3A42%3A46Z&ske=2025-07-23T23%3A42%3A46Z&sks=b&skv=2024-08-04&sig=vyrRRMM7FHmvPFjBtEtlTH8PpqApXrT0KCwbSMuT/ks%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-JK1Z2Kcz9m5kV35mNDMv1rgJ.png?st=2025-07-23T00%3A12%3A54Z&se=2025-07-23T02%3A12%3A54Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T23%3A42%3A46Z&ske=2025-07-23T23%3A42%3A46Z&sks=b&skv=2024-08-04&sig=vyrRRMM7FHmvPFjBtEtlTH8PpqApXrT0KCwbSMuT/ks%3D
   ✅ Image saved to: lessons/image/lesson_38/onomatopoeia_page_14_20250723_031250_a247e06a.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Emergencies - 緊急事態 (Kinkyū Jitai)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Emergencies - 緊急事態 (Kinkyū Jitai) ---
   🤖 Generating batch quiz questions for Emergencies - 緊急事態 (Kinkyū Jitai)...
   ✅ Generated 5 quiz questions in batch for Emergencies - 緊急事態 (Kinkyū Jitai)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Traveling in Japan: Practical Survival Phrases Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_traveling_in_japan_practical_survival_phrases_lesson.py (873.6s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [22/24] Processing: create_unlocking_japanese_wisdom_idioms_and_proverbs_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Unlocking Japanese Wisdom: Idioms and Proverbs' not found in database - will create
🎯 Executing: create_unlocking_japanese_wisdom_idioms_and_proverbs_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Unlocking Japanese Wisdom: Idioms and Proverbs ---
   ✅ Lesson 'Unlocking Japanese Wisdom: Idioms and Proverbs' created with ID: 39
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-GZCu4uRkncHyJWijskVL0deJ.png?st=2025-07-23T00%3A16%3A26Z&se=2025-07-23T02%3A16%3A26Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A56%3A58Z&ske=2025-07-23T14%3A56%3A58Z&sks=b&skv=2024-08-04&sig=PeidFZU/7c1zlWTs07ANq7QckmRmD6FFMJYDChBrjUo%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-GZCu4uRkncHyJWijskVL0deJ.png?st=2025-07-23T00%3A16%3A26Z&se=2025-07-23T02%3A16%3A26Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A56%3A58Z&ske=2025-07-23T14%3A56%3A58Z&sks=b&skv=2024-08-04&sig=PeidFZU/7c1zlWTs07ANq7QckmRmD6FFMJYDChBrjUo%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_39_background_20250723_031621_1aeec027.png
   ✅ Background image added to lesson 'Unlocking Japanese Wisdom: Idioms and Proverbs'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-f30NSbp6Wbot2JSyqukQSnga.png?st=2025-07-23T00%3A16%3A46Z&se=2025-07-23T02%3A16%3A46Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A24%3A03Z&ske=2025-07-23T12%3A24%3A03Z&sks=b&skv=2024-08-04&sig=Qb%2B4Dyt/IxYL905uN%2BS/yg/aTpBfz31G6C/eFfzrlYM%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-f30NSbp6Wbot2JSyqukQSnga.png?st=2025-07-23T00%3A16%3A46Z&se=2025-07-23T02%3A16%3A46Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A24%3A03Z&ske=2025-07-23T12%3A24%3A03Z&sks=b&skv=2024-08-04&sig=Qb%2B4Dyt/IxYL905uN%2BS/yg/aTpBfz31G6C/eFfzrlYM%3D
   ✅ Image saved to: lessons/image/lesson_39/onomatopoeia_page_1_20250723_031642_7a61c6a5.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Introduction to Idioms and Proverbs - ことわざと慣用句入門 (Kotowaza to Kanyouku Nyūmon) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-SqVSehE5t5TXoZFkb09uprhG.png?st=2025-07-23T00%3A17%3A37Z&se=2025-07-23T02%3A17%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A24%3A44Z&ske=2025-07-23T06%3A24%3A44Z&sks=b&skv=2024-08-04&sig=VcJ1xQli/oZivRRbz6uiIKrKKjQmFWTuQEam7%2B01KMM%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-SqVSehE5t5TXoZFkb09uprhG.png?st=2025-07-23T00%3A17%3A37Z&se=2025-07-23T02%3A17%3A37Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A24%3A44Z&ske=2025-07-23T06%3A24%3A44Z&sks=b&skv=2024-08-04&sig=VcJ1xQli/oZivRRbz6uiIKrKKjQmFWTuQEam7%2B01KMM%3D
   ✅ Image saved to: lessons/image/lesson_39/onomatopoeia_page_2_20250723_031733_1720db37.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Introduction to Idioms and Proverbs - ことわざと慣用句入門 (Kotowaza to Kanyouku Nyūmon)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Introduction to Idioms and Proverbs - ことわざと慣用句入門 (Kotowaza to Kanyouku Nyūmon) ---
   🤖 Generating batch quiz questions for Introduction to Idioms and Proverbs - ことわざと慣用句入門 (Kotowaza to Kanyouku Nyūmon)...
   ✅ Generated 5 quiz questions in batch for Introduction to Idioms and Proverbs - ことわざと慣用句入門 (Kotowaza to Kanyouku Nyūmon)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Nature-Inspired Expressions - 自然からのことわざ (Shizen kara no Kotowaza) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-XzJPADHo3fw3bL95JR9EKChK.png?st=2025-07-23T00%3A19%3A46Z&se=2025-07-23T02%3A19%3A46Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A25%3A09Z&ske=2025-07-23T08%3A25%3A09Z&sks=b&skv=2024-08-04&sig=v4eO9tWvglyfHztwXtDJzbHdV7SyOYrE7KSKxmbdTV0%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-XzJPADHo3fw3bL95JR9EKChK.png?st=2025-07-23T00%3A19%3A46Z&se=2025-07-23T02%3A19%3A46Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A25%3A09Z&ske=2025-07-23T08%3A25%3A09Z&sks=b&skv=2024-08-04&sig=v4eO9tWvglyfHztwXtDJzbHdV7SyOYrE7KSKxmbdTV0%3D
   ✅ Image saved to: lessons/image/lesson_39/onomatopoeia_page_4_20250723_031942_57f026b4.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Nature-Inspired Expressions - 自然からのことわざ (Shizen kara no Kotowaza)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Nature-Inspired Expressions - 自然からのことわざ (Shizen kara no Kotowaza) ---
   🤖 Generating batch quiz questions for Nature-Inspired Expressions - 自然からのことわざ (Shizen kara no Kotowaza)...
   ✅ Generated 5 quiz questions in batch for Nature-Inspired Expressions - 自然からのことわざ (Shizen kara no Kotowaza)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing True False quiz #3...
   ✅ True False quiz #3 added to quiz page 5.
   Processing Matching quiz #4...
   ✅ Matching quiz #4 added to quiz page 5.
   Processing Multiple Choice quiz #5...
   ✅ Multiple Choice quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Idioms for Everyday Life - 日常生活の慣用句 (Nichijō Seikatsu no Kanyouku) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-FBMh1sSCa79Bc6WxTMTQYNvu.png?st=2025-07-23T00%3A21%3A40Z&se=2025-07-23T02%3A21%3A40Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A18%3A36Z&ske=2025-07-23T21%3A18%3A36Z&sks=b&skv=2024-08-04&sig=4Ua1oODVoVsa%2Bg5%2B6VjFInBuTee70UZz36%2B2XxX%2BQNc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-FBMh1sSCa79Bc6WxTMTQYNvu.png?st=2025-07-23T00%3A21%3A40Z&se=2025-07-23T02%3A21%3A40Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A18%3A36Z&ske=2025-07-23T21%3A18%3A36Z&sks=b&skv=2024-08-04&sig=4Ua1oODVoVsa%2Bg5%2B6VjFInBuTee70UZz36%2B2XxX%2BQNc%3D
   ✅ Image saved to: lessons/image/lesson_39/onomatopoeia_page_6_20250723_032136_5ffb6845.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Idioms for Everyday Life - 日常生活の慣用句 (Nichijō Seikatsu no Kanyouku)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Idioms for Everyday Life - 日常生活の慣用句 (Nichijō Seikatsu no Kanyouku) ---
   🤖 Generating batch quiz questions for Idioms for Everyday Life - 日常生活の慣用句 (Nichijō Seikatsu no Kanyouku)...
   ✅ Generated 5 quiz questions in batch for Idioms for Everyday Life - 日常生活の慣用句 (Nichijō Seikatsu no Kanyouku)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Proverbs about Relationships - 人間関係のことわざ (Ningen Kankei no Kotowaza) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-72tZwhlWTZWpUv5xp1DyNp5C.png?st=2025-07-23T00%3A23%3A18Z&se=2025-07-23T02%3A23%3A18Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A37%3A14Z&ske=2025-07-23T13%3A37%3A14Z&sks=b&skv=2024-08-04&sig=507N9Yzvd3Dt2zV4M2xILaEW8PpU7AcH91T3d%2ByK4Jw%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-72tZwhlWTZWpUv5xp1DyNp5C.png?st=2025-07-23T00%3A23%3A18Z&se=2025-07-23T02%3A23%3A18Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T13%3A37%3A14Z&ske=2025-07-23T13%3A37%3A14Z&sks=b&skv=2024-08-04&sig=507N9Yzvd3Dt2zV4M2xILaEW8PpU7AcH91T3d%2ByK4Jw%3D
   ✅ Image saved to: lessons/image/lesson_39/onomatopoeia_page_8_20250723_032314_e9ffe7f1.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Proverbs about Relationships - 人間関係のことわざ (Ningen Kankei no Kotowaza)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Proverbs about Relationships - 人間関係のことわざ (Ningen Kankei no Kotowaza) ---
   🤖 Generating batch quiz questions for Proverbs about Relationships - 人間関係のことわざ (Ningen Kankei no Kotowaza)...
   ✅ Generated 5 quiz questions in batch for Proverbs about Relationships - 人間関係のことわざ (Ningen Kankei no Kotowaza)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Idioms with Body Parts - 体の部位を使った慣用句 (Karada no Bui o Tsukatta Kanyouku) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-GrSMqnfXGv74RmWDdVmeXh39.png?st=2025-07-23T00%3A25%3A23Z&se=2025-07-23T02%3A25%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T11%3A37%3A40Z&ske=2025-07-23T11%3A37%3A40Z&sks=b&skv=2024-08-04&sig=WQNb/ohA9cGtQee0KYwzN7FVBmycxJkG9mmfOU6zDwc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-GrSMqnfXGv74RmWDdVmeXh39.png?st=2025-07-23T00%3A25%3A23Z&se=2025-07-23T02%3A25%3A23Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T11%3A37%3A40Z&ske=2025-07-23T11%3A37%3A40Z&sks=b&skv=2024-08-04&sig=WQNb/ohA9cGtQee0KYwzN7FVBmycxJkG9mmfOU6zDwc%3D
   ✅ Image saved to: lessons/image/lesson_39/onomatopoeia_page_10_20250723_032519_2ada571b.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Idioms with Body Parts - 体の部位を使った慣用句 (Karada no Bui o Tsukatta Kanyouku)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Idioms with Body Parts - 体の部位を使った慣用句 (Karada no Bui o Tsukatta Kanyouku) ---
   🤖 Generating batch quiz questions for Idioms with Body Parts - 体の部位を使った慣用句 (Karada no Bui o Tsukatta Kanyouku)...
   ✅ Generated 5 quiz questions in batch for Idioms with Body Parts - 体の部位を使った慣用句 (Karada no Bui o Tsukatta Kanyouku)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Proverbs about Hard Work and Perseverance - 努力と忍耐のことわざ (Doryoku to Nintai no Kotowaza) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BDtVAcidsvlZPQhPqsdW6KDj.png?st=2025-07-23T00%3A27%3A24Z&se=2025-07-23T02%3A27%3A24Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A23%3A29Z&ske=2025-07-23T20%3A23%3A29Z&sks=b&skv=2024-08-04&sig=EOZwpBJuokaEoT40/t9lWKe3ALZqMkQkwePqcW9Ln7c%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-BDtVAcidsvlZPQhPqsdW6KDj.png?st=2025-07-23T00%3A27%3A24Z&se=2025-07-23T02%3A27%3A24Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A23%3A29Z&ske=2025-07-23T20%3A23%3A29Z&sks=b&skv=2024-08-04&sig=EOZwpBJuokaEoT40/t9lWKe3ALZqMkQkwePqcW9Ln7c%3D
   ✅ Image saved to: lessons/image/lesson_39/onomatopoeia_page_12_20250723_032720_bb620008.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Proverbs about Hard Work and Perseverance - 努力と忍耐のことわざ (Doryoku to Nintai no Kotowaza)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Proverbs about Hard Work and Perseverance - 努力と忍耐のことわざ (Doryoku to Nintai no Kotowaza) ---
   🤖 Generating batch quiz questions for Proverbs about Hard Work and Perseverance - 努力と忍耐のことわざ (Doryoku to Nintai no Kotowaza)...
   ✅ Generated 5 quiz questions in batch for Proverbs about Hard Work and Perseverance - 努力と忍耐のことわざ (Doryoku to Nintai no Kotowaza)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Putting it all Together: Practice and Application - まとめと応用 (Matome to Ōyō) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-3eevUzc8VJhIhoTRiVyCzsJY.png?st=2025-07-23T00%3A29%3A20Z&se=2025-07-23T02%3A29%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A49%3A54Z&ske=2025-07-23T12%3A49%3A54Z&sks=b&skv=2024-08-04&sig=7ERx6vDqAiLPRlmRC/55vnxfKG9JzJhJnI/UlIHIaQw%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-3eevUzc8VJhIhoTRiVyCzsJY.png?st=2025-07-23T00%3A29%3A20Z&se=2025-07-23T02%3A29%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A49%3A54Z&ske=2025-07-23T12%3A49%3A54Z&sks=b&skv=2024-08-04&sig=7ERx6vDqAiLPRlmRC/55vnxfKG9JzJhJnI/UlIHIaQw%3D
   ✅ Image saved to: lessons/image/lesson_39/onomatopoeia_page_14_20250723_032916_c08f96f1.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Putting it all Together: Practice and Application - まとめと応用 (Matome to Ōyō)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Putting it all Together: Practice and Application - まとめと応用 (Matome to Ōyō) ---
   🤖 Generating batch quiz questions for Putting it all Together: Practice and Application - まとめと応用 (Matome to Ōyō)...
   ✅ Generated 5 quiz questions in batch for Putting it all Together: Practice and Application - まとめと応用 (Matome to Ōyō)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Unlocking Japanese Wisdom: Idioms and Proverbs Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_unlocking_japanese_wisdom_idioms_and_proverbs_lesson.py (983.2s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [23/24] Processing: create_visiting_sacred_spaces_a_guide_to_japanese_temples_and_shrines_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson 'Visiting Sacred Spaces: A Guide to Japanese Temples and Shrines' not found in database - will create
🎯 Executing: create_visiting_sacred_spaces_a_guide_to_japanese_temples_and_shrines_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: Visiting Sacred Spaces: A Guide to Japanese Temples and Shrines ---
   ✅ Lesson 'Visiting Sacred Spaces: A Guide to Japanese Temples and Shrines' created with ID: 40
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-0lfNfsNjG99nHlnodmoIz6xz.png?st=2025-07-23T00%3A32%3A52Z&se=2025-07-23T02%3A32%3A52Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A55%3A06Z&ske=2025-07-23T21%3A55%3A06Z&sks=b&skv=2024-08-04&sig=TU/4DlrPXHoXcyql1P9pOlt%2BlvyAnFIkYFftQvxEBag%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-0lfNfsNjG99nHlnodmoIz6xz.png?st=2025-07-23T00%3A32%3A52Z&se=2025-07-23T02%3A32%3A52Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T21%3A55%3A06Z&ske=2025-07-23T21%3A55%3A06Z&sks=b&skv=2024-08-04&sig=TU/4DlrPXHoXcyql1P9pOlt%2BlvyAnFIkYFftQvxEBag%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_40_background_20250723_033248_38b2aacb.png
   ✅ Background image added to lesson 'Visiting Sacred Spaces: A Guide to Japanese Temples and Shrines'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-15jtVIpf8hCwBGKNdaOi5BrW.png?st=2025-07-23T00%3A33%3A20Z&se=2025-07-23T02%3A33%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T04%3A20%3A03Z&ske=2025-07-23T04%3A20%3A03Z&sks=b&skv=2024-08-04&sig=ialG7oOREW2j1wmstTfZzmB1UBcmgjZp%2BFmGIOpmv5E%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-15jtVIpf8hCwBGKNdaOi5BrW.png?st=2025-07-23T00%3A33%3A20Z&se=2025-07-23T02%3A33%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T04%3A20%3A03Z&ske=2025-07-23T04%3A20%3A03Z&sks=b&skv=2024-08-04&sig=ialG7oOREW2j1wmstTfZzmB1UBcmgjZp%2BFmGIOpmv5E%3D
   ✅ Image saved to: lessons/image/lesson_40/onomatopoeia_page_1_20250723_033315_726f302c.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: Understanding the Difference - 神社と寺院 (Jinja to Jiin) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-RJwkpN99ywKtkMTSA4DqvV7k.png?st=2025-07-23T00%3A34%3A17Z&se=2025-07-23T02%3A34%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A20%3A00Z&ske=2025-07-23T09%3A20%3A00Z&sks=b&skv=2024-08-04&sig=5iIUnFbmze8Fi0hUFqIk9yUXLJZGgfEAbI2EauT%2Bw2Y%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-RJwkpN99ywKtkMTSA4DqvV7k.png?st=2025-07-23T00%3A34%3A17Z&se=2025-07-23T02%3A34%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T09%3A20%3A00Z&ske=2025-07-23T09%3A20%3A00Z&sks=b&skv=2024-08-04&sig=5iIUnFbmze8Fi0hUFqIk9yUXLJZGgfEAbI2EauT%2Bw2Y%3D
   ✅ Image saved to: lessons/image/lesson_40/onomatopoeia_page_2_20250723_033413_ef8a16c7.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for Understanding the Difference - 神社と寺院 (Jinja to Jiin)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for Understanding the Difference - 神社と寺院 (Jinja to Jiin) ---
   🤖 Generating batch quiz questions for Understanding the Difference - 神社と寺院 (Jinja to Jiin)...
   ✅ Generated 5 quiz questions in batch for Understanding the Difference - 神社と寺院 (Jinja to Jiin)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: Purifying Before Entry - 参拝前の清め (Sanpai Mae no Kiyome) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-FZmMqhxw5uKkJOKWf3mDbYRX.png?st=2025-07-23T00%3A36%3A20Z&se=2025-07-23T02%3A36%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-23T01%3A36%3A20Z&ske=2025-07-24T01%3A36%3A20Z&sks=b&skv=2024-08-04&sig=I/kAPo6bxGW5Ow9iercR%2B3IZLxF%2BS/0xrXAN87Cshpg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-FZmMqhxw5uKkJOKWf3mDbYRX.png?st=2025-07-23T00%3A36%3A20Z&se=2025-07-23T02%3A36%3A20Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-23T01%3A36%3A20Z&ske=2025-07-24T01%3A36%3A20Z&sks=b&skv=2024-08-04&sig=I/kAPo6bxGW5Ow9iercR%2B3IZLxF%2BS/0xrXAN87Cshpg%3D
   ✅ Image saved to: lessons/image/lesson_40/onomatopoeia_page_4_20250723_033616_0a49b1af.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for Purifying Before Entry - 参拝前の清め (Sanpai Mae no Kiyome)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for Purifying Before Entry - 参拝前の清め (Sanpai Mae no Kiyome) ---
   🤖 Generating batch quiz questions for Purifying Before Entry - 参拝前の清め (Sanpai Mae no Kiyome)...
   ✅ Generated 5 quiz questions in batch for Purifying Before Entry - 参拝前の清め (Sanpai Mae no Kiyome)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: Making Offerings and Prayers - お賽銭とお願い (Osaisen to Onegai) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-qgtUMfXXZmTrDBuLGA0oNvuR.png?st=2025-07-23T00%3A37%3A57Z&se=2025-07-23T02%3A37%3A57Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A33%3A43Z&ske=2025-07-23T08%3A33%3A43Z&sks=b&skv=2024-08-04&sig=su9MMsipDFf6l96nRWgnsK8nYfBZY3Rr6i1NXnINiZc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-qgtUMfXXZmTrDBuLGA0oNvuR.png?st=2025-07-23T00%3A37%3A57Z&se=2025-07-23T02%3A37%3A57Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T08%3A33%3A43Z&ske=2025-07-23T08%3A33%3A43Z&sks=b&skv=2024-08-04&sig=su9MMsipDFf6l96nRWgnsK8nYfBZY3Rr6i1NXnINiZc%3D
   ✅ Image saved to: lessons/image/lesson_40/onomatopoeia_page_6_20250723_033752_2071e29c.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for Making Offerings and Prayers - お賽銭とお願い (Osaisen to Onegai)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for Making Offerings and Prayers - お賽銭とお願い (Osaisen to Onegai) ---
   🤖 Generating batch quiz questions for Making Offerings and Prayers - お賽銭とお願い (Osaisen to Onegai)...
   ✅ Generated 5 quiz questions in batch for Making Offerings and Prayers - お賽銭とお願い (Osaisen to Onegai)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: Ema and Omikuji - 絵馬とおみくじ (Ema to Omikuji) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-xGVSmWbLhMmk2s3vEEaq6LQk.png?st=2025-07-23T00%3A39%3A39Z&se=2025-07-23T02%3A39%3A39Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A23%3A27Z&ske=2025-07-23T12%3A23%3A27Z&sks=b&skv=2024-08-04&sig=EiEyNf3hpsi5e2YrPpZJ0TSP61aTpOy/4fisMX8f7lU%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-xGVSmWbLhMmk2s3vEEaq6LQk.png?st=2025-07-23T00%3A39%3A39Z&se=2025-07-23T02%3A39%3A39Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A23%3A27Z&ske=2025-07-23T12%3A23%3A27Z&sks=b&skv=2024-08-04&sig=EiEyNf3hpsi5e2YrPpZJ0TSP61aTpOy/4fisMX8f7lU%3D
   ✅ Image saved to: lessons/image/lesson_40/onomatopoeia_page_8_20250723_033935_92550116.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for Ema and Omikuji - 絵馬とおみくじ (Ema to Omikuji)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for Ema and Omikuji - 絵馬とおみくじ (Ema to Omikuji) ---
   🤖 Generating batch quiz questions for Ema and Omikuji - 絵馬とおみくじ (Ema to Omikuji)...
   ✅ Generated 5 quiz questions in batch for Ema and Omikuji - 絵馬とおみくじ (Ema to Omikuji)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: Goshuin - 御朱印 (Goshuin) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-X7CKM4iVGQPcfUmolNeScjQp.png?st=2025-07-23T00%3A41%3A29Z&se=2025-07-23T02%3A41%3A29Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A37%3A40Z&ske=2025-07-23T06%3A37%3A40Z&sks=b&skv=2024-08-04&sig=toJzI7Q0SmljYCULQWLGlOBnSxlyrYbBT97QtVYphYE%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-X7CKM4iVGQPcfUmolNeScjQp.png?st=2025-07-23T00%3A41%3A29Z&se=2025-07-23T02%3A41%3A29Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T06%3A37%3A40Z&ske=2025-07-23T06%3A37%3A40Z&sks=b&skv=2024-08-04&sig=toJzI7Q0SmljYCULQWLGlOBnSxlyrYbBT97QtVYphYE%3D
   ✅ Image saved to: lessons/image/lesson_40/onomatopoeia_page_10_20250723_034125_c8f182e5.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for Goshuin - 御朱印 (Goshuin)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for Goshuin - 御朱印 (Goshuin) ---
   🤖 Generating batch quiz questions for Goshuin - 御朱印 (Goshuin)...
   ✅ Generated 5 quiz questions in batch for Goshuin - 御朱印 (Goshuin)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: Exploring Temple Grounds - 寺院の境内 (Jiin no Keidai) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-4Luc8UKwaR2z8B2gEWnZdzFh.png?st=2025-07-23T00%3A43%3A17Z&se=2025-07-23T02%3A43%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A23%3A20Z&ske=2025-07-23T12%3A23%3A20Z&sks=b&skv=2024-08-04&sig=/Qf2ZykomOz6TAqXnlBvINx6wM1WQNUv2TMB4OeOKv0%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-4Luc8UKwaR2z8B2gEWnZdzFh.png?st=2025-07-23T00%3A43%3A17Z&se=2025-07-23T02%3A43%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A23%3A20Z&ske=2025-07-23T12%3A23%3A20Z&sks=b&skv=2024-08-04&sig=/Qf2ZykomOz6TAqXnlBvINx6wM1WQNUv2TMB4OeOKv0%3D
   ✅ Image saved to: lessons/image/lesson_40/onomatopoeia_page_12_20250723_034313_da00a590.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for Exploring Temple Grounds - 寺院の境内 (Jiin no Keidai)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for Exploring Temple Grounds - 寺院の境内 (Jiin no Keidai) ---
   🤖 Generating batch quiz questions for Exploring Temple Grounds - 寺院の境内 (Jiin no Keidai)...
   ✅ Generated 5 quiz questions in batch for Exploring Temple Grounds - 寺院の境内 (Jiin no Keidai)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: Respectful Behavior - 敬意を表す行動 (Keii o Arawasu Koudou) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Qsiw20ObAfgpoAqdQD8YSRkj.png?st=2025-07-23T00%3A45%3A01Z&se=2025-07-23T02%3A45%3A01Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T05%3A59%3A18Z&ske=2025-07-23T05%3A59%3A18Z&sks=b&skv=2024-08-04&sig=JSslEhP/25Wbbvz93vtO9CIlLKuhICWX1ilyIcuiPs0%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Qsiw20ObAfgpoAqdQD8YSRkj.png?st=2025-07-23T00%3A45%3A01Z&se=2025-07-23T02%3A45%3A01Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T05%3A59%3A18Z&ske=2025-07-23T05%3A59%3A18Z&sks=b&skv=2024-08-04&sig=JSslEhP/25Wbbvz93vtO9CIlLKuhICWX1ilyIcuiPs0%3D
   ✅ Image saved to: lessons/image/lesson_40/onomatopoeia_page_14_20250723_034456_07eed8b2.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for Respectful Behavior - 敬意を表す行動 (Keii o Arawasu Koudou)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for Respectful Behavior - 敬意を表す行動 (Keii o Arawasu Koudou) ---
   🤖 Generating batch quiz questions for Respectful Behavior - 敬意を表す行動 (Keii o Arawasu Koudou)...
   ✅ Generated 5 quiz questions in batch for Respectful Behavior - 敬意を表す行動 (Keii o Arawasu Koudou)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- Visiting Sacred Spaces: A Guide to Japanese Temples and Shrines Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_visiting_sacred_spaces_a_guide_to_japanese_temples_and_shrines_lesson.py (935.6s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested
⏳ Waiting 3 seconds before next execution...

--- [24/24] Processing: create_四季の彩り_appreciating_japans_vibrant_seasons_shiki_no_irodori_lesson.py ---
DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
  🆕 Lesson '四季の彩り: Appreciating Japan’s Vibrant Seasons (Shiki no Irodori)' not found in database - will create
🎯 Executing: create_四季の彩り_appreciating_japans_vibrant_seasons_shiki_no_irodori_lesson.py
   DEBUG: Using DATABASE_URI: postgresql://postgres:E8BnuCBpWKP@localhost:5433/japanese_learning
   --- Creating Lesson: 四季の彩り: Appreciating Japan’s Vibrant Seasons (Shiki no Irodori) ---
   ✅ Lesson '四季の彩り: Appreciating Japan’s Vibrant Seasons (Shiki no Irodori)' created with ID: 41
   
   --- Initializing AI Generator ---
   ✅ AI Generator Initialized
   
   --- Generating Lesson Tile Background ---
   🎨 Generating background image for lesson tile...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Background image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Sj1QqtklkPl0dTDSabo9pq8o.png?st=2025-07-23T00%3A48%3A28Z&se=2025-07-23T02%3A48%3A28Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T15%3A32%3A38Z&ske=2025-07-23T15%3A32%3A38Z&sks=b&skv=2024-08-04&sig=zUdfcm9paVF9vEWWdPiiRYv38aoJOSOg3aaQSmT0XY8%3D
   Downloading background image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-Sj1QqtklkPl0dTDSabo9pq8o.png?st=2025-07-23T00%3A48%3A28Z&se=2025-07-23T02%3A48%3A28Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T15%3A32%3A38Z&ske=2025-07-23T15%3A32%3A38Z&sks=b&skv=2024-08-04&sig=zUdfcm9paVF9vEWWdPiiRYv38aoJOSOg3aaQSmT0XY8%3D
   ✅ Background image saved to: lessons/backgrounds/lesson_41_background_20250723_034824_2aa67063.png
   ✅ Background image added to lesson '四季の彩り: Appreciating Japan’s Vibrant Seasons (Shiki no Irodori)'
   
   --- Creating Introduction Page ---
   🖼️ Generating lesson overview image...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Overview image URL generated: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-SaQTjjfWczvacE9Z5P0syUF7.png?st=2025-07-23T00%3A48%3A54Z&se=2025-07-23T02%3A48%3A54Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A49%3A11Z&ske=2025-07-23T20%3A49%3A11Z&sks=b&skv=2024-08-04&sig=DRh8a9FwngScKSqmD7Jk8Y7qlFOyN9p7hfSUjzI6ZC4%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-SaQTjjfWczvacE9Z5P0syUF7.png?st=2025-07-23T00%3A48%3A54Z&se=2025-07-23T02%3A48%3A54Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T20%3A49%3A11Z&ske=2025-07-23T20%3A49%3A11Z&sks=b&skv=2024-08-04&sig=DRh8a9FwngScKSqmD7Jk8Y7qlFOyN9p7hfSUjzI6ZC4%3D
   ✅ Image saved to: lessons/image/lesson_41/onomatopoeia_page_1_20250723_034849_2dbc1758.png
   ✅ Overview image added to introduction page.
   🤖 Generating lesson introduction...
   ✅ Introduction text added to page 1.
   
   --- Creating Content Page 2: 春 - Haru (Spring) ---
   🖼️ Generating scene image for page 2...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 2: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-KQXZevblQih8sJwM9AnKPGZc.png?st=2025-07-23T00%3A49%3A43Z&se=2025-07-23T02%3A49%3A43Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A42%3A36Z&ske=2025-07-23T19%3A42%3A36Z&sks=b&skv=2024-08-04&sig=TuWG0tp1ft%2BzYsg4htwiXsr3/6ddP4rna4Wx8BRzMQc%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-KQXZevblQih8sJwM9AnKPGZc.png?st=2025-07-23T00%3A49%3A43Z&se=2025-07-23T02%3A49%3A43Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A42%3A36Z&ske=2025-07-23T19%3A42%3A36Z&sks=b&skv=2024-08-04&sig=TuWG0tp1ft%2BzYsg4htwiXsr3/6ddP4rna4Wx8BRzMQc%3D
   ✅ Image saved to: lessons/image/lesson_41/onomatopoeia_page_2_20250723_034939_87a49553.png
   ✅ Scene image added to page 2.
   🤖 Generating comprehensive explanation for 春 - Haru (Spring)...
   ✅ Page 2 explanation added.
   
   --- Creating Quiz Page 3 for 春 - Haru (Spring) ---
   🤖 Generating batch quiz questions for 春 - Haru (Spring)...
   ✅ Generated 5 quiz questions in batch for 春 - Haru (Spring)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 3.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 3.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 3.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 3.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 3.
   
   --- Creating Content Page 4: 夏 - Natsu (Summer) ---
   🖼️ Generating scene image for page 4...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 4: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-o4ptEZHl6wHEcsHTilCdnEl7.png?st=2025-07-23T00%3A51%3A17Z&se=2025-07-23T02%3A51%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A27%3A40Z&ske=2025-07-23T14%3A27%3A40Z&sks=b&skv=2024-08-04&sig=mnnJ676MwArOYlSmE9GXqdPtlFpsqTVnBM%2BOBNBNJkY%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-o4ptEZHl6wHEcsHTilCdnEl7.png?st=2025-07-23T00%3A51%3A17Z&se=2025-07-23T02%3A51%3A17Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T14%3A27%3A40Z&ske=2025-07-23T14%3A27%3A40Z&sks=b&skv=2024-08-04&sig=mnnJ676MwArOYlSmE9GXqdPtlFpsqTVnBM%2BOBNBNJkY%3D
   ✅ Image saved to: lessons/image/lesson_41/onomatopoeia_page_4_20250723_035113_9dc7aaa2.png
   ✅ Scene image added to page 4.
   🤖 Generating comprehensive explanation for 夏 - Natsu (Summer)...
   ✅ Page 4 explanation added.
   
   --- Creating Quiz Page 5 for 夏 - Natsu (Summer) ---
   🤖 Generating batch quiz questions for 夏 - Natsu (Summer)...
   ✅ Generated 5 quiz questions in batch for 夏 - Natsu (Summer)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 5.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 5.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 5.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 5.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 5.
   
   --- Creating Content Page 6: 秋 - Aki (Autumn) ---
   🖼️ Generating scene image for page 6...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 6: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-zx0EF9gEBfy0Iq6jx7sAbQVG.png?st=2025-07-23T00%3A52%3A57Z&se=2025-07-23T02%3A52%3A57Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A26%3A56Z&ske=2025-07-23T17%3A26%3A56Z&sks=b&skv=2024-08-04&sig=y4Sd4CHD0mtTVvBLyLxn7Zm6OHzSNYbHqFwb5AjDxWk%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-zx0EF9gEBfy0Iq6jx7sAbQVG.png?st=2025-07-23T00%3A52%3A57Z&se=2025-07-23T02%3A52%3A57Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A26%3A56Z&ske=2025-07-23T17%3A26%3A56Z&sks=b&skv=2024-08-04&sig=y4Sd4CHD0mtTVvBLyLxn7Zm6OHzSNYbHqFwb5AjDxWk%3D
   ✅ Image saved to: lessons/image/lesson_41/onomatopoeia_page_6_20250723_035253_5673a1c1.png
   ✅ Scene image added to page 6.
   🤖 Generating comprehensive explanation for 秋 - Aki (Autumn)...
   ✅ Page 6 explanation added.
   
   --- Creating Quiz Page 7 for 秋 - Aki (Autumn) ---
   🤖 Generating batch quiz questions for 秋 - Aki (Autumn)...
   ✅ Generated 5 quiz questions in batch for 秋 - Aki (Autumn)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 7.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 7.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 7.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 7.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 7.
   
   --- Creating Content Page 8: 冬 - Fuyu (Winter) ---
   🖼️ Generating scene image for page 8...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 8: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-suvu2Lyy8oauVaGUKO5dnQVM.png?st=2025-07-23T00%3A54%3A44Z&se=2025-07-23T02%3A54%3A44Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A21%3A13Z&ske=2025-07-23T02%3A21%3A13Z&sks=b&skv=2024-08-04&sig=kVl5QuSr1OZp1QhAVTeCj4P0W8kJfjM5ON7XLXanIFg%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-suvu2Lyy8oauVaGUKO5dnQVM.png?st=2025-07-23T00%3A54%3A44Z&se=2025-07-23T02%3A54%3A44Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T02%3A21%3A13Z&ske=2025-07-23T02%3A21%3A13Z&sks=b&skv=2024-08-04&sig=kVl5QuSr1OZp1QhAVTeCj4P0W8kJfjM5ON7XLXanIFg%3D
   ✅ Image saved to: lessons/image/lesson_41/onomatopoeia_page_8_20250723_035439_0d4ff8d5.png
   ✅ Scene image added to page 8.
   🤖 Generating comprehensive explanation for 冬 - Fuyu (Winter)...
   ✅ Page 8 explanation added.
   
   --- Creating Quiz Page 9 for 冬 - Fuyu (Winter) ---
   🤖 Generating batch quiz questions for 冬 - Fuyu (Winter)...
   ✅ Generated 5 quiz questions in batch for 冬 - Fuyu (Winter)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 9.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 9.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 9.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 9.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 9.
   
   --- Creating Content Page 10: 季節の食べ物 - Kisetsu no Tabemono (Seasonal Foods) ---
   🖼️ Generating scene image for page 10...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 10: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-d25oh50r5vk8Mj7xhYIyXAV5.png?st=2025-07-23T00%3A56%3A11Z&se=2025-07-23T02%3A56%3A11Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A40%3A05Z&ske=2025-07-23T19%3A40%3A05Z&sks=b&skv=2024-08-04&sig=/AL2fMU%2B5AFxpfMDNY8/FOw4TxJomXyFunnidFDO0Iw%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-d25oh50r5vk8Mj7xhYIyXAV5.png?st=2025-07-23T00%3A56%3A11Z&se=2025-07-23T02%3A56%3A11Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T19%3A40%3A05Z&ske=2025-07-23T19%3A40%3A05Z&sks=b&skv=2024-08-04&sig=/AL2fMU%2B5AFxpfMDNY8/FOw4TxJomXyFunnidFDO0Iw%3D
   ✅ Image saved to: lessons/image/lesson_41/onomatopoeia_page_10_20250723_035606_b29ba7eb.png
   ✅ Scene image added to page 10.
   🤖 Generating comprehensive explanation for 季節の食べ物 - Kisetsu no Tabemono (Seasonal Foods)...
   ✅ Page 10 explanation added.
   
   --- Creating Quiz Page 11 for 季節の食べ物 - Kisetsu no Tabemono (Seasonal Foods) ---
   🤖 Generating batch quiz questions for 季節の食べ物 - Kisetsu no Tabemono (Seasonal Foods)...
   ✅ Generated 5 quiz questions in batch for 季節の食べ物 - Kisetsu no Tabemono (Seasonal Foods)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 11.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 11.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 11.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 11.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 11.
   
   --- Creating Content Page 12: 季節の行事 - Kisetsu no Gyouji (Seasonal Events) ---
   🖼️ Generating scene image for page 12...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 12: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-2xKqBNiDSIfcKirOLd7RcgB6.png?st=2025-07-23T00%3A57%3A48Z&se=2025-07-23T02%3A57%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A39%3A47Z&ske=2025-07-23T17%3A39%3A47Z&sks=b&skv=2024-08-04&sig=A793ezcAAWccbmUpIkTx2dn/nSEXNLLruVY5LOcoSA8%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-2xKqBNiDSIfcKirOLd7RcgB6.png?st=2025-07-23T00%3A57%3A48Z&se=2025-07-23T02%3A57%3A48Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T17%3A39%3A47Z&ske=2025-07-23T17%3A39%3A47Z&sks=b&skv=2024-08-04&sig=A793ezcAAWccbmUpIkTx2dn/nSEXNLLruVY5LOcoSA8%3D
   ✅ Image saved to: lessons/image/lesson_41/onomatopoeia_page_12_20250723_035743_6eb59707.png
   ✅ Scene image added to page 12.
   🤖 Generating comprehensive explanation for 季節の行事 - Kisetsu no Gyouji (Seasonal Events)...
   ✅ Page 12 explanation added.
   
   --- Creating Quiz Page 13 for 季節の行事 - Kisetsu no Gyouji (Seasonal Events) ---
   🤖 Generating batch quiz questions for 季節の行事 - Kisetsu no Gyouji (Seasonal Events)...
   ✅ Generated 5 quiz questions in batch for 季節の行事 - Kisetsu no Gyouji (Seasonal Events)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 13.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 13.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 13.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 13.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 13.
   
   --- Creating Content Page 14: 季語 - Kigo (Seasonal Words) ---
   🖼️ Generating scene image for page 14...
   INFO:httpx:HTTP Request: POST https://api.openai.com/v1/images/generations "HTTP/1.1 200 OK"
   🖼️ Image URL generated for page 14: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-zCkJbvdcNULUCksYui43fJfW.png?st=2025-07-23T00%3A59%3A13Z&se=2025-07-23T02%3A59%3A13Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A33%3A26Z&ske=2025-07-23T12%3A33%3A26Z&sks=b&skv=2024-08-04&sig=e8p8QtB4c7mfLyUSmaKSt7V6djprULxNgWCc/8t3D54%3D
   Downloading image from: https://oaidalleapiprodscus.blob.core.windows.net/private/org-r14SksqHWgozl8qrGdXu0V9b/user-oEmcaIg5AwRBftQxcsZjhJ2g/img-zCkJbvdcNULUCksYui43fJfW.png?st=2025-07-23T00%3A59%3A13Z&se=2025-07-23T02%3A59%3A13Z&sp=r&sv=2024-08-04&sr=b&rscd=inline&rsct=image/png&skoid=475fd488-6c59-44a5-9aa9-31c4db451bea&sktid=a48cca56-e6da-484e-a814-9c849652bcb3&skt=2025-07-22T12%3A33%3A26Z&ske=2025-07-23T12%3A33%3A26Z&sks=b&skv=2024-08-04&sig=e8p8QtB4c7mfLyUSmaKSt7V6djprULxNgWCc/8t3D54%3D
   ✅ Image saved to: lessons/image/lesson_41/onomatopoeia_page_14_20250723_035910_8bace1b3.png
   ✅ Scene image added to page 14.
   🤖 Generating comprehensive explanation for 季語 - Kigo (Seasonal Words)...
   ✅ Page 14 explanation added.
   
   --- Creating Quiz Page 15 for 季語 - Kigo (Seasonal Words) ---
   🤖 Generating batch quiz questions for 季語 - Kigo (Seasonal Words)...
   ✅ Generated 5 quiz questions in batch for 季語 - Kigo (Seasonal Words)
   Processing Multiple Choice quiz #1...
   ✅ Multiple Choice quiz #1 added to quiz page 15.
   Processing Multiple Choice quiz #2...
   ✅ Multiple Choice quiz #2 added to quiz page 15.
   Processing Multiple Choice quiz #3...
   ✅ Multiple Choice quiz #3 added to quiz page 15.
   Processing True False quiz #4...
   ✅ True False quiz #4 added to quiz page 15.
   Processing Matching quiz #5...
   ✅ Matching quiz #5 added to quiz page 15.
   
   --- Creating Final Page 16: Comprehensive Quiz and Conclusion ---
   🤖 Generating lesson conclusion...
   ✅ Conclusion added to final page.
   🤖 Generating comprehensive final quiz...
   
   --- 四季の彩り: Appreciating Japan’s Vibrant Seasons (Shiki no Irodori) Creation Complete! ---
   ✅ Onomatopoeia and Mimetic Words lesson created successfully!
   - Introduction page with overview image and welcoming text
   - 7 content pages covering different daily life scenarios
   - 7 dedicated quiz pages (one after each content page)
   - Each content page contains: scene image and comprehensive explanation
   - Each quiz page contains: 4 varied quiz questions
   - Final page with conclusion and comprehensive quiz
   - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
   - Quizzes are now separated from explanatory content as requested
✅ Success: create_四季の彩り_appreciating_japans_vibrant_seasons_shiki_no_irodori_lesson.py (836.4s)
   Last output lines:
      - Final page with conclusion and comprehensive quiz
      - Topics covered: Morning routines, Cooking/eating, Weather/nature, Emotions, Movement, Communication, Household activities, Transportation
      - Quizzes are now separated from explanatory content as requested

============================================================
📊 BATCH EXECUTION SUMMARY
============================================================
📈 Total scripts processed: 24
✅ Successful executions: 19
❌ Failed executions: 0
⏭️  Skipped executions: 5
⏱️  Total execution time: 18706.7 seconds (311.8 minutes)
📊 Average execution time: 984.6 seconds

⏱️  Individual Execution Times:
   create_comprehensive_multimedia_lesson.py: 618.7s
   create_decoding_japanese_pop_culture_anime_manga_terminology_lesson.py: 1034.7s
   create_dining_out_in_japan_from_ramen_shops_to_fancy_restaurants_lesson.py: 909.0s
   create_exploring_japans_vibrant_matsuri_a_journey_through_festive_traditions_lesson.py: 940.4s
   create_exploring_the_mystical_world_of_japanese_folklore_lesson.py: 944.3s
   create_exploring_traditional_japanese_arts_a_journey_through_craftsmanship_lesson.py: 835.2s
   create_japanese_festivals_lesson.py: 3345.9s
   create_konbini_kingdom_mastering_the_japanese_convenience_store_lesson.py: 867.7s
   create_navigating_the_japanese_web_decoding_internet_slang_and_social_media_lesson.py: 938.4s
   create_navigating_the_japanese_workplace_essential_business_etiquette_lesson.py: 947.1s
   create_protecting_our_planet_environmental_issues_and_sustainability_in_japan_地球を守ろう日本の環境問題と持続可能性_lesson.py: 940.8s
   create_relax_and_rejuvenate_a_journey_into_japanese_onsen_culture_lesson.py: 926.1s
   create_riding_the_rails_and_roads_japanese_public_transport_etiquette_lesson.py: 902.8s
   create_stylish_japan_navigating_fashion_and_shopping_culture_lesson.py: 926.8s
   create_travel_japanese_lesson.py: 0.1s
   create_traveling_in_japan_practical_survival_phrases_lesson.py: 873.6s
   create_unlocking_japanese_wisdom_idioms_and_proverbs_lesson.py: 983.2s
   create_visiting_sacred_spaces_a_guide_to_japanese_temples_and_shrines_lesson.py: 935.6s
   create_四季の彩り_appreciating_japans_vibrant_seasons_shiki_no_irodori_lesson.py: 836.4s

📝 Detailed log saved to: batch_execution_log_20250722_224836.txt

🎉 All scripts executed successfully!
   19 lessons have been created in the database.
